(function(n){function i(a,d){this.setNotifyMethod(a);this.setNotifyContext(d)}function j(a,d,b){this.name=a;this.body=d;this.type=b}function k(){}function m(){}function l(){this.subCommands=[];this.initializeMacroCommand()}function g(a,d){this.mediatorName=a||this.constructor.NAME;this.viewComponent=d}function h(a,d){this.proxyName=a||this.constructor.NAME;null!=d&&this.setData(d)}function b(a){if(null!=b.instanceMap[a])throw Error(b.MULTITON_MSG);this.initializeNotifier(a);b.instanceMap[a]=this;
this.initializeFacade()}function c(a){if(null!=c.instanceMap[a])throw Error(c.MULTITON_MSG);this.multitonKey=a;c.instanceMap[this.multitonKey]=this;this.mediatorMap=[];this.observerMap=[];this.initializeView()}function e(a){if(e.instanceMap[a])throw Error(e.MULTITON_MSG);this.multitonKey=a;e.instanceMap[a]=this;this.proxyMap=[];this.initializeModel()}function f(a){if(null!=f.instanceMap[a])throw Error(f.MULTITON_MSG);this.multitonKey=a;f.instanceMap[this.multitonKey]=this;this.commandMap=[];this.initializeController()}
function p(a,d,b){for(var a=a.split("."),b=b||o.global,c,e,f=0,g=a.length;f<g;f++)c=b,e=a[f],b=null==b[e]?b[e]={}:b[e];return null==d?b:c[e]=d}null==n&&(n=window);if(!n.puremvc){i.prototype.setNotifyMethod=function(a){this.notify=a};i.prototype.setNotifyContext=function(a){this.context=a};i.prototype.getNotifyMethod=function(){return this.notify};i.prototype.getNotifyContext=function(){return this.context};i.prototype.notifyObserver=function(a){this.getNotifyMethod().call(this.getNotifyContext(),
a)};i.prototype.compareNotifyContext=function(a){return a===this.context};i.prototype.notify=null;i.prototype.context=null;j.prototype.getName=function(){return this.name};j.prototype.setBody=function(a){this.body=a};j.prototype.getBody=function(){return this.body};j.prototype.setType=function(a){this.type=a};j.prototype.getType=function(){return this.type};j.prototype.toString=function(){var a="Notification Name: "+this.getName(),a=a+("\nBody:"+(null==this.body?"null":this.body.toString()));return a+=
"\nType:"+(null==this.type?"null":this.type)};j.prototype.name=null;j.prototype.type=null;j.prototype.body=null;k.prototype.sendNotification=function(a,d,b){var c=this.getFacade();c&&c.sendNotification(a,d,b)};k.prototype.initializeNotifier=function(a){this.multitonKey=""+a;this.facade=this.getFacade()};k.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(k.MULTITON_MSG);return b.getInstance(this.multitonKey)};k.prototype.multitonKey=null;k.MULTITON_MSG="multitonKey for this Notifier not yet initialized!";
m.prototype=new k;m.prototype.constructor=m;m.prototype.execute=function(){};l.prototype=new k;l.prototype.constructor=l;l.prototype.subCommands=null;l.prototype.initializeMacroCommand=function(){};l.prototype.addSubCommand=function(a){this.subCommands.push(a)};l.prototype.execute=function(a){for(;0<this.subCommands.length;){var d=new (this.subCommands.shift());d.initializeNotifier(this.multitonKey);d.execute(a)}};g.NAME="Mediator";g.prototype=new k;g.prototype.constructor=g;g.prototype.getMediatorName=
function(){return this.mediatorName};g.prototype.setViewComponent=function(a){this.viewComponent=a};g.prototype.getViewComponent=function(){return this.viewComponent};g.prototype.listNotificationInterests=function(){return[]};g.prototype.handleNotification=function(){};g.prototype.onRegister=function(){};g.prototype.onRemove=function(){};g.prototype.mediatorName=null;g.prototype.viewComponent=null;h.NAME="Proxy";h.prototype=new k;h.prototype.constructor=h;h.prototype.getProxyName=function(){return this.proxyName};
h.prototype.setData=function(a){this.data=a};h.prototype.getData=function(){return this.data};h.prototype.onRegister=function(){};h.prototype.onRemove=function(){};h.prototype.proxyName=null;h.prototype.data=null;b.prototype.initializeFacade=function(){this.initializeModel();this.initializeController();this.initializeView()};b.getInstance=function(a){if(null==a)return null;null==b.instanceMap[a]&&(b.instanceMap[a]=new b(a));return b.instanceMap[a]};b.prototype.initializeController=function(){if(null==
this.controller)this.controller=f.getInstance(this.multitonKey)};b.prototype.initializeModel=function(){if(null==this.model)this.model=e.getInstance(this.multitonKey)};b.prototype.initializeView=function(){if(null==this.view)this.view=c.getInstance(this.multitonKey)};b.prototype.registerCommand=function(a,d){this.controller.registerCommand(a,d)};b.prototype.removeCommand=function(a){this.controller.removeCommand(a)};b.prototype.hasCommand=function(a){return this.controller.hasCommand(a)};b.prototype.registerProxy=
function(a){this.model.registerProxy(a)};b.prototype.retrieveProxy=function(a){return this.model.retrieveProxy(a)};b.prototype.removeProxy=function(a){var d=null;null!=this.model&&(d=this.model.removeProxy(a));return d};b.prototype.hasProxy=function(a){return this.model.hasProxy(a)};b.prototype.registerMediator=function(a){null!=this.view&&this.view.registerMediator(a)};b.prototype.retrieveMediator=function(a){return this.view.retrieveMediator(a)};b.prototype.removeMediator=function(a){var d=null;
null!=this.view&&(d=this.view.removeMediator(a));return d};b.prototype.hasMediator=function(a){return this.view.hasMediator(a)};b.prototype.sendNotification=function(a,d,b){this.notifyObservers(new j(a,d,b))};b.prototype.notifyObservers=function(a){null!=this.view&&this.view.notifyObservers(a)};b.prototype.initializeNotifier=function(a){this.multitonKey=a};b.hasCore=function(a){return null!=b.instanceMap[a]};b.removeCore=function(a){null!=b.instanceMap[a]&&(e.removeModel(a),c.removeView(a),f.removeController(a),
delete b.instanceMap[a])};b.prototype.controller=null;b.prototype.model=null;b.prototype.view=null;b.prototype.multitonKey=null;b.instanceMap=[];b.MULTITON_MSG="Facade instance for this Multiton key already constructed!";c.prototype.initializeView=function(){};c.getInstance=function(a){if(null==a)return null;null==c.instanceMap[a]&&(c.instanceMap[a]=new c(a));return c.instanceMap[a]};c.prototype.registerObserver=function(a,d){null!=this.observerMap[a]?this.observerMap[a].push(d):this.observerMap[a]=
[d]};c.prototype.notifyObservers=function(a){if(null!=this.observerMap[a.getName()]){for(var d=this.observerMap[a.getName()],b=[],c,e=0;e<d.length;e++)c=d[e],b.push(c);for(e=0;e<b.length;e++)c=b[e],c.notifyObserver(a)}};c.prototype.removeObserver=function(a,d){for(var b=this.observerMap[a],c=0;c<b.length;c++)if(!0==b[c].compareNotifyContext(d)){b.splice(c,1);break}0==b.length&&delete this.observerMap[a]};c.prototype.registerMediator=function(a){if(null==this.mediatorMap[a.getMediatorName()]){a.initializeNotifier(this.multitonKey);
this.mediatorMap[a.getMediatorName()]=a;var d=a.listNotificationInterests();if(0<d.length)for(var b=new i(a.handleNotification,a),c=0;c<d.length;c++)this.registerObserver(d[c],b);a.onRegister()}};c.prototype.retrieveMediator=function(a){return this.mediatorMap[a]};c.prototype.removeMediator=function(a){var d=this.mediatorMap[a];if(d){for(var b=d.listNotificationInterests(),c=0;c<b.length;c++)this.removeObserver(b[c],d);delete this.mediatorMap[a];d.onRemove()}return d};c.prototype.hasMediator=function(a){return null!=
this.mediatorMap[a]};c.removeView=function(a){delete c.instanceMap[a]};c.prototype.mediatorMap=null;c.prototype.observerMap=null;c.instanceMap=[];c.prototype.multitonKey=null;c.MULTITON_MSG="View instance for this Multiton key already constructed!";e.prototype.initializeModel=function(){};e.getInstance=function(a){if(null==a)return null;null==e.instanceMap[a]&&(e.instanceMap[a]=new e(a));return e.instanceMap[a]};e.prototype.registerProxy=function(a){a.initializeNotifier(this.multitonKey);this.proxyMap[a.getProxyName()]=
a;a.onRegister()};e.prototype.retrieveProxy=function(a){return this.proxyMap[a]};e.prototype.hasProxy=function(a){return null!=this.proxyMap[a]};e.prototype.removeProxy=function(a){var b=this.proxyMap[a];b&&(this.proxyMap[a]=null,b.onRemove());return b};e.removeModel=function(a){delete e.instanceMap[a]};e.prototype.proxyMap=null;e.instanceMap=[];e.MULTITON_MSG="Model instance for this Multiton key already constructed!";f.prototype.initializeController=function(){this.view=c.getInstance(this.multitonKey)};
f.getInstance=function(a){if(null==a)return null;null==this.instanceMap[a]&&(this.instanceMap[a]=new this(a));return this.instanceMap[a]};f.prototype.executeCommand=function(a){var b=this.commandMap[a.getName()];null!=b&&(b=new b,b.initializeNotifier(this.multitonKey),b.execute(a))};f.prototype.registerCommand=function(a,b){null==this.commandMap[a]&&this.view.registerObserver(a,new i(this.executeCommand,this));this.commandMap[a]=b};f.prototype.hasCommand=function(a){return null!=this.commandMap[a]};
f.prototype.removeCommand=function(a){this.hasCommand(a)&&(this.view.removeObserver(a,this),this.commandMap[a]=null)};f.removeController=function(a){delete this.instanceMap[a]};f.prototype.view=null;f.prototype.commandMap=null;f.prototype.multitonKey=null;f.instanceMap=[];f.MULTITON_MSG="controller key for this Multiton key already constructed";var o={global:function(){return this}(),extend:function(a,b){if("function"!==typeof a)throw new TypeError("#extend- child should be Function");if("function"!==
typeof b)throw new TypeError("#extend- parent should be Function");if(b!==a){var c=new Function;c.prototype=b.prototype;a.prototype=new c;return a.prototype.constructor=a}},decorate:function(a,b){for(var c in b)a[c]=b[c];return a}};n.puremvc={View:c,Model:e,Controller:f,SimpleCommand:m,MacroCommand:l,Facade:b,Mediator:g,Observer:i,Notification:j,Notifier:k,Proxy:h,define:function(a,b,c){a||(a={});var e=a.name,f=a.parent,g="function"===typeof f,h=a.scope||null;if("parent"in a&&!g)throw new TypeError("Class parent must be Function");
if(a.hasOwnProperty("constructor")){if(a=a.constructor,"function"!==typeof a)throw new TypeError("Class constructor must be Function");}else a=g?function(){f.apply(this,arguments)}:new Function;g&&o.extend(a,f);if(b)g=a.prototype,o.decorate(g,b),g.constructor=a;c&&o.decorate(a,c);if(e){if("string"!==typeof e)throw new TypeError("Class name must be primitive string");p(e,a,h)}return a},declare:p}}})(this);
try{var ce=new window.CustomEvent("test");ce.preventDefault();if(!0!==ce.defaultPrevented)throw Error("Could not prevent default");}catch(e){var CustomEvent=function(d,a){var b,c;a=a||{bubbles:!1,cancelable:!1,detail:void 0};b=document.createEvent("CustomEvent");b.initCustomEvent(d,a.bubbles,a.cancelable,a.detail);c=b.preventDefault;b.preventDefault=function(){c.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(f){this.defaultPrevented=!0}};return b};CustomEvent.prototype=
window.Event.prototype;window.CustomEvent=CustomEvent};
!function(e){var r=e.babelHelpers={};r.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r.jsx=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===u)t.children=o;else if(u>1){for(var f=Array(u),l=0;l<u;l++)f[l]=arguments[l+3];t.children=f}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),r.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var r=e[Symbol.asyncIterator];if(null!=r)return r.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},r.asyncGenerator=function(){function e(e){this.value=e}function r(r){function t(e,r){return new Promise(function(t,o){var a={key:e,arg:r,resolve:t,reject:o,next:null};u?u=u.next=a:(i=u=a,n(e,r))})}function n(t,i){try{var u=r[t](i),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(u.done?"return":"normal",u.value)}catch(e){o("throw",e)}}function o(e,r){switch(e){case"return":i.resolve({value:r,done:!0});break;case"throw":i.reject(r);break;default:i.resolve({value:r,done:!1})}i=i.next,i?n(i.key,i.arg):u=null}var i,u;this._invoke=t,"function"!=typeof r.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new r(e.apply(this,arguments))}},await:function(r){return new e(r)}}}(),r.asyncGeneratorDelegate=function(e,r){function t(t,n){return o=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:r(n)}}var n={},o=!1;return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return o?(o=!1,e):t("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(o)throw o=!1,e;return t("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return t("return",e)}),n},r.asyncToGenerator=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,i){try{var u=r[o](i),a=u.value}catch(e){return void t(e)}return u.done?void e(a):Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}},r.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},r.createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r.defineEnumerableProperties=function(e,r){for(var t in r){var n=r[t];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t,n)}return e},r.defaults=function(e,r){for(var t=Object.getOwnPropertyNames(r),n=0;n<t.length;n++){var o=t[n],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},r.defineProperty=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},r.extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r.get=function e(r,t,n){null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,t);if(void 0===o){var i=Object.getPrototypeOf(r);return null===i?void 0:e(i,t,n)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(n)},r.inherits=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},r.instanceof=function(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r},r.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},r.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r},r.newArrowCheck=function(e,r){if(e!==r)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},r.objectWithoutProperties=function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},r.possibleConstructorReturn=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r},r.selfGlobal="undefined"==typeof e?self:e,r.set=function e(r,t,n,o){var i=Object.getOwnPropertyDescriptor(r,t);if(void 0===i){var u=Object.getPrototypeOf(r);null!==u&&e(u,t,n,o)}else if("value"in i&&i.writable)i.value=n;else{var a=i.set;void 0!==a&&a.call(o,n)}return n},r.slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.slicedToArrayLoose=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var t,n=[],o=e[Symbol.iterator]();!(t=o.next()).done&&(n.push(t.value),!r||n.length!==r););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.taggedTemplateLiteral=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))},r.taggedTemplateLiteralLoose=function(e,r){return e.raw=r,e},r.temporalRef=function(e,r,t){if(e===t)throw new ReferenceError(r+" is not defined - temporal dead zone");return e},r.temporalUndefined={},r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},r.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}}("undefined"==typeof global?self:global);
/*! DOMTokenlist shim | Copyright 2016 Jonathan Wilsson and Bogdan Chadkin. */
"undefined"!=typeof window&&function(e){"use strict";if(e.DOMTokenList){var t=document.createElement("a").classList,n=DOMTokenList.prototype,i=n.add,o=n.remove,r=n.toggle;t.add("c1","c2");var s=function(e){return function(){var t,n=arguments;for(t=0;t<n.length;t+=1)e.call(this,n[t])}};t.contains("c2")||(n.add=s(i),n.remove=s(o)),t.toggle("c1",!0)||(n.toggle=function(e,t){return void 0===t?r.call(this,e):((t?i:o).call(this,e),!!t)})}}(window),"undefined"!=typeof window&&function(e){"use strict";var t=[],n=function(e,n){var i;if(t.indexOf)return t.indexOf.call(e,n);for(i=0;i<e.length;i++)if(e[i]===n)return i;return-1},i=function(e){var t=/[\u0009\u000A\u000C\u000D\u0020]/;if(""===e||t.test(e))throw new Error("Token must not be empty or contain whitespace.")},o=function(e,t){var n,i=this,o=[];if(e&&t&&(i.element=e,i.prop=t,e[t]))for(o=e[t].replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<o.length;n++)i[n]=o[n];i.length=o.length};o.prototype={add:function(){var e,n=this,o=arguments;for(e=0;e<o.length;e++)i(o[e]),n.contains(o[e])||t.push.call(n,o[e]);n.element&&(n.element[n.prop]=n)},contains:function(e){return i(e),-1!==n(this,e)},item:function(e){return this[e]||null},remove:function(){var e,o,r=arguments,s=this;for(o=0;o<r.length;o++)i(r[o]),e=n(s,r[o]),-1!==e&&t.splice.call(s,e,1);s.element&&(s.element[s.prop]=s)},toggle:function(e,t){var n=this;return n.contains(e)?t?!0:(n.remove(e),!1):t===!1?!1:(n.add(e),!0)},toString:function(){return t.join.call(this," ")}},e.DOMTokenList=o}(window),"undefined"!=typeof window&&function(){"use strict";"classList"in document.createElement("a")||Object.defineProperty(Element.prototype,"classList",{get:function(){return new DOMTokenList(this,"className")}})}(),"undefined"!=typeof window&&function(){"use strict";if(!("relList"in document.createElement("a"))){var e,t=[HTMLAnchorElement,HTMLAreaElement,HTMLLinkElement],n=function(){return new DOMTokenList(this,"rel")};for(e=0;e<t.length;e++)Object.defineProperty(t[e].prototype,"relList",{get:n})}}(),"undefined"!=typeof window&&function(){"use strict";if("undefined"!=typeof SVGElement){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");"classList"in e&&!window.QUnit||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return"string"==typeof this.className?new DOMTokenList(this,"className"):"string"==typeof this.className.baseVal?new DOMTokenList(this.className,"baseVal"):void 0}})}}();

"function"!=typeof Object.values&&(Object.values=function(c){return Object.keys(c).map(function(d){return c[d]})});
"function"!=typeof Object.entries&&(Object.entries=function(c){return Object.keys(c).map(function(d){return [d,c[d]]})});
"function"!=typeof Object.assign&&(Object.assign=function(c){if(null==c)throw new TypeError("Cannot convert undefined or null to object");c=Object(c);for(var e=1;e<arguments.length;e++){var b=arguments[e];if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d])}return c});
Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(c,e){if(null==this)throw new TypeError('"this" is null or not defined');var b=Object(this),d=b.length>>>0;if("function"!==typeof c)throw new TypeError("predicate must be a function");for(var a=0;a<d;){if(c.call(e,b[a],a,b))return a;a++}return-1}});
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(c,e){if(null==this)throw new TypeError('"this" is null or not defined');var b=Object(this),d=b.length>>>0;if(0===d)return!1;var a=e|0;for(a=Math.max(0<=a?a:d-Math.abs(a),0);a<d;){var f=b[a],g=c;if(f===g||"number"===typeof f&&"number"===typeof g&&isNaN(f)&&isNaN(g))return!0;a++}return!1}});
String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{value:function(b,a){b>>=0;a=String("undefined"!==typeof a?a:" ");if(this.length>b)return String(this);b-=this.length;b>a.length&&(a+=a.repeat(b/a.length));return a.slice(0,b)+String(this)}});
String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(b,a){"number"!==typeof a&&(a=0);return a+b.length>this.length?!1:-1!==this.indexOf(b,a)}});

/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define(t,n):e[t]=n()}(this,"bowser",function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}function N(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return undefined}}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),o=!s&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),a=!u&&/nexus\s*[0-9]+/i.test(t),f=/CrOS/.test(t),l=/silk/i.test(t),c=/sailfish/i.test(t),h=/tizen/i.test(t),p=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),v=/SamsungBrowser/i.test(t),m=!d&&/windows/i.test(t),g=!i&&!l&&/macintosh/i.test(t),y=!o&&!c&&!h&&!p&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),E=/tablet/i.test(t)&&!/tablet pc/i.test(t),S=!E&&/[^-]mobi/i.test(t),x=/xbox/i.test(t),T;/opera/i.test(t)?T={name:"Opera",opera:e,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?T={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?T={name:"Samsung Internet for Android",samsungBrowser:e,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?T={name:"Opera Coast",coast:e,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?T={name:"Yandex Browser",yandexbrowser:e,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?T={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?T={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?T={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?T={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?T={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?T={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:d?(T={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(T.msedge=e,T.version=b):(T.msie=e,T.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?T={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?T={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?T={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?T={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:c?T={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?T={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(T={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(T.firefoxos=e,T.osname="Firefox OS")):l?T={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?T={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?T={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?T={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(T={name:"WebOS",osname:"WebOS",webos:e,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(T.touchpad=e)):/bada/i.test(t)?T={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:h?T={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?T={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?T={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?T={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?T={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(T={name:"Safari",safari:e},w&&(T.version=w)):i?(T={name:i=="iphone"?"iPhone":i=="ipad"?"iPad":"iPod"},w&&(T.version=w)):/googlebot/i.test(t)?T={name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:T={name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!T.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(T.name=T.name||"Blink",T.blink=e):(T.name=T.name||"Webkit",T.webkit=e),!T.version&&w&&(T.version=w)):!T.opera&&/gecko\//i.test(t)&&(T.name=T.name||"Gecko",T.gecko=e,T.version=T.version||n(/gecko\/(\d+(\.\d+)?)/i)),!T.windowsphone&&(o||T.silk)?(T.android=e,T.osname="Android"):!T.windowsphone&&i?(T[i]=e,T.ios=e,T.osname="iOS"):g?(T.mac=e,T.osname="macOS"):x?(T.xbox=e,T.osname="Xbox"):m?(T.windows=e,T.osname="Windows"):y&&(T.linux=e,T.osname="Linux");var C="";T.windows?C=N(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):T.windowsphone?C=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):T.mac?(C=n(/Mac OS X (\d+([_\.\s]\d+)*)/i),C=C.replace(/[_\s]/g,".")):i?(C=n(/os (\d+([_\s]\d+)*) like mac os x/i),C=C.replace(/[_\s]/g,".")):o?C=n(/android[ \/-](\d+(\.\d+)*)/i):T.webos?C=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):T.blackberry?C=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):T.bada?C=n(/bada\/(\d+(\.\d+)*)/i):T.tizen&&(C=n(/tizen[\/\s](\d+(\.\d+)*)/i)),C&&(T.osversion=C);var k=!T.windows&&C.split(".")[0];if(E||a||i=="ipad"||o&&(k==3||k>=4&&!S)||T.silk)T.tablet=e;else if(S||i=="iphone"||i=="ipod"||o||u||T.blackberry||T.webos||T.bada)T.mobile=e;return T.msedge||T.msie&&T.version>=10||T.yandexbrowser&&T.version>=15||T.vivaldi&&T.version>=1||T.chrome&&T.version>=20||T.samsungBrowser&&T.version>=4||T.firefox&&T.version>=20||T.safari&&T.version>=6||T.opera&&T.version>=10||T.ios&&T.osversion&&T.osversion.split(".")[0]>=6||T.blackberry&&T.version>=10.1||T.chromium&&T.version>=20?T.a=e:T.msie&&T.version<10||T.chrome&&T.version<20||T.firefox&&T.version<20||T.safari&&T.version<6||T.opera&&T.version<10||T.ios&&T.osversion&&T.osversion.split(".")[0]<6||T.chromium&&T.version<20?T.c=e:T.x=e,T}function r(e){return e.split(".").length}function i(e,t){var n=[],r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function s(e){var t=Math.max(r(e[0]),r(e[1])),n=i(e,function(e){var n=t-r(e);return e+=(new Array(n+1)).join(".0"),i(e.split("."),function(e){return(new Array(20-e.length)).join("0")+e}).reverse()});while(--t>=0){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(t===0)return 0}}function o(e,r,i){var o=n;typeof r=="string"&&(i=r,r=void 0),r===void 0&&(r=!1),i&&(o=t(i));var u=""+o.version;for(var a in e)if(e.hasOwnProperty(a)&&o[a]){if(typeof e[a]!="string")throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return s([u,e[a]])<0}return r}function u(e,t,n){return!o(e,t,n)}var e=!0,n=t(typeof navigator!="undefined"?navigator.userAgent||"":"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if(typeof r=="string"&&r in n)return!0}return!1},n.isUnsupportedBrowser=o,n.compareVersions=s,n.check=u,n._detect=t,n.detect=t,n});

!function(t,e){if(!t.ES6Promise){t.ES6Promise=e();t.ES6Promise.polyfill()}}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return"undefined"!=typeof H?function(){H(a)}:c()}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=require,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return it.error=e,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),P(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(P,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function M(t,e){try{return t(e)}catch(n){return st.error=n,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=M(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof require?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new T,st=new T,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,"catch":function(t){return this.then(null,t)}},U.polyfill=W,U.Promise=U,U});

(function(){function Fd(){var a,b,c,d=this;b=null;this.getSDK=function(){return b};this.setSDK=function(c){var d;b=c;a();for(d in b)c=b[d],window[d]=c;return b};this.saveSDK=function(a,b){var d,e;if(null!=b&&null!=a&&""!==a){if(null==b.main)for(d in b)if(e=b[d],(null!=e?e.VERSION:void 0)===a){b.main=e;break}null==b.version&&(b.version=a);c.push(b);return this[a]=b}};c=[];this.getVersions=function(){return c.slice()};this.getVersion=function(a){return this[a]};this.setVersion=function(a){b=this.getVersion(a);
if(null==b)return null;this.setSDK(b);return b};this.revert=function(){return this.setSDK(c[0])};this.noConflict=function(){var a;a=this.getSDK();this.revert();return a};this.create=function(){var a;a=function(a,b){this.prototype=a.prototype;return a.apply(this,b)};return function(c){return new a(b.main,arguments)}}();a=function(){var a,c,e;if(null!=(c=window.com)&&null!=(e=c.akamai)&&e.amp)for(a in window)if(c=window[a],(c===window.AMP||c===window.AMPremier)&&null!=(null!=c?c.VERSION:void 0)&&""!==
c.VERSION&&c.VERSION!==(null!=b?b.version:void 0)&&null==d[c.VERSION]){a={};a.main=c;a.com=window.com;window.AMP&&(a.AMP=window.AMP);window.AMPPremier&&(a.AMPremier=window.AMPPremier);window.Utils&&(a.Utils=window.Utils);window.QueryString&&(a.QueryString=window.QueryString);window.QueryParams&&(a.QueryParams=window.QueryParams);d.saveSDK(c.VERSION,a);break}};a()}var Jb;null==window.AKAMAI_MEDIA_PLAYER&&(window.AKAMAI_MEDIA_PLAYER=new Fd);if(null==window.AKAMAI_MEDIA_PLAYER["AMP v4.123.14"]){Jb=
window.AKAMAI_MEDIA_PLAYER["AMP v4.123.14"]={};var Gd=function(a){return{}.hasOwnProperty(a)},h=function(a,b){function c(){this.constructor=a}for(var d in b)Gd.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},wc=function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},Hd=function(a,b){return function(){return a.apply(b,arguments)}},ra=function(a){this._target=null!=a?a:this;this._listenerMap=
{}};ra.prototype.addEventListener=function(a,b,c){null!=b&&null!=a&&(null==this._listenerMap[a]&&(this._listenerMap[a]=[]),-1===this._listenerMap[a].indexOf(b)&&this._listenerMap[a].push(b))};ra.prototype.once=function(a,b){b.once=!0;this.addEventListener(a,b)};ra.prototype.dispatchEvent=function(a){var b,c,d,g,p,e;d=this._listenerMap[a.type];c=this._target["on"+a.type];a.target=this._target;null!=c&&c.apply(this._target,[a]);if(null!=d)for(e=d.slice(),b=g=0,p=e.length;g<p;b=++g)c=e[b],c.apply(this._target,
[a]),!0===c.once&&d.splice(b,1)};ra.prototype.dispatch=function(a,b){this.dispatchEvent(new F(a,b))};ra.prototype.removeEventListener=function(a,b,c){if(null!=b&&null!=a&&(a=this._listenerMap[a],null!=a&&(b=null!=a?a.indexOf(b):void 0,-1!==b)))return a.splice(b,1)};ra.prototype.destroy=function(){return this._target=this._listenerMap=null};var ia=function(a,b,c){var d=this;this.delay=a;this.repeatCount=null!=b?b:0;this.timerGroup=null!=c?c:wa.create(ia.GROUP);ia.__super__.constructor.call(this);this._running=
!1;this._currentCount=0;this._startTime=this._timeout=null;this._currentTime=0;this.tick=this.tick.bind(this);this.next=this.timerGroup.setTimeout.bind(this.timerGroup,this.tick,this.delay);Object.defineProperties(this,{currentCount:{get:function(){return d._currentCount},enumerable:!0,configurable:!1},running:{get:function(){return d._running},enumerable:!0,configurable:!1},time:{get:function(){return d._currentTime+(Date.now()-d._startTime)},enumerable:!0,configurable:!1}})};h(ia,ra);ia.TIMER="timer";
ia.COMPLETE="complete";ia.GROUP="default_"+Date.now();ia.create=function(a,b,c){return new ia(a,b,c)};ia.prototype.reset=function(){this.stop();this._currentTime=this._currentCount=0;this._startTime=null};ia.prototype.start=function(){var a;!0!==this._running&&(a=this.delay-(this._currentTime-this.delay*this._currentCount),this._running=!0,this._timeout=this.timerGroup.setTimeout(this.tick,a))};ia.prototype.stop=function(){!1!==this._running&&(this.timerGroup.clearTimeout(this._timeout),this._currentTime+=
Date.now()-this._startTime,this._timeout=null,this._running=!1)};ia.prototype.tick=function(){var a;this.timerGroup.clearTimeout(this._timeout);a=0!==this.repeatCount&&this._currentCount>=this.repeatCount;this._currentCount++;this._currentTime+=this.delay;this._startTime=Date.now();!1===a&&(this._timeout=this.next());this.dispatchEvent(new F(ia.TIMER,this));!0===a&&(this.stop(),this.dispatchEvent(new F(ia.COMPLETE,this)))};ia.prototype.destroy=function(){ia.__super__.destroy.call(this);this.next=
null;this.timerGroup.clearTimeout(this._timeout)};var f=function(){};f.blankVideo=function(){return"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAA4dtZGF03gIATGF2YzU4LjE4LjEwMAADTEUBRwAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNTIgcjI4NTQgZTlhNTkwMyAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTcgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz00IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9NTEuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAABdliIQB/yQNzkAAAAMDTQ2noyNKAABWQQEiIoSv2+3FjX75AOABMCKMrVQJfY/6gsHAAT4ijGAn3wZK/MluATYijK4zz4Ha8HrAOAEyIpBANwP8JoGVwAE2IohANYpwhu4BPiKEr6/8LDb7tQHAAToikEA3sHi/fq4BOCKMr6545Etn+0AOATIijK4qUO37X1ywcAE0IpBANADQdFm4AUIiiEA3wEFl48ABMiKQQDYDWuQV+AAABWdtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAFFQABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAACLHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAIgAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAA+OOOAIwAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAACIAAAAAAAEAAAAAAaRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAHUwAAAD6VXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFPbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABD3N0YmwAAACrc3RzZAAAAAAAAAABAAAAm2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAA8ACMAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA1YXZjQwFkAAz/4QAcZ2QADKzZQ8T+//ABwAGxAAADA+kAAOpgDxQplgEABmjr4GUsiwAAABBwYXNwAAAAHAAAABsAAAAYc3R0cwAAAAAAAAABAAAAAQAAA+kAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAACzQAAAAEAAAAUc3RjbwAAAAAAAAABAAAARgAAAmV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABRUAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAS4AAAEAAABAAAAAAHdbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAArEQAAOAAVxwAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABiG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABTHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAArEQAAAAAANmVzZHMAAAAAA4CAgCUAAgAEgICAF0AVAAAAAAAERwAABEcFgICABRUIVuUABoCAgAECAAAAGHN0dHMAAAAAAAAAAQAAAA4AAAQAAAAAKHN0c2MAAAAAAAAAAgAAAAEAAAABAAAAAQAAAAIAAAANAAAAAQAAAExzdHN6AAAAAAAAAAAAAAAOAAAAFgAAAA0AAAANAAAADAAAAA0AAAAMAAAACgAAAA0AAAALAAAADQAAAA0AAAALAAAACwAAAAsAAAAYc3RjbwAAAAAAAAACAAAAMAAAAxMAAAAac2dwZAEAAAByb2xsAAAAAgAAAAH//wAAABxzYmdwAAAAAHJvbGwAAAABAAAADgAAAAEAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU4LjEyLjEwMA\x3d\x3d"};
f.mimeTypes={mp4:"video/mp4",flv:"video/x-flv",f4m:"video/f4m",smil:"application/smil",smilxml:"application/smil+xml",m3u8:"application/x-mpegURL",mp3:"audio/mpeg",json:"application/json",txt:"text/plain",xml:"application/xml",ogv:"video/ogg",webm:"video/webm",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",js:"text/javascript",css:"text/css",swf:"application/x-shockwave-flash",vtt:"text/vtt",ttml:"application/ttml+xml",srt:"application/x-subrip",cea608:"text/cea-608",cea708:"text/cea-708"};
f.flashTypes=[f.mimeTypes.mp4,f.mimeTypes.flv,f.mimeTypes.f4m,f.mimeTypes.smil,f.mimeTypes.smilxml];f.rules={flashTablets:{label:"Android 2 \x26 3 or Kindle Fire 1",regexp:"Android [23]|Silk/1"},html5Phones:{label:"iPhone",regexp:"iPhone"},html5Tablets:{label:"HTML5 Tablets",regexp:"iPad|Android [4-9]|Silk/2"},desktop:{label:"Desktop",regexp:"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$"}};f.getPlaybackMode=function(a){var b,c,d;null==a&&(a=(null!=(c=ja["amp-mode"])?c.toLowerCase():void 0)||
sa.HTML_AUTO);c=!1;for(b in sa)if(d=sa[b],d===a){c=!0;break}c||(a=sa.AUTO);a===sa.HTML_AUTO&&(a=this.isHTMLFirst()?sa.HTML:sa.AUTO);if(a!==sa.AUTO)return a!==sa.FLASH||this.hasFlash()&&"undefined"!==typeof n||(a=this.supportsHTML5Video()?sa.HTML:sa.NONE),a;this.hasFlash()||(a=this.supportsHTML5Video()?sa.HTML:sa.NONE);a===sa.AUTO&&(a=this.isHTML5()?sa.HTML:sa.FLASH);return a};f.getIEVersion=function(){var a,b,c;b=-1;c=navigator.userAgent;"Microsoft Internet Explorer"===navigator.appName?a=/MSIE ([0-9]{1,}[.0-9]{0,})/:
"Netscape"===navigator.appName?a=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/:/Edge\/[0-9\.]+$/.test(c)&&(a=/Edge\/([0-9\.]+)/);null!=(null!=a?a.exec(c):void 0)&&(b=parseFloat(RegExp.$1));return b};f.getEdgeVersion=function(){var a;a=-1;/Edge\/([\d]+)/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a};f.getFFVersion=function(){var a;a=-1;/Firefox\/([0-9\.]+)$/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a};f.getSafariVersion=function(){var a,b;a=-1;b=navigator.userAgent;/Safari\/[0-9\.]+$/.test(b)&&
null!=/Version\/([0-9]+\.[0-9]+)/.exec(b)&&(a=parseFloat(RegExp.$1));return a};f.isChrome=function(){return/Chrom(e|ium)/.test(navigator.userAgent)};f.getChromeVersion=function(){var a,b;a=-1;b=navigator.userAgent;/Chrome( Mobile)?\/([0-9\.]+)/.test(b)&&(a=parseFloat(b.match(/Chrome( Mobile)?\/([0-9\.]+)/)[2].split(".").slice(0,2).join(".")));return a};f.isHTMLFirst=function(){return null!=window.MediaSource};f.mergeRules=function(a){var b,c,d;d=[];for(b in a)c=a[b],d.push(f.rules[b]=c);return d};
f.checkRules=function(a){var b,c,d;if(null!=a&&0<a.length)for(c=0,d=a.length;c<d;c++)if(b=a[c],b=f.rules[b])if(b=RegExp(b.regexp),b.test(navigator.userAgent))return!0;return!1};f.selectSource=function(a,b){var c,d,g,p;d=a.source;g=0;for(p=d.length;g<p;g++)if(c=d[g],f.checkRules(c.rules))return c;g=0;for(p=d.length;g<p;g++)if(c=d[g],c=Object.assign({},a,c),null==c.type&&(c.type=f.getMimeType(c.src)),b(c))return c;return null};f.getSourceByType=function(a,b){var c,d,g,p;d=null!=a.source?a.source.slice():
[];null==a.type&&(a.type=f.getMimeType(a.src));d.push(a);g=0;for(p=d.length;g<p;g++)if(c=d[g],c.type===b)return c;return null};f.getMimeType=function(a){return this.mimeTypes[f.getFileExtension(a)]};f.selectTrack=function(a,b){var c,d,g,p;g=0;for(p=a.length;g<p;g++)if(c=a[g],c.kind===b){d=c;break}return d};f.isIPhone=function(){return/iPhone/.test(navigator.platform)||/iPhone/.test(navigator.userAgent)};f.isIPad=function(){return/iPad/.test(navigator.platform)||/iPad/.test(navigator.userAgent)};f.isAndroid=
function(){return/Android [4-9]/.test(navigator.userAgent)};f.isKindleFireHD=function(){return/Silk\/2/.test(navigator.userAgent)};f.isKindleFire=function(){return/Silk\/1/.test(navigator.userAgent)};f.isBlackBerry=function(){return/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent)};f.isFirefoxOS=function(){return/\(Mobile;.*Firefox\//.test(navigator.userAgent)};f.supportsHTML5Video=function(){return null!=document.createElement("video").canPlayType};f.isHTML5=function(){return this.isIOS()||this.isAndroid()||
this.isKindleFireHD()||this.isBlackBerry()||this.isFirefoxOS()};f.isIOS=function(){var a;a=/iP(hone|od|ad)/i;return a.test(navigator.platform)||a.test(navigator.userAgent)};f.getIOSversion=function(){var a;if(this.isIOS()&&(a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),null==a&&navigator.appVersion.match(/Version\/(\d+)\.(\d+)/),null!=a))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]};f.hasFlash=function(){var a;try{a=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(b){a=
"undefined"!==typeof navigator.mimeTypes["application/x-shockwave-flash"]}return a};f.isFullscreenDevice=function(){return this.isKindleFireHD()||this.isIPhone()};f.getDevice=function(){var a;a="desktop";this.isIPhone()?a="iphone":this.isIPad()?a="ipad":/Android/.test(navigator.userAgent)?a="android":this.isKindleFireHD()?a="kindlefirehd":this.isKindleFire()&&(a="kindlefire");return a};f.xmlToJson=function(a){var b,c,d,g,p;d={};9===a.nodeType&&(a=a.firstChild);if(1===a.nodeType){if(0<a.attributes.length)for(d["@attributes"]=
{},c=a.attributes,b=g=0,p=c.length;g<p;b=++g)b=c[b],d["@attributes"][b.nodeName]=b.nodeValue}else if(3===a.nodeType||4===a.nodeType)d=a.nodeValue;if(a.hasChildNodes())for(p=a.childNodes,b=a=0,g=p.length;a<g;b=++a)if(c=p[b],3!==c.nodeType||/\S/.test(c.nodeValue))b=c.nodeName.replace(/:/,"-"),c=this.xmlToJson(c),null==c["@attributes"]&&null!=c["#text"]&&(c=c["#text"]),null==d[b]?d[b]=c:(d[b]instanceof Array||(d[b]=[d[b]]),d[b].push(c));return d};f.getXHR=function(){return new XMLHttpRequest};f.getUTC=
function(){return this.request("//time.akamai.com").then(function(a){return 1E3*parseFloat(a.responseText)})};f.request=function(a){var b=this;null==a&&(a={});return new Promise(function(c,d){var g,p,e,l;"string"===typeof a&&(a={url:a});null==a.method&&(a.method="GET");e=a.url;null!=a.query&&(p=/\?/.test(e)?"\x26":"?",e+=p+ja.encode(a.query));l=b.getXHR();l.open(a.method,e);l.onload=function(){!1!==a.checkStatus&&399<l.status&&d(""+l.status+": "+l.statusText);c(l)};l.onerror=function(a){return d(a)};
l.withCredentials=a.withCredentials;if(null!=a.responseType)try{l.responseType=a.responseType}catch(f){}if(null!=a.headers)for(g in e=a.headers,e)p=e[g],null!=g&&null!=p&&l.setRequestHeader(g,p);return l.send(a.data||a.body)})};f.requestText=function(a){null==a&&(a={});return this.request(a).then(function(a){return a.responseText})};f.requestJson=function(a){null==a&&(a={});return this.requestText(a).then(function(a){return JSON.parse(a)})};f.jsonp=function(a,b){var c=this;return new Promise(function(d,
g){window[b]=d;return c.loadScript(a).then(function(a){a.parentNode.removeChild(a);window[b]=null;try{delete window[b]}catch(c){}})["catch"](g)})};f.loadScript=function(a,b){return new Promise(function(c,d){var g,p;g=b||document.getElementsByTagName("head")[0];p=document.createElement("script");p.type="text/javascript";p.addEventListener?(p.onload=function(){c(p)},p.onerror=function(a){d(a)}):p.readyState&&(p.onreadystatechange=function(a){if("loaded"===this.readyState||"complete"===this.readyState)this.onreadystatechange=
null,c(p)});p.src=a;g.appendChild(p)})};f.loadStyleSheet=function(a){var b,c;b=document.getElementsByTagName("head")[0];c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=a;return b.appendChild(c)};f.loadImage=function(a){return new Promise(function(b,c){var d;try{return d=document.createElement("img"),d.onload=function(a){return b(d)},d.onerror=function(a){return c(a)},d.src=a}catch(g){return c(g)}})};f.getFileExtension=function(a){null==a&&(a="");return a.replace(/\?.*/,
"").replace(/\#.*/,"").split(".").pop()};f.isTouch=null;f.isTouchDevice=function(){if(null==this.isTouch)try{document.createEvent("TouchEvent"),this.isTouch=!0}catch(a){this.isTouch=!1}return this.isTouch};f.clamp=function(a,b,c){a<b&&(a=b);a>c&&(a=c);return a};f.beacon=function(a,b){var c;null==b&&(b="beaconId");c=document.getElementById(b);null==c&&(c=document.createElement("img"),c.setAttribute("id",b),c.setAttribute("height",0),c.setAttribute("width",0),document.body.appendChild(c),c.style.display=
"none");c.setAttribute("src",a);return c};f.getElementOffset=function(a,b){var c,d,g,p,e,l;null==b&&(b=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement);e=d=0;l=a.offsetWidth;for(c=a.offsetHeight;a&&a!==b;)"BODY"===a.tagName?(g=a.scrollLeft||document.documentElement.scrollLeft,p=a.scrollTop||document.documentElement.scrollTop,d+=a.offsetLeft-g+a.clientLeft,e+=a.offsetTop-p+a.clientTop):(d+=a.offsetLeft-a.scrollLeft+a.clientLeft,
e+=a.offsetTop-a.scrollTop+a.clientTop),a=a.offsetParent;return{left:d,top:e,width:l,height:c}};f.override=function(a,b,c){var d;null==c&&(c=!0);if(null==a)return b;if(null==b)return a;!0===c&&(a=f.clone(a),b=f.clone(b));for(d in b)c=b[d],"object"===typeof a[d]&&"object"===typeof c&&null!=c?(null==a[d]&&(a[d]=c instanceof Array?[]:{}),a[d]=f.override(a[d],c,!1)):a[d]=c;return a};f.diff=function(a,b){var c,d,g,p;if(null==b)return null;if(null==a&&null!=b)return b;c={};for(g in b)if(p=b[g],(d=a[g])!==
p)if(null==d)c[g]=p;else switch(typeof p){case "string":case "number":case "boolean":case "function":c[g]=p;break;case "object":p instanceof Array?d.length!==p.length&&(c[g]=p):(d=this.diff(d,p),null!=d&&(c[g]=d))}return 0===Object.keys(c).length?null:c};f.clone=function(a,b){var c,d,g,p,e,l,f;null==b&&(b=!0);if(null==a)return a;if("object"!==typeof a)c=a;else for(p in c=a instanceof Array?[]:{},a)if(e=a[p],"object"===typeof e&&null!==e&&!0===b)if(e instanceof Array)for(c[p]=[],l=0,f=e.length;l<f;l++)d=
e[l],c[p].push(this.clone(d));else for(g in c[p]={},e)d=e[g],c[p][g]=this.clone(d);else c[p]=e;return c};f.formatTimecode=function(a,b){var c;a=parseInt(a);if(isNaN(a))return"00:00";c=f.formatZeroFill(a%60);a=parseInt(a/60);c=f.formatZeroFill(a%60)+":"+c;a=parseInt(a/60);0<a&&(c=f.formatZeroFill(a)+":"+c);3600<=b&&5===c.length&&(c="00:"+c);return c};f.formatZeroFill=function(a,b){null==b&&(b=2);return a.toString().padStart(b,"0")};f.toDate=function(a){return a instanceof Date?a:new Date(a)};f.formatTime=
function(a,b,c){var d,g,p,e,l,f;null==b&&(b="h:mm:ss A");null==c&&(c={timezone:"",offset:-((new Date).getTimezoneOffset()/60)});a=this.toDate(a);null!=c.offset&&0!==c.offset&&(a=new Date(a.getTime()+Math.round(36E5*c.offset)));if(!isNaN(a.getTime())){d=a.getUTCHours();e=a.getUTCMinutes();l=a.getUTCSeconds();p=a.getUTCMilliseconds();f=d%12||12;a=12>d?"am":"pm";c={hh:this.formatZeroFill(f),h:f,HH:this.formatZeroFill(d),H:d,mm:this.formatZeroFill(e),m:e,sss:this.formatZeroFill(p,3),ss:this.formatZeroFill(l),
s:l,a:a,A:a.toUpperCase(),z:c.timezone};for(g in c)d=c[g],b=b.replace(g,d);return b}};f.flattenTimecode=function(a,b){var c,d,g;null==b&&(b=30);if(null==a||""===a)return NaN;g=a.split(":");c=0;4===g.length?c=parseInt(g.pop())/b:3===g.length&&(g[2]=g[2].replace(",","."),-1!==g[2].indexOf(".")&&(d=g[2].split(".")),1<(null!=d?d.length:void 0)&&(g[2]=d[0],c=parseInt(d[1])/1E3));for(d=parseInt(g.pop());0<g.length;)d+=Math.pow(60,g.length)*parseInt(g.shift());return d+c};f.cacheBust=function(a,b,c){var d;
null==b&&(b="cacheBust");null==c&&(c=Date.now());d=-1===a.indexOf("?")?"?":"\x26";return a+d+b+"\x3d"+c};f.formatStyleName=function(a){return a.replace(/([A-Z])/,"-$1").toLowerCase()};f.trim=function(a){return a.replace(/^\s*(.*)/,"$1").replace(/(.*)\s*$/,"$1")};f.getFeed=function(a){return this.request(a).then(function(a){return"document"===a.responseType||/^</.test(a.responseText)?f.xmlToJson(a.responseXML):JSON.parse(a.responseText)})};f.getSource=function(a,b,c){var d;d=f.getPlaybackMode();f.getFeed(a).then(function(a){var c,
e;a=(new mb).createFeed(a);0<(null!=a?null!=(e=a.item)?e.length:void 0:void 0)&&(c=function(a){return"flash"===d&&-1!==f.flashTypes.indexOf(a)||"html"===d&&-1===f.flashTypes.indexOf(a)?"maybe":""},c=f.selectSource(a.item[0].source,c));"function"===typeof b&&b(c)})["catch"](c)};f.trackMouse=function(){var a=this;try{document.addEventListener("mousemove",this.mouseTracker),document.documentElement.addEventListener("mouseleave",function(b){if(null===b.relatedTarget)return a.doc=!1}),document.documentElement.addEventListener("mouseenter",
function(b){if(null===b.relatedTarget)return a.doc=!0})}catch(b){}};f.clientX=0;f.clientY=0;f.pageX=0;f.pageY=0;f.doc=!0;f.mouseTracker=function(a){f.clientX=a.clientX;f.clientY=a.clientY;f.pageX=a.pageX;f.pageY=a.pageY};f.isMouseOverElement=function(a){var b;b=!1;if(null==a)return b;try{b=a.contains(document.elementFromPoint(f.clientX,f.clientY))}catch(c){b=!1}return b};f.trackMouse();f.isMouseOverDocument=function(){return this.doc};f.getActualSize=function(a,b){var c,d,g;null==b&&(b=!0);g=a.offsetWidth;
c=a.offsetHeight;!0===b&&(d=getComputedStyle(a),g+=parseInt(d.marginLeft)+parseInt(d.marginRight),c+=parseInt(d.marginTop)+parseInt(d.marginBottom));return{width:g,height:c}};f.isVolumeSettable=function(){var a,b;b=navigator.userAgent.toLowerCase();a=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(b);return null==a||"android"===a[0]&&/Firefox/.test(b)?!0:!1};f.createFlashObject=function(a,b){var c,d,g,p,e,l;if(null!=a){e={allowFullScreen:!0,allowScriptAccess:"always",
wmode:"direct",bgColor:"#000000"};f.override(e,a.params,!1);if(null!=a.vars){g=[];l=a.vars;for(p in l)d=l[p],g.push(""+p+"\x3d"+d);e.flashvars=g.join("\x26")}d=(null!=(c=a.attributes)?c.id:void 0)||this.createUID();c={id:d,name:d,width:"100%",height:"100%",type:"application/x-shockwave-flash"};f.override(c,a.attributes,!1);-1!==this.getIEVersion()&&"direct"===e.wmode&&(e.wmode="transparent");g="\x3cobject ";for(p in c)d=c[p],g+=""+p+'\x3d"'+d+'" ';g+="\x3e\n";for(p in e)d=e[p],g+='\x3cparam name\x3d"'+
p+'" value\x3d"'+d+'" /\x3e\n';b.innerHTML=g+"\x3c/object\x3e"}};f.createUID=function(a,b){var c,d,g,p;null==a&&(a=16);null==b&&(b=32);c=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};d="";g=0;for(p=a-1;0<=p?g<=p:g>=p;0<=p?++g:--g)d+=c(0,b-1).toString(b).toUpperCase();if(!0===this.uids[d])return this.createUID(a,b);this.uids[d]=!0;return d};f.uids={};f.chain=function(a,b){var c,d,g,p;c=Promise.resolve(b);g=0;for(p=a.length;g<p;g++)d=a[g],c=c.then(d);return c};f.first=function(a,b){var c=
this;return Promise.resolve(b).then(a.shift()).then(function(a){return a})["catch"](function(d){return 0<a.length?c.first(a,b):null})};f.transform=function(a,b){var c,d,g,p;if(null==b||0===b.length)return Promise.resolve(a);b=b.map(function(a){return"function"===typeof a.transform?a.transform:a});d=0;g=b.length-1;p=function(a){d++;return c(a)};c=function(a){var c;c=b[d];if("function"!==typeof c)throw Error("Transform must be a valid function");return Promise.resolve(c(a,p)).then(function(a){return d<
g?p(a):a})};return c(a)};f.arrayBufferToString=function(a){return String.fromCharCode.apply(null,new Uint8Array(a))};f.parseJWT=function(a){a=a.split(".");return{header:JSON.parse(atob(a[0])),payload:JSON.parse(atob(a[1])),signature:a[2]}};f.getFullScreenApi=function(a,b){var c;c={};null!=a.webkitRequestFullScreen?(c.enter=a.webkitRequestFullScreen.bind(a),c.exit=null!=document.webkitExitFullscreen?document.webkitExitFullscreen.bind(document):document.webkitCancelFullScreen.bind(document),c.event=
"onwebkitfullscreenchange",c.element="webkitFullscreenElement",c.error="webkitfullscreenerror"):null!=a.requestFullscreen?(c.enter=a.requestFullscreen.bind(a),c.exit=null!=document.exitFullscreen?document.exitFullscreen.bind(document):document.cancelFullscreen.bind(document),c.event="onfullscreenchange",c.element="fullscreenElement",c.error="fullscreenerror"):null!=a.mozRequestFullScreen?(c.enter=a.mozRequestFullScreen.bind(a),c.exit=document.mozCancelFullScreen.bind(document),c.event="onmozfullscreenchange",
c.element="mozFullscreenElement",c.error="mozfullscreenerror"):null!=a.msRequestFullscreen?(c.enter=a.msRequestFullscreen.bind(a),c.exit=document.msExitFullscreen.bind(document),c.event="onmsfullscreenchange",c.element="msFullscreenElement",c.error="MSFullscreenError"):null!=b.webkitEnterFullscreen&&(c.enter=b.webkitEnterFullscreen.bind(b),c.exit=b.webkitExitFullscreen.bind(b),c.event=null,c.error=null);return c};f.stringToArray=function(a){var b,c,d,g;b=new ArrayBuffer(2*a.length);b=new Uint16Array(b);
c=d=0;for(g=a.length-1;0<=g?d<=g:d>=g;c=0<=g?++d:--d)b[c]=a.charCodeAt(c);return b};f.arrayToString=function(a){return String.fromCharCode.apply(null,new Uint16Array(a.buffer))};f.base64DecodeUint8Array=function(a){var b,c,d,g;c=window.atob(a);d=c.length;a=new Uint8Array(new ArrayBuffer(d));b=g=0;for(d-=1;0<=d?g<=d:g>=d;b=0<=d?++g:--g)a[b]=c.charCodeAt(b);return a};f.base64EncodeUint8Array=function(a){for(var b="",c,d,g,p,e,l,f=0;f<a.length;)c=a[f++],d=f<a.length?a[f++]:Number.NaN,g=f<a.length?a[f++]:
Number.NaN,p=c>>2,c=(c&3)<<4|d>>4,e=(d&15)<<2|g>>6,l=g&63,isNaN(d)?e=l=64:isNaN(g)&&(l=64),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(p)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(l);return b};f.getKeySystem=function(){var a;a=navigator.userAgent;return/Edge/.test(a)||
/Trident/.test(a)?"com.microsoft.playready":/Chrome/.test(a)||/Firefox/.test(a)?"com.widevine.alpha":"com.apple.fps.1_0"};f.isAutoplaySupported=function(){var a;a=!0;this.isIOS()&&(-1!==this.getSafariVersion()?a=10<=this.getIOSversion()[0]:this.isChrome()&&(a=53<=this.getChromeVersion()));this.isChrome()&&this.isAndroid()&&(a=53<=this.getChromeVersion());return a};f.fieldIsUnique=function(a,b,c){var d,g,p,e;g=!0;d=p=0;for(e=a.length;p<e;d=++p)if(d=a[d],null!==d&&void 0!==d&&null!==d[b]&&void 0!==
d[b]&&d[b].toString().toLowerCase()===c.toString().toLowerCase()){g=!1;break}return g};f.toCamelCase=function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})};f.toHyphenated=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a[0].toLowerCase()})};f.createElement=function(a,b,c,d){var g,p,e,l;null==d&&(d="div");"string"===typeof d&&(d=document.createElement(d));g=d.classList;if(null!=a)for("string"===typeof a&&(a=[a]),e=0,l=a.length;e<l;e++)p=a[e],g.add(p);null!=
c&&(d.textContent=c);null!=b&&b.appendChild(d);return d};f.getViewability=function(a){var b,c,d,g,p,e;d=a.getBoundingClientRect();e=window.innerWidth||document.documentElement.clientWidth;b=window.innerHeight||document.documentElement.clientHeight;p=0<=d.top;c=0<=d.left;a=d.bottom<=b;g=d.right<=e;switch(!0){case p&&c&&a&&g:return"full";case !p&&0>=d.bottom||!c&&0>=d.right||!g&&d.left>=e||!a&&d.top>=b:return"none";case p||c||a||g:return"partial"}};f.isViewable=function(a){return"full"===this.getViewability(a)};
f.timerGroup=function(a,b){var c;null==b&&(b=!1);null==this.timerGroups&&(this.timerGroups={});if(!0===b)null!=(c=this.timerGroups[a])&&c.destroy(),delete this.timerGroups[a];else return null==this.timerGroups[a]&&(this.timerGroups[a]=wa.create(a)),this.timerGroups[a]};var V=function(a){this.enabled=a;this.enabled||(this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=function(){})};V.prototype.log=function(){try{1<arguments.length&&null!=arguments[1]?console.log.apply(console,
arguments):console.log(arguments[0])}catch(a){}};V.prototype.trace=function(){try{console.trace.apply(console,arguments)}catch(a){}};V.prototype.debug=function(){try{console.log.apply(console,arguments)}catch(a){this.log.apply(this,arguments)}};V.prototype.info=function(){try{console.info.apply(console,arguments)}catch(a){}};V.prototype.warn=function(){try{console.warn.apply(console,arguments)}catch(a){}};V.prototype.error=function(){try{console.error.apply(console,arguments)}catch(a){this.log.apply(this,
arguments)}};V.prototype.fatal=function(){try{console.fatal.apply(console,arguments)}catch(a){}};var F=function(a,b){this.type=a;null!=b&&(this.detail=this.data=b)};F.create=function(a,b){return new F(a,b)};F.prototype.type=null;F.prototype.target=null;F.prototype.detail=null;var pa=function(){};pa.createTextContent=function(a,b){return/[\&<>]/.test(b)?a.createCDATASection(b):a.createTextNode(b)};pa.updateTextContent=function(a,b){var c;c=pa.createTextContent(a.ownerDocument,b);a.removeChild(a.childNodes[0]);
a.appendChild(c);return a};pa.serialize=function(a){var b;if(null!=a){if("string"===typeof a)return a;try{return b=new XMLSerializer,b.serializeToString(a)}catch(c){try{return document.implementation.createLSSerializer(),xmlSerializer.writeToString(a)}catch(d){try{return a.xml}catch(g){}}}}};pa.parse=function(a){var b;window.DOMParser?(b=new DOMParser,b=b.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a));return b};var ja=function(){};ja.construct=function(){var a,
b,c,d;d=this.decode(window.location.search);ja.typed={};ja.amp={};a=/^amp(_|-)/;for(b in d)c=d[b],ja[b]=c,c=this.parse(c),ja.typed[b]=c,a.test(b)&&(ja.amp[f.toCamelCase(b.replace(a,""))]=c);return!0};ja.encode=function(a,b){var c,d,g,e;g=[];for(d in a)e=a[d],null!=e&&(c=b?b+"["+d+"]":d,g.push("object"===typeof e?this.encode(e,c):c+"\x3d"+encodeURIComponent(e)));return g.join("\x26")};ja.decode=function(a){var b,c=this;null!=a&&(b={},a=a.replace(/^[^?]*\?/,""),a.replace(/([^?=&]+)(=([^&]*))?/g,function(a,
g,e,f){a=decodeURIComponent(g);g=decodeURIComponent(f);/~/.test(g)&&(g=c.decodeObject(g));/\[/.test(a)?(f=a.match(/[^\[]+/)[0],a=a.match(/\[([A-Za-z]+)\]/)[1],null==b[f]&&(b[f]={}),b[f][a]=g):b[a]=g}));return b};ja.decodeObject=function(a){var b,c=this;null!=a&&(b={},a.replace(/([^:~]+)(:([^~]*))?/g,function(a,g,e,f){b[decodeURIComponent(g)]=c.parse(decodeURIComponent(f))}));return b};ja.parse=function(a){var b;if("object"===typeof a)return a;if("undefined"===a)return!0;b=a.toLowerCase();if("true"===
b||"false"===b)return"true"===b;if("null"===b)return null;b=parseFloat(a);if(!isNaN(b))return b;try{return b=JSON.parse(a)}catch(c){return a}};ja.constructed=ja.construct();var xc=function(){};xc.setCookie=function(a,b,c,d,g){var e;b=escape(b);null!=c&&(e=new Date,e.setDate(e.getDate()+c),b+="; expires\x3d"+e.toUTCString());null!=g&&(b+="; domain\x3d"+g);null!=d&&(b+="; path\x3d"+d);return document.cookie=a+"\x3d"+b};xc.getCookie=function(a){var b,c,d,g,e,f;c=document.cookie.split(";");e=0;for(f=
c.length;e<f;e++)if(b=c[e],d=b.indexOf("\x3d"),g=b.substr(0,d).replace(/^\s+|\s+$/g,""),b=unescape(b.substr(d+1)),g===a)return b};xc.deleteCookie=function(a){return this.setCookie(a,"",-1)};var O=function(a,b,c,d,g){this.timerGroup=a;this.url=b;this.interval=null!=c?c:1E4;this.type=null!=d?d:null;this.headers=null!=g?g:null;O.__super__.constructor.call(this)};h(O,ra);O.DATA_CHANGE="datachange";O.create=function(a,b,c,d,g){return new O(a,b,c,d,g)};O.prototype.timeout=null;O.prototype.interval=null;
O.prototype.url=null;O.prototype.lastModified=null;O.prototype.contentLenght=null;O.prototype.data=null;O.prototype.text=null;O.prototype.type=null;O.prototype.headers=null;O.prototype.useHeadRequest=!0;O.prototype.start=function(){null!=this.url&&""!==this.url&&this.poll()};O.prototype.poll=function(){this.useHeadRequest?this.updateHeaders():this.updateData()};O.prototype.applyHeaders=function(a){null!=this.headers&&a.setRequestHeaders(this.headers)};O.prototype.updateHeaders=function(){var a,b=
this;a=f.getXHR();a.onload=function(c){var d;304===a.status?b.invoke():(d=a.getResponseHeader("Last-Modified"),c=a.getResponseHeader("Content-Length"),null==d&&null==c||null!=d&&d!==b.lastModified||null!=c&&c!==b.contentLength?(b.lastModified=d,b.contentLength=c,b.updateData()):b.invoke())};a.onerror=function(a){b.error(a)};a.open("HEAD",f.cacheBust(this.url),!1);this.applyHeaders(a);null!=this.lastModified&&a.setRequestHeader("If-Modified-Since",this.lastModified);a.send()};O.prototype.updateData=
function(){var a,b=this;a=f.getXHR();a.open("GET",f.cacheBust(this.url),!0);a.onload=function(c){b.setText(a.responseText);b.invoke()};a.onerror=function(a){b.error(a)};this.applyHeaders(a);a.send()};O.prototype.setText=function(a){var b;if(a!==this.text){b=this.text=a;if(this.type===f.mimeTypes.json)try{b=JSON.parse(a)}catch(c){b=this.text}this.setData(b)}return a};O.prototype.setData=function(a){a!==this.data&&(this.data=a,this.dispatchEvent(new F(O.DATA_CHANGE,this.data)));return a};O.prototype.error=
function(a){V.error(event);this.stop()};O.prototype.invoke=function(){var a=this;this.stop();this.timeout=this.timerGroup.setTimeout(function(){a.poll()},this.interval)};O.prototype.stop=function(){this.timerGroup.clearTimeout(this.timeout)};var la=function(a,b,c){this.element=a;this.timeout=b;this.timerGroup=c;la.__super__.constructor.call(this);this.resetHandler=this.reset.bind(this)};h(la,ra);la.create=function(a,b,c){return new la(a,b,c)};la.prototype.events="mousemove mousedown keypress DOMMouseScroll mousewheel touchmove touchstart MSPointerMove MSPointerDown pointermove pointerdown".split(" ");
la.prototype.resetHandler=null;la.prototype.element=null;la.prototype.timeout=null;la.prototype.active=!0;la.prototype.timeoutId=null;la.prototype.applyListeners=function(a){var b,c,d,g;null==a&&(a="add");g=this.events;c=0;for(d=g.length;c<d;c++)b=g[c],this.element[""+a+"EventListener"](b,this.resetHandler)};la.prototype.start=function(a){null!=a&&(this.timeout=a);this.stop();this.applyListeners("add");this.timeoutId=this.timerGroup.setTimeout(this.setActive.bind(this,!1),this.timeout)};la.prototype.stop=
function(){this.applyListeners("remove");this.timerGroup.clearTimeout(this.timeoutId)};la.prototype.reset=function(){this.setActive(!0);this.start()};la.prototype.setActive=function(a){if(a!==this.active)return this.active=a,this.dispatchEvent(new F("activechange",{active:this.active})),a};la.prototype.getActive=function(){return this.active};la.prototype.destroy=function(){this.stop();la.__super__.destroy.call(this)};var fb=function(){};fb.getID3=function(a){a=this.getFrameData(a.subarray(10));return this.decodeFrame(a)};
fb.getFrameData=function(a){var b,c;c=String.fromCharCode(a[0],a[1],a[2],a[3]);b=this.readSize(a,4);return{type:c,size:b,data:a.subarray(10,10+b)}};fb.readSize=function(a,b){var c;c=(a[b]&127)<<21;c|=(a[b+1]&127)<<14;c|=(a[b+2]&127)<<7;return c|=a[b+3]&127};fb.decodeFrame=function(a){return"PRIV"===a.type?this.decodePrivFrame(a):"T"===a.type[0]?this.decodeTextFrame(a):"W"===a.type[0]?this.decodeURLFrame(a):this.decodeTextFrame(a)};fb.decodePrivFrame=function(a){var b,c;if(!(2>a.size))return b=this.utf8ArrayToStr(a.data,
!0),c=new Uint8Array(a.data.subarray(b.length+1)),{key:a.type,info:b,data:c.buffer}};fb.decodeTextFrame=function(a){var b,c;if(!(2>a.size)){if("TXXX"===a.type)return c=1,b=this.utf8ArrayToStr(a.data.subarray(c)),c+=b.length+1,c=this.utf8ArrayToStr(a.data.subarray(c)),{key:a.type,info:b,data:c};b=this.utf8ArrayToStr(a.data.subarray(1));return{key:a.type,info:b,data:b}}};fb.decodeURLFrame=function(a){var b,c;if("WXXX"===a.type){if(!(2>a.size))return c=1,b=this.utf8ArrayToStr(a.data.subarray(c)),c+=
b.length+1,c=this.utf8ArrayToStr(a.data.subarray(c)),{key:a.type,info:b,data:c}}else return b=this.utf8ArrayToStr(a.data),{key:a.type,info:b,data:b}};fb.utf8ArrayToStr=function(a,b){var c,d,g,e,f,l;null==b&&(b=!1);f=a.length;l="";for(e=0;e<f;){c=a[e++];if(0===c&&b)break;else if(0===c||3===c)continue;switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(c);break;case 12:case 13:d=a[e++];l+=String.fromCharCode((c&31)<<6|d&63);break;case 14:d=a[e++],g=a[e++],l+=
String.fromCharCode((c&15)<<12|(d&63)<<6|(g&63)<<0)}}return l};var Za=function(){this.item=[];this.metadata={}};Za.prototype.title=null;Za.prototype.link=null;Za.prototype.description=null;Za.prototype.category=null;Za.prototype.pubDate=null;Za.prototype.language=null;Za.prototype.ttl=null;Za.prototype.item=null;Za.prototype.metadata=null;var wb=function(){this.metadata={}};wb.prototype.src=null;wb.prototype.debug=null;wb.prototype.type=null;wb.prototype.metadata=null;var sa={AUTO:"auto",HTML:"html",
FLASH:"flash",EXTERNAL:"external",NONE:"none",HTML_AUTO:"html-auto"},Kb={NONE:"none",DEFAULT:"default",MUTED:"muted"};AutoplayThreshold=function(){function a(){}a.name="AutoplayThreshold";a.UNKNOWN="unknown";a.ALLOWED="allowed";a.MUTED="muted";a.MUTED_INLINE="mutedinline";a.BLOCKED="blocked";a.detect=function(b){null==b&&(b=f.blankVideo());return new Promise(function(c,d){var g,e,Y,l,ka,h;g=function(a){try{h.removeEventListener("error",e),h.pause()}catch(b){}c(a)};e=function(){g(a.UNKNOWN)};l=function(){h.muted=
!0;return h.play().then(function(){return g(a.MUTED)})["catch"](Y)};Y=function(){h.playsInline=!0;return h.play().then(function(){return g(a.MUTED_INLINE)})["catch"](function(){return g(a.BLOCKED)})};try{if(!f.isAutoplaySupported())return c(a.BLOCKED);h=document.createElement("video");h.addEventListener("error",e);h.volume=0.01;h.src=b;ka=h.play();if("function"!==typeof(null!=ka?ka.then:void 0))g(a.ALLOWED);else ka.then(function(){return g(a.ALLOWED)})["catch"](l)}catch(k){e()}})};a.init=function(b){return b.autoplayPolicy===
Kb.NONE?Promise.resolve(this.threshold=a.UNKNOWN):!0===f.isHTML5()?(f.isAutoplaySupported()?this.threshold=f.isIOS()?a.MUTED_INLINE:a.MUTED:this.threshold=a.BLOCKED,Promise.resolve(this.threshold)):this.value(this.threshold===a.UNKNOWN)};a.value=function(a){var c=this;null==a&&(a=!1);!0===a&&(this.detecting=this.threshold=null);if(null!=this.threshold)return Promise.resolve(this.threshold);null==this.detecting&&(this.detecting=this.detect().then(function(a){c.threshold=a;c.detecting=null;return a}));
return this.detecting};a.threshold=a.UNKNOWN;return a}();var J=function(a,b){this.config=a;J.__super__.constructor.call(this,b)};h(J,puremvc.Proxy);J.NAME="ModuleProxy";J.prototype.defaults=null;J.prototype.config=null;J.prototype.initializeNotifier=function(a){J.__super__.initializeNotifier.call(this,a);this.createData()};J.prototype.createData=function(){this.setData(this.config)};J.prototype.getDefaults=function(){return this.defaults||{}};J.prototype.setData=function(a){var b,c,d,g;null==a&&(a=
{});d={};g=this.getDefaults();for(c in g)b=g[c],b=c in a?a[c]:b,d[c]=b;J.__super__.setData.call(this,d);return a};J.prototype.destroy=function(){};var A=function(a){this.viewComponent=a;this.performance={init:Date.now()};A.__super__.constructor.call(this,this.getModuleName()+"-"+f.createUID());this.dispatcher=new ra(this);this.transformer=new xb;this.logger=V.instance;this.moduleMap={}};h(A,puremvc.Facade);A.prototype.logger=null;A.prototype.config=null;A.prototype.moduleName=null;A.prototype.moduleMap=
null;A.prototype.viewComponent=null;A.prototype.dispatcher=null;A.prototype.oninitialized=null;A.prototype.onerror=null;A.prototype.parentModule=null;A.prototype.performance=null;A.prototype.transformer=null;A.prototype.initialize=function(a,b){this.config=a;this.parentModule=b;this._id=this.config.id||this.multitonKey;this.loadModuleResources().then(this.resourcesLoaded.bind(this))["catch"](this.resourcesError.bind(this))};A.prototype.loadModuleResources=function(a){null==a&&(a=this.config.resources);
return 0<!(null!=a&&a.length)?Promise.resolve():w.addResources(this.evaluatePaths(a))};A.prototype.evaluatePaths=function(a){var b,c,d;if(null!=a)return b=this.config.paths||(null!=(c=this.parentModule)?null!=(d=c.config)?d.paths:void 0:void 0),null!=b&&(a=Ja.evaluateBindings(a,{paths:b})),a};A.prototype.resourcesError=function(a){if("function"===typeof this.onerror)this.onerror(this)};A.prototype.resourcesLoaded=function(){this.createFramework();if("function"===typeof this.oninitialized)this.oninitialized(this)};
A.prototype.createFramework=function(){this.createModel();this.createController();this.createView()};A.prototype.createModel=function(){this.registerProxy(new J(this.config))};A.prototype.createView=function(){};A.prototype.createController=function(){this.registerCommand(e.DISPATCH_EVENT,yc)};A.prototype.getModuleName=function(){return this.moduleName};A.prototype.getId=function(){return this._id};A.prototype.getConfig=function(){return this.config};A.prototype.hasModule=function(a){return null!=
this.moduleMap[a]};A.prototype.getModules=function(){var a,b,c,d;b={};d=this.moduleMap;for(a in d)c=d[a],b[a]=c.module;return b};A.prototype.registerModule=function(a){var b,c;c=a.getModuleName();null!=a&&null==this.moduleMap[c]&&(b=new Ra(a),this.moduleMap[c]=b,this.registerMediator(b),a.onRegister())};A.prototype.retrieveModule=function(a){return this.moduleMap[a].module};A.prototype.removeModule=function(a){var b;b=this.moduleMap[a];if(null!=b)return delete this.moduleMap[a],this.removeMediator(a),
a=b.module,a.onRemove.call(a),a};A.prototype.listNotificationInterests=function(){return[]};A.prototype.listNotificationPublications=function(){return[]};A.prototype.getViewComponent=function(){return this.viewComponent};A.prototype.setViewComponent=function(a){return this.viewComponent=a};A.prototype.onRegister=function(){};A.prototype.onRemove=function(){};A.prototype.destroy=function(){var a,b,c,d;if(null!=this.getModules())for(a in c=this.getModules(),c){b=c[a];try{this.removeModule(a),b.destroy()}catch(g){this.logger.error(g)}}null!=
(d=this.retrieveProxy(J.NAME))&&"function"===typeof d.destroy&&d.destroy();puremvc.Facade.removeCore(this.multitonKey);this.dispatcher.destroy();null!=this.viewComponent&&(this.viewComponent.innerHTML="",this.viewComponent.className="");for(a in this){try{this[a]=null}catch(e){}delete this[a]}};A.prototype.addEventListener=function(a,b){this.dispatcher.addEventListener(a,b)};A.prototype.once=function(a,b){this.dispatcher.once(a,b)};A.prototype.ignoreEvents=/(timeupdate|progress|fragmentloaded|fragmentloadstart|timeremaining|adtimeremaining)/;
A.prototype.logEvent=function(a){var b;!0!==this.ignoreEvents.test(a.type)&&(b=this.getModuleName().toUpperCase(),a.dispatcher&&(b+=" "+a.dispatcher),this.logger.log("["+b+" EVENT] "+a.type,a))};A.prototype.dispatchEvent=function(a){this.logEvent(a);this.dispatcher.dispatchEvent(a)};A.prototype.dispatch=function(a,b){this.dispatchEvent(new F(a,b))};A.prototype.removeEventListener=function(a,b){this.dispatcher.removeEventListener(a,b)};A.prototype.addTransform=function(a,b){return this.transformer.addTransform(a,
b)};A.prototype.sortTransforms=function(a,b){return this.transformer.sortTransforms(a,b)};A.prototype.transform=function(a,b){return this.transformer.transform(a,b)};A.prototype.removeTransform=function(a,b){return this.transformer.removeTransform(a,b)};var Ea=function(a){this.data=null!=a?a:{};Ea.__super__.constructor.call(this);Object.defineProperties(this,{kind:{get:this.getKind,enumerable:!0,configurable:!1},label:{get:this.getLabel,enumerable:!0,configurable:!1},language:{get:this.getLanguage,
enumerable:!0,configurable:!1},id:{get:this.getId,enumerable:!0,configurable:!1},enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1}})};h(Ea,ra);Ea.prototype.getKind=function(){return this.data.kind};Ea.prototype.getLabel=function(){return this.data.label};Ea.prototype.getLanguage=function(){return this.data.language};Ea.prototype.getId=function(){return this.data.id};Ea.prototype.setEnabled=function(a){a!==this.data.enabled&&(this.data.enabled=a,this.changeEnabled(a),
this.dispatchEvent("change"))};Ea.prototype.changeEnabled=function(a){};Ea.prototype.getEnabled=function(){return this.data.enabled};Ea.prototype.flatten=function(){return{kind:this.getKind(),label:this.getLabel(),language:this.getLanguage(),id:this.getId(),enabled:this.getEnabled()}};var ta=function(a){this.list=null!=a?a:[];ta.__super__.constructor.call(this);this.dispatcher=new ra(this);this.handlers={change:this.changeHandler.bind(this)}};h(ta,Array);ta.prototype.onchange=null;ta.prototype.changeHandler=
function(a){this.dispatchEvent(a)};ta.prototype.addEventListener=function(a,b,c){this.dispatcher.addEventListener(a,b,c)};ta.prototype.dispatchEvent=function(a){this.dispatcher.dispatchEvent(a)};ta.prototype.once=function(a,b){this.dispatcher.once(a,b)};ta.prototype.dispatch=function(a,b){this.dispatcher.dispatch(a,b)};ta.prototype.removeEventListener=function(a,b,c){return this.dispatcher.removeEventListener(a,b,c)};ta.prototype.add=function(a,b){null==b&&(b=!0);this.push(a);a.addEventListener("change",
this.handlers.change);!0===b&&this.dispatch("addtrack",a)};ta.prototype.remove=function(a,b){var c;null==b&&(b=!0);c=this.indexOf(a);if(-1!==c)return this.splice(c,1),a.removeEventListener("change",this.handlers.change),!0===b&&this.dispatch("removetrack",a),a};ta.prototype.clear=function(){var a,b;if(0!==this.length){a=0;for(b=this.length;a<b;a++)this.remove(this[this.length-1],!1);this.dispatch("removetrack")}};ta.prototype.getTrackById=function(a){var b,c,d;c=0;for(d=this.length;c<d;c++)if(b=this[c],
b.id===a)return b};var Ad=function(a){a.className=zc.PREFIX+"player";a=$a.create("install-flash",a);$a.create(null,a,"p","To view this page ensure that Adobe Flash Player version 10.2.0 or greater is installed.");a=$a.create(null,a,"a");a.href="http://www.adobe.com/go/getflashplayer";a=$a.create(null,a,"img");a.src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif";a.alt="Get Adobe Flash player"};Ad.prototype.initialize=function(){};Ad.prototype.getModules=function(){return[]};
var qb=function(){this.map={}};qb.prototype.map=null;qb.prototype.add=function(a,b){this.map[a]=b};qb.prototype.item=function(a){return this.map[a]};qb.prototype.remove=function(a){var b;b=this.map[a];null!=b&&(this.map[a]=null,delete this.map[a]);return b};var Lb=function(a,b,c){this.key=a;this.token=b;this.expiration=c};Lb.prototype.key=null;Lb.prototype.token=null;Lb.prototype.expiration=null;var Ka=function(){Ka.__super__.constructor.call(this)};h(Ka,qb);Ka.prototype.js=function(a,b){return f.loadScript(a,
document.body)};Ka.prototype.css=function(a,b){return new Promise(function(c,d){try{f.loadStyleSheet(a)}catch(g){d()}c(b)})};Ka.prototype.json=function(a,b){return f.requestJson(b.src).then(function(a){b.data=a;return b})};Ka.prototype.img=function(a,b){return f.loadImage(a)};Ka.prototype.require=function(a){var b;b=this.item(a);return null==b?"string"===typeof a?this.add({src:a}):null!=a.src?this.add(a):Promise.resolve(a):"function"===typeof b?(qb.prototype.add.call(this,a,null),Promise.resolve().then(function(){return b()})):
"function"===typeof b.then?b:Promise.resolve(b)};Ka.prototype.add=function(a){var b,c,d,g,e=this;if(!1===a.enabled)return Promise.resolve();g=V.instance.enabled&&null!=a.debug?a.debug:a.src;b=a.id||a.src||g;if(!0===a.defer)return a.defer=!1,Ka.__super__.add.call(this,b,this.add.bind(this,a)),Promise.resolve();c=this.item(b);if(null!=c){if("function"===typeof c.then)return c;if("function"!==typeof c)return Promise.resolve(c)}c=a.type||f.getMimeType(g);c===f.mimeTypes.js||/javascript/.test(c)?d=this.js(g,
a):c===f.mimeTypes.css?d=this.css(g,a):c===f.mimeTypes.json||/json/.test(c)?d=this.json(g,a):c!==f.mimeTypes.swf?d=f.request(g):/image/.test(c)&&(d=this.img(g,a));if(null==d)return Promise.resolve();d=d.then(function(a){qb.prototype.add.call(e,b,a);return a});Ka.__super__.add.call(this,b,d);return d};Ka.prototype.addResources=function(a){var b,c,d,g,e;if(0<!(null!=a&&a.length))return Promise.resolve();c=[];b=[];g=0;for(e=a.length;g<e;g++)d=a[g],d instanceof Array?c.push(this.addResources.bind(this,
d)):!0===d.async?b.push(this.add(d)):c.push(this.add.bind(this,d));return(0<b.length?Promise.all(b):Promise.resolve()).then(function(){return f.chain(c)})};var Mb=function(){Mb.__super__.constructor.call(this)};h(Mb,puremvc.SimpleCommand);Mb.prototype.execute=function(a){var b=this;AutoplayThreshold.value().then(function(a){return b.sendNotification(e.READY,b.facade)})};var B=function(){B.__super__.constructor.call(this)};h(B,puremvc.SimpleCommand);B.prototype.applicationState=null;B.prototype.media=
null;B.prototype.player=null;B.prototype.playback=null;B.prototype.config=null;B.prototype.logger=null;B.prototype.bindings=null;B.prototype.params=null;B.prototype.playerCore=null;B.prototype.security=null;B.prototype.tracks=null;B.prototype.initializeNotifier=function(a){var b;B.__super__.initializeNotifier.call(this,a);this.player=this.facade.player||this.facade;this.applicationState=this.player.appState;this.media=this.player.mediaProxy;this.config=this.player.configuration;this.logger=this.player.logger;
this.bindings=this.player.bindings;this.params=this.player.params;this.playerCore=this.player.playerCore;this.security=this.player.security;this.tracks=this.player.tracks;this.playback=(null!=(b=this.player.playerCore)?b.getActivePlaybackCore():void 0)||this.player.playback;this.localization=this.player.localization};B.prototype.doAfter=function(a){var b=this;return new Promise(function(c,d){return b.player.timers.setImmediate(function(){try{a(),c()}catch(g){b.facade.logger.error(g),d(g)}})})};var Nb=
function(){Nb.__super__.constructor.call(this)};h(Nb,B);Nb.prototype.execute=function(a){var b;if(!this.applicationState.getSeeking()){switch(this.applicationState.getPlayState()){case aa.ENDED:b=e.REPLAY;break;case aa.PAUSED:case aa.READY:b=e.PLAY;break;case aa.PLAYING:b=e.PAUSE}this.applicationState.getWaiting()&&!0===this.facade.getMediaElement().paused&&(b=e.PLAY);this.sendNotification(b,!0)}};var Ac=function(){Ac.__super__.constructor.call(this)};h(Ac,B);Ac.prototype.execute=function(a){a=this.applicationState.getDisplayState()===
L.FULL_SCREEN?L.NORMAL:L.FULL_SCREEN;this.sendNotification(e.CHANGE_DISPLAY_STATE,a)};var s=function(){s.__super__.constructor.call(this)};h(s,B);s.prototype.dispatchEvent=function(a,b){var c;"string"!==typeof a&&(b=null!=a.getBody()?a.getBody():{},a=a.getName());c=new F(a.toLowerCase(),b);this.sendNotification(e.DISPATCH_EVENT,c)};s.prototype.dispatchEventAfterCommand=function(a,b){return this.doAfter(this.dispatchEvent.bind(this,a,b))};s.prototype.execute=function(a){this.dispatchEvent(a)};var Ob=
function(){Ob.__super__.constructor.call(this)};h(Ob,s);Ob.prototype.execute=function(a){!0!==this.applicationState.getIsUserActive()&&(0===this.facade.getMediaElement().currentTime&&!1===this.media.started&&!1===this.applicationState.getSeeking()&&(this.media.started=!0,this.sendNotification(e.MEDIA_SEQUENCE_STARTED)),this.applicationState.getPlayState()===aa.PLAYING?Ob.__super__.execute.call(this,a):this.sendNotification(e.CHANGE_PLAY_STATE,aa.PLAYING))};var rb=function(){rb.__super__.constructor.call(this)};
h(rb,s);rb.prototype.execute=function(a){this.playback.pause();this.sendNotification(e.CHANGE_ACTIVE_STATE,ab.ACTIVE);rb.__super__.execute.call(this,a)};var Bc=function(){Bc.__super__.constructor.call(this)};h(Bc,B);Bc.prototype.execute=function(a){this.config.setAutoplay(a.getBody())};var Cc=function(){Cc.__super__.constructor.call(this)};h(Cc,B);Cc.prototype.execute=function(a){this.config.setLoop(a.getBody())};var Dc=function(){Dc.__super__.constructor.call(this)};h(Dc,B);Dc.prototype.execute=
function(a){a=f.clamp(a.getBody(),0,1);this.playback.getVolume()!==a&&(this.playback.setVolume(a),0===a?this.sendNotification(e.ADD_APPLICATION_STATE,"muted"):this.sendNotification(e.REMOVE_APPLICATION_STATE,"muted"))};var Pb=function(){Pb.__super__.constructor.call(this)};h(Pb,B);Pb.prototype.execute=function(a){var b,c,d=this;b=a.getBody();c=this.facade.getMediaElement();this.playerCore.setPlaybackCore(b).then(function(a){var p,f,l,h;null==a&&(a=d.player.playback);a.reset();a.setCurrentTime(b.startTime||
0);d.sendNotification(e.MEDIA_CHANGE,b);"amp"!==d.applicationState.getPlaybackTarget()?d.sendNotification(e.MEDIA_SEQUENCE_INITIALIZED,{media:b}):(d.tracks.setMedia(b),a=d.facade.getAutoplay()&&!1===d.applicationState.getLocked(),!1!==d.applicationState.calculateAutoplay&&(d.applicationState.calculateAutoplay=!1,!0===a&&(h=d.facade.autoplayThreshold,l=d.facade.autoplayPolicy,p=d.config.getMuted(),f=d.config.getPlaysInline(),h!==AutoplayThreshold.ALLOWED&&l!==Kb.NONE&&(a=l.includes(Kb.MUTED)&&(h===
AutoplayThreshold.MUTED||h===AutoplayThreshold.MUTED_INLINE&&!0===f)&&!1!==p,!0===a?null==p&&(p=!0):d.sendNotification(e.AUTOPLAY_BLOCKED,{threshold:h,policy:l})))),null!=f&&(c.playsInline=f),null!=p&&d.playback.setMuted(p),d.sendNotification(e.MEDIA_SEQUENCE_INITIALIZED,{media:b,autoplay:a,muted:p,playsinline:f}),a&&d.doAfter(d.sendNotification.bind(d,e.PLAY,!0)))})["catch"](function(a){return d.sendNotification(e.ERROR,a)})};var Qb=function(){Qb.__super__.constructor.call(this)};h(Qb,B);Qb.prototype.execute=
function(a){var b=this;a=a.getBody();this.facade.transform(za.SEEK,a).then(function(a){0===a&&b.media.getType()===f.mimeTypes.m3u8&&(a=0.25);a!==b.playback.getCurrentTime()&&(!0===b.playback.getStarted()&&b.sendNotification(e.WAITING),b.sendNotification(e.DISPLAY_TIME,{currentTime:a,duration:b.playback.getDuration()}),b.sendNotification(e.CHANGE_ACTIVE_STATE,ab.ACTIVE),b.facade.getMediaElement(),b.playback.setCurrentTime(a),!0!==b.playback.getStarted()&&b.sendNotification(e.TIME_CHANGE,a))})};var Rb=
function(){Rb.__super__.constructor.call(this)};h(Rb,s);Rb.prototype.execute=function(a){!0===this.applicationState.getSeeking()?this.applicationState.setSeekRequested(!0):(this.applicationState.getEnded()&&this.applicationState.setEnded(!1),0===this.facade.getMediaElement().currentTime&&(this.media.started=!1),this.applicationState.setSeeking(!0),Rb.__super__.execute.call(this,a))};var Ec=function(){Ec.__super__.constructor.call(this)};h(Ec,s);Ec.prototype.execute=function(a){var b=this;!0===this.applicationState.getIsUserActive()?
this.facade.timers.setTimeout(this.sendNotification.bind(this,a.getName(),a.getBody()),100):this.facade.timers.setTimeout(function(){var c;b.applicationState.setSeeking(!1);b.dispatchEvent(a);b.applicationState.setSeekRequested(!1);b.sendNotification(fa.SEEKED,a.getBody());b.applicationState.getPlayState()!==aa.READY&&("full-screen"===b.applicationState.displayState&&"ipad"===b.applicationState.device&&b.facade.retrieveProxy(m.NAME).getPaused()!==b.facade.getMediaElement().paused&&(c=!0===b.facade.getMediaElement().paused?
aa.PAUSED:aa.PLAYING),null!=c&&"undefined"!==c&&b.sendNotification(e.CHANGE_PLAY_STATE,c))},1)};var Fc=function(){Fc.__super__.constructor.call(this)};h(Fc,B);Fc.prototype.execute=function(a){"function"===typeof this.playback.replay?this.playback.replay():(a=this.media.getData(),a.metadata=Object.assign({},a.metadata,{config:{autoplay:!0}}),this.sendNotification(e.SET_MEDIA,a))};var Gc=function(){Gc.__super__.constructor.call(this)};h(Gc,B);Gc.prototype.execute=function(a){var b;this.applicationState.getEnded()||
(this.facade.ads.getInProgress()?(b={player:this.player,transform:function(a){if(-1<a)return b.player.sendNotification(e.END),b.player.removeTransform(b),a}},this.player.addTransform(za.TIME,b),this.facade.ads.terminateAllAds()):(this.playback.setEnabled(!1),this.playback.pause(),this.playback.seek(this.playback.getDuration()).then(this.sendNotification.bind(this,e.ENDED))))};var yb=function(){yb.__super__.constructor.call(this)};h(yb,s);yb.prototype.execute=function(a){this.applicationState.getEnded()||
(this.applicationState.setEnded(!0),yb.__super__.execute.call(this,a),!0===this.config.getLoop()?this.sendNotification(e.REPLAY):!1===this.applicationState.getHasPostContent()&&this.sendNotification(e.MEDIA_SEQUENCE_ENDED))};var Sb=function(){Sb.__super__.constructor.call(this)};h(Sb,B);Sb.prototype.execute=function(a){this.sendNotification(e.PLAY_REQUEST);this.sendNotification(e.DISPLAY_TIME,{currentTime:0,duration:this.media.getDuration()});this.sendNotification(e.STARTED,a.getBody())};var Hc=function(){Hc.__super__.constructor.call(this)};
h(Hc,B);Hc.prototype.execute=function(a){this.applicationState.setIsUserActive(a.getBody())};var Tb=function(){Tb.__super__.constructor.call(this)};h(Tb,s);Tb.prototype.execute=function(a){this.applicationState.getWaiting()||(this.applicationState.setWaiting(!0),Tb.__super__.execute.call(this,a))};var Ic=function(){Ic.__super__.constructor.call(this)};h(Ic,B);Ic.prototype.execute=function(a){this.playback.setMuted(a.getBody())};var Ub=function(){Ub.__super__.constructor.call(this)};h(Ub,s);Ub.prototype.execute=
function(a){null==this.security.getSession()&&(this.security.setSession(f.createUID()),this.sendNotification(e.MEDIA_VALIDATED,this.media.getData()),Ub.__super__.execute.call(this,a))};var Jc=function(){Jc.__super__.constructor.call(this)};h(Jc,B);Jc.prototype.execute=function(a){this.playback.initialized=!0};var Kc=function(){Kc.__super__.constructor.call(this)};h(Kc,B);Kc.prototype.execute=function(a){this.playerCore.registerPlaybackCore(a.getBody())};var Lc=function(){Lc.__super__.constructor.call(this)};
h(Lc,B);Lc.prototype.execute=function(a){a=a.getBody();this.sendNotification(e.CHANGE_CONTENT,{from:this.media.getData(),to:a});this.media.updateData(a);this.sendNotification(e.UPDATE_DATA_BINDINGS);this.sendNotification(e.CHANGE_CONTENT,this.media.getData())};var Vb=function(){Vb.__super__.constructor.call(this)};h(Vb,s);Vb.prototype.execute=function(a){this.sendNotification(e.DISPLAY_TIME,{currentTime:this.applicationState.getCurrentTime(),duration:this.applicationState.getDuration()});Vb.__super__.execute.call(this,
a)};var Mc=function(){Mc.__super__.constructor.call(this)};h(Mc,B);Mc.prototype.execute=function(a){this.playback.setMuted(!this.playback.getMuted())};var Wb=function(){Wb.__super__.constructor.call(this)};h(Wb,s);Wb.prototype.execute=function(a){!0!==this.media.started&&(this.media.started=!0,Wb.__super__.execute.call(this,a),this.sendNotification(e.WAITING),this.sendNotification(e.MEDIA_SEQUENCE_STARTED),this.sendNotification(e.TRACK,F.create("start")))};var Nc=function(){Nc.__super__.constructor.call(this)};
h(Nc,B);Nc.prototype.execute=function(a){var b,c,d,g;c=this.player.getMediaElement();b=a.getBody();d=0;for(g=b.length;d<g;d++)a=b[d],c.addEventListener(a,this.playback.handlers[a])};var Oc=function(){Oc.__super__.constructor.call(this)};h(Oc,B);Oc.prototype.execute=function(a){var b,c,d,g;c=this.player.getMediaElement();b=a.getBody();d=0;for(g=b.length;d<g;d++)a=b[d],c.removeEventListener(a,this.playback.handlers[a])};var Xb=function(){Xb.__super__.constructor.call(this)};h(Xb,s);Xb.prototype.execute=
function(a){this.applicationState.setVolume(a.getBody());Xb.__super__.execute.call(this,a)};var Pc=function(){Pc.__super__.constructor.call(this)};h(Pc,B);Pc.prototype.execute=function(a){this.applicationState.setHasPostContent(a.getBody())};var zb=function(){zb.__super__.constructor.call(this)};h(zb,s);zb.prototype.execute=function(a){!0===this.config.getLoop()?(zb.__super__.execute.call(this,a),this.sendNotification(e.REPLAY)):(this.sendNotification(e.CHANGE_PLAY_STATE,aa.ENDED),this.sendNotification(e.CHANGE_ACTIVE_STATE,
ab.ACTIVE),zb.__super__.execute.call(this,a))};var Qc=function(){Qc.__super__.constructor.call(this)};h(Qc,B);Qc.prototype.execute=function(a){a=a.getBody();this.sendNotification(a?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE,"locked");this.applicationState.setLocked(a)};var Rc=function(){Rc.__super__.constructor.call(this)};h(Rc,B);Rc.prototype.execute=function(a){var b;"function"===typeof(b=this.playback).goLive&&b.goLive()};var Sc=function(){Sc.__super__.constructor.call(this)};h(Sc,B);Sc.prototype.execute=
function(a){var b=this;a=a.getBody();null!=a.currentTime&&this.facade.transform(za.TIME,a.currentTime).then(function(a){return b.applicationState.setCurrentTime(a)});null!=a.duration&&this.facade.transform(za.TIME,a.duration).then(function(a){return b.applicationState.setDuration(a)})};var Yb=function(){Yb.__super__.constructor.call(this)};h(Yb,s);Yb.prototype.execute=function(a){var b,c;a.getName();b=a.getBody();b={startTime:b.startTime,endTime:b.endTime,type:b.type,track:b.track,value:{key:b.value.key,
data:b.value.data,info:b.value.info}};c=b.value;try{null==c.info&&("string"===typeof c.data?c.info=c.data:c.data instanceof ArrayBuffer&&(c.info=f.arrayBufferToString(c.data)))}catch(d){this.facade.logger.log("[AMP ERROR]: Could not parse timed metadata")}a.body=b;Yb.__super__.execute.call(this,a)};var nb=function(a){null==this.cssPrefix&&(this.cssPrefix=zc.PREFIX);nb.__super__.constructor.call(this,this.mediatorName,a)};h(nb,puremvc.Mediator);nb.prototype.config=null;nb.prototype.cssPrefix=null;
nb.prototype.classList=null;nb.prototype.initializeNotifier=function(a){nb.__super__.initializeNotifier.call(this,a);this.config=(this.facade.player||this.facade).retrieveProxy(J.NAME);this.classList=this.classList=new La(this.viewComponent)};var sb=function(a){sb.__super__.constructor.call(this,a)};h(sb,nb);sb.prototype.localizationManager=null;sb.prototype.initializeNotifier=function(a){sb.__super__.initializeNotifier.call(this,a);this.localizationManager=(this.facade.player||this.facade).retrieveProxy(M.NAME)};
var Z=function(a,b,c,d){this.componentName=null!=a?a:this.componentName;this.componentType=null!=b?b:this.componentType;this.parent=c;this.element=d;null==this.mediatorName&&(this.mediatorName=this.createMediatorName());Z.__super__.constructor.call(this,this.viewComponent)};h(Z,sb);Z.prototype.componentName=null;Z.prototype.componentType=null;Z.prototype.parent=null;Z.prototype.element=null;Z.prototype.classList=null;Z.prototype.state=null;Z.prototype.disabled=!1;Z.prototype.onRegister=function(){this.viewComponent=
this.createViewComponent(this.parent,this.element);this.classList=this.viewComponent._classList;$a.bindEvents(this.viewComponent,this)};Z.prototype.createViewComponent=function(a,b){var c;c=this.getTypeList();return $a.create(c,a,b)};Z.prototype.createMediatorName=function(){var a;a=this.getTypeList();a.push("mediator");a.push(f.createUID());return a.join("-")};Z.prototype.getTypeList=function(){var a;a=[];null!=this.componentName&&a.push(this.componentName);null!=this.componentType&&(a=a.concat(this.componentType));
return a};Z.prototype.create=function(a,b,c,d){null==b&&(b=this);!1===b&&(b=null);return $a.create(a,b,c,d)};Z.prototype.createText=function(a,b,c,d){null==c&&(c=this);return $a.create(a,c,d,b)};Z.prototype.setState=function(a){if(a!==this.state)return null!=this.state&&this.classList.remove(this.state),this.state=a,null!=this.state&&this.classList.add(this.state),a};Z.prototype.getState=function(){return this.state};Z.prototype.setDisabled=function(a){if(a!==this.disabled)return(this.disabled=a)?
this.classList.add("disabled"):this.classList.remove("disabled"),a};Z.prototype.getDisabled=function(){return this.disabled};var q={BREAK_START:"adsbreakstart",BREAK_END:"adsbreakend",BREAK_SKIPPED:"adsbreakskipped",AD_CONTAINER_CREATED:"adscontainercreated",AD_LOADED:"adsloaded",AD_MANAGER_LOADED:"adsmanagerloaded",AD_STARTED:"adsstarted",AD_TIME_UPDATE:"adstimeupdate",AD_TIME_REMAINING:"adstimeremaining",AD_DURATION_CHANGE:"adsdurationchange",AD_ENDED:"adsended",AD_ERROR:"adserror",AD_PLAY:"adsplay",
AD_PAUSE:"adspause",AD_PAUSED:"adspaused",AD_RESUME:"adsresume",AD_CLICKED:"adclicked",AD_COMPANION:"adscompanion",FIRST_QUARTILE:"adsfirstquartile",MIDPOINT:"adsmidpoint",THIRD_QUARTILE:"adsthirdquartile",COMPLETE:"adscomplete",CONCRETE:"adsconcrete",LOG:"adslog",REQUEST:"adsrequest",REQUEST_COMPLETE:"adsrequestcomplete",RESPONSE:"adsresponse",SKIPPED:"adsskipped",IMPRESSION:"adsimpression"},Ma=function(){Ma.__super__.constructor.call(this,null,null,null,null)};h(Ma,Z);Ma.prototype.componentType=
"overlay";Ma.prototype.onRegister=function(){Ma.__super__.onRegister.call(this);this.registerOverlay()};Ma.prototype.onRemove=function(){Ma.__super__.onRemove.call(this);this.removeOverlay()};Ma.prototype.registerOverlay=function(){this.sendNotification(e.ADD_OVERLAY,this.viewComponent)};Ma.prototype.removeOverlay=function(){this.sendNotification(e.REMOVE_OVERLAY,this.viewComponent)};var Fa=function(){Fa.__super__.constructor.call(this)};h(Fa,Ma);Fa.prototype.componentName="ads";Fa.prototype._hidden=
!0;Fa.prototype._container=null;Fa.prototype.onRegister=function(){Fa.__super__.onRegister.call(this);this.setContainer(this.viewComponent);this.sendNotification(q.AD_CONTAINER_CREATED,this.viewComponent)};Fa.prototype.listNotificationInterests=function(){return[q.BREAK_START,q.BREAK_END]};Fa.prototype.getHidden=function(){return this._hidden};Fa.prototype.setHidden=function(a){var b;this._hidden=a;return null!=(b=this.container)?b.hidden=a:void 0};Fa.prototype.getContainer=function(){return this._container};
Fa.prototype.setContainer=function(a){var b;this._container=a;return null!=(b=this.container)?b.hidden=this._hidden:void 0};Fa.prototype.handleNotification=function(a){switch(a.getName()){case q.BREAK_START:this.setHidden(!1);break;case q.BREAK_END:this.setHidden(!0)}};var Tc=function(){Tc.__super__.constructor.call(this)};h(Tc,B);Tc.prototype.execute=function(a){a="persistent"!==this.config.getControls().mode?a.getBody():ab.ACTIVE;this.applicationState.setActiveState(a)};var Sa=function(){Sa.__super__.constructor.call(this)};
h(Sa,s);Sa.interval=null;Sa.prototype.execute=function(a){var b,c,d,g=this;a=a.getBody();a!==this.applicationState.getDisplayState()&&(this.applicationState.setDisplayState(a),"external"!==this.config.getFullscreen().mode&&(b=this.facade.getMediaElement(),d=this.facade.getViewComponent(),c=f.getFullScreenApi(d,b),a===L.FULL_SCREEN?(null!=c.event?document[c.event]=null!=d.mozRequestFullScreen?function(a){if(!document.mozFullScreen)return g.sendNotification(e.CHANGE_DISPLAY_STATE,L.NORMAL)}:function(a){if(null==
document[c.element])return g.sendNotification(e.CHANGE_DISPLAY_STATE,L.NORMAL)}:(this.facade.timers.clearInterval(Sa.interval),Sa.interval=this.facade.timers.setInterval(function(){!0!==b.webkitDisplayingFullscreen&&(g.sendNotification(e.CHANGE_DISPLAY_STATE,L.NORMAL),g.facade.timers.clearInterval(Sa.interval))},100)),null!=c.error&&document.addEventListener(c.error,this.facade.logger.error.bind(this.facade.logger)),c.enter()):a===L.NORMAL&&(null!=c&&"function"===typeof c.exit&&c.exit(),b[c.event]=
null,this.facade.timers.clearInterval(Sa.interval))),this.sendNotifications(a))};Sa.prototype.sendNotifications=function(a){this.sendNotification(e.FULL_SCREEN_CHANGE,a===L.FULL_SCREEN)};var tb=function(){tb.__super__.constructor.call(this)};h(tb,s);tb.prototype.execute=function(a){var b;!0!==this.applicationState.getLocked()&&((b=a.getBody())&&!0!==this.playback.initialized&&this.sendNotification(e.INITIALIZED),!0===this.playback.initialized&&(this.media.getSrc()||this.media.getSource())&&(this.playback.getStarted()||
this.sendNotification(e.START),this.playback.play(),tb.__super__.execute.call(this,a)))};var Uc=function(){Uc.__super__.constructor.call(this)};h(Uc,B);Uc.prototype.execute=function(a){a=this.applicationState.getActiveState()===ab.ACTIVE?ab.INACTIVE:ab.ACTIVE;this.sendNotification(e.CHANGE_ACTIVE_STATE,a)};var Ha=function(){Ha.__super__.constructor.call(this,null,{});this.data.audioTracks=new ta;this.data.videoTracks=new ta;this.data.textTracks=new ta;this.data.previewTracks=new ta};h(Ha,puremvc.Proxy);
Ha.NAME="TracksProxy";Ha.prototype.clear=function(){this.data.audioTracks.clear();this.data.videoTracks.clear();this.data.textTracks.clear();this.data.previewTracks.clear()};Ha.prototype.setMedia=function(a){var b,c,d,g;b=a.track||[];g=[];c=0;for(d=b.length;c<d;c++)a=b[c],"preview"!==a.kind&&"thumbnail"!==a.kind||g.push(this.getPreviewTracks().add(new Zb(a)));return g};Ha.prototype.getAudioTracks=function(){return this.data.audioTracks};Ha.prototype.getVideoTracks=function(){return this.data.videoTracks};
Ha.prototype.getTextTracks=function(){return this.data.textTracks};Ha.prototype.getPreviewTracks=function(){return this.data.previewTracks};var k=function(a){k.__super__.constructor.call(this,a);this.ads=new ra;this.ads.enabled=!1;this.ads.getEnabled=function(){return!1};this.ads.inprogress=!1;this.ads.getInProgress=function(){return!1}};h(k,A);k.prototype.moduleName="amp";k.prototype.playerType=null;k.prototype.hidden=!1;k.prototype.l10n=null;k.prototype.appState=null;k.prototype.mediaProxy=null;
k.prototype.bindings=null;k.prototype.configuration=null;k.prototype.params=null;k.prototype.security=null;k.prototype.createModel=function(){this.appState=new u;this.registerProxy(this.appState);this.bindings=new ma;this.registerProxy(this.bindings);this.security=new P;this.registerProxy(this.security);this.mediaProxy=new r(this.config);this.registerProxy(this.mediaProxy);this.params=new gb(this.config.params);this.registerProxy(this.params);this.configuration=new C(this.config);this.registerProxy(this.configuration)};
k.prototype.resourcesLoaded=function(){k.__super__.resourcesLoaded.call(this);Object.defineProperties(this,{src:{get:this.getSrc,set:this.setSrc,enumerable:!0,configurable:!1},media:{get:this.getMedia,set:this.setMedia,enumerable:!0,configurable:!1},currentTime:{get:this.getCurrentTime,set:this.setCurrentTime,enumerable:!0,configurable:!1},autoplay:{get:this.getAutoplay,set:this.setAutoplay,enumerable:!0,configurable:!1},duration:{get:this.getDuration,enumerable:!0,configurable:!1},playState:{get:this.getPlayState,
enumerable:!0,configurable:!1},seeking:{get:this.getSeeking,enumerable:!0,configurable:!1},paused:{get:this.getPaused,enumerable:!0,configurable:!1},ended:{get:this.getEnded,enumerable:!0,configurable:!1},volume:{get:this.getVolume,set:this.setVolume,enumerable:!0,configurable:!1},muted:{get:this.getMuted,set:this.setMuted,enumerable:!0,configurable:!1},mediaElement:{get:this.getMediaElement,enumerable:!0,configurable:!1},textTracks:{get:function(){return this.getMediaElement().textTracks},enumerable:!0,
configurable:!1},audioTracks:{get:this.getAudioTracks,enumerable:!0,configurable:!1},previewTracks:{get:this.getPreviewTracks,enumerable:!0,configurable:!1},container:{get:this.getContainer,enumerable:!0,configurable:!1},adContainer:{get:this.getAdContainer,set:this.setAdContainer,enumerable:!0,configurable:!1},loop:{get:this.getLoop,set:this.setLoop,enumerable:!0,configurable:!1},displayState:{get:this.getDisplayState,set:this.setDisplayState,enumerable:!0,configurable:!1},playbackRate:{get:this.getPlaybackRate,
set:this.setPlaybackRate,enumerable:!0,configurable:!1},language:{get:this.getLanguage,set:this.setLanguage,enumerable:!0,configurable:!1},localization:{get:function(){return this.retrieveProxy(M.NAME)},enumerable:!0,configurable:!1},version:{get:this.getVersion,enumerable:!0,configurable:!1},error:{get:this.getError,enumerable:!0,configurable:!1},hidden:{get:this.getHidden,set:this.setHidden,enumerable:!0,configurable:!1},waiting:{get:this.getWaiting,set:this.setWaiting,enumerable:!0,configurable:!1},
busy:{get:this.getBusy,set:this.setBusy,enumerable:!0,configurable:!1},cues:{get:this.getCues,set:this.setCues,enumerable:!0,configurable:!1},quality:{get:this.getQuality,set:this.setQuality,enumerable:!0,configurable:!1},qualityMode:{get:this.getQualityMode,set:this.setQualityMode,enumerable:!0,configurable:!1},qualityLevels:{get:this.getQualityLevels,enumerable:!0,configurable:!1},debug:{get:this.getDebug,enumerable:!0,configurable:!1},settings:{get:this.getSettings,enumerable:!0,configurable:!1},
mode:{get:this.getMode,enumerable:!0,configurable:!1},buffering:{get:this.getBuffering,enumerable:!0,configurable:!1},width:{get:this.getWidth,enumerable:!0,configurable:!1},height:{get:this.getHeight,enumerable:!0,configurable:!1},left:{get:this.getLeft,enumerable:!0,configurable:!1},right:{get:this.getRight,enumerable:!0,configurable:!1},top:{get:this.getTop,enumerable:!0,configurable:!1},bottom:{get:this.getBottom,enumerable:!0,configurable:!1},mouseX:{get:this.getMouseX,enumerable:!0,configurable:!1},
mouseY:{get:this.getMouseY,enumerable:!0,configurable:!1},mouseOver:{get:this.getMouseOver,enumerable:!0,configurable:!1},videoWidth:{get:this.getVideoWidth,enumerable:!0,configurable:!1},videoHeight:{get:this.getVideoHeight,enumerable:!0,configurable:!1},defaultMediaTransform:{value:this.mediaProxy.transform,enumerable:!0,configurable:!1,writable:!1},absoluteCurrentTime:{get:this.getAbsoluteCurrentTime,set:this.setAbsoluteCurrentTime,enumerable:!0,configurable:!1},absoluteDuration:{get:this.getAbsoluteDuration,
enumerable:!0,configurable:!1},playbackTarget:{get:this.getPlaybackTarget,set:this.setPlaybackTarget,enumerable:!0,configurable:!1},autoplayPolicy:{get:function(){return this.retrieveProxy(C.NAME).getAutoplayPolicy()},enumerable:!0,configurable:!1},autoplayThreshold:{get:function(){return AutoplayThreshold.threshold},enumerable:!0,configurable:!1},temporalType:{get:function(){return this.retrieveProxy(r.NAME).getTemporalType()},enumerable:!0,configurable:!1},isLive:{get:function(){return this.retrieveProxy(r.NAME).getIsLive()},
enumerable:!0,configurable:!1},timers:{value:f.timerGroup(this.multitonKey),enumerable:!0,configurable:!1,writable:!1},id:{get:this.getId,enumerable:!0,configurable:!1}})};k.prototype.createView=function(){this._settings=new na;this.registerMediator(this._settings)};k.prototype.createController=function(){k.__super__.createController.call(this);this.registerCommand(e.CHANGE_SETTINGS,Vc);this.registerCommand(e.TRACK,Wc);this.registerCommand(e.SETTINGS_CHANGE,s);this.registerCommand(e.CUES_CHANGE,s);
this.registerCommand(e.DESTROY,$b)};k.prototype.setViewComponent=function(a){a.amp=this;return k.__super__.setViewComponent.call(this,a)};k.prototype.getPlayerType=function(){return this.playerType};k.prototype.getVersion=function(){return w.getVersion()};k.prototype.getDebug=function(){return this.config.debug};k.prototype.getMode=function(){return this.config.mode};k.prototype.createPlugins=function(){this.sendNotification(Aa.REGISTER_PLUGINS,this.config)};k.prototype.createMediaElement=function(){return null};
k.prototype.createFramework=function(){k.__super__.createFramework.call(this);this.setMediaElement(this.createMediaElement());this.createPlugins()};k.prototype.getLanguage=function(){return this.retrieveProxy(M.NAME).getLanguage()};k.prototype.setLanguage=function(a){this.retrieveProxy(M.NAME).setLanguage(a);return a};k.prototype.getLocalizedString=function(a,b){try{return this.retrieveProxy(M.NAME).getString(a,b)}catch(c){return a}};k.prototype.getMediaElement=function(){return this.appState.getMediaElement()};
k.prototype.setMediaElement=function(a){this.appState.setMediaElement(a);null==a.once&&(a.once=function(a,c){var d;d=f.createUID();this[d]=function(a,b,c,d){this.removeEventListener(b,this[a]);delete this[a];c(d)}.bind(this,d,a,c);this.addEventListener(a,this[d])},a.once=a.once.bind(a));a.amp=this;return a};k.prototype.getContainer=function(){return this.getViewComponent()};k.prototype.getAdContainer=function(){};k.prototype.setAdContainer=function(a){};k.prototype.getPreviewTracks=function(){};k.prototype.getAudioTracks=
function(){};k.prototype.evaluateBindings=function(a,b){return Ja.evaluateBindings(a,f.override(this.bindings.data,b))};k.prototype.canPlayType=function(a){};k.prototype.load=function(){};k.prototype.play=function(){};k.prototype.replay=function(){};k.prototype.pause=function(){};k.prototype.end=function(){};k.prototype.setParams=function(a){};k.prototype.getParams=function(){};k.prototype.setAutoplay=function(a){};k.prototype.getAutoplay=function(){};k.prototype.setLoop=function(a){};k.prototype.getLoop=
function(){};k.prototype.setMuted=function(a){};k.prototype.getMuted=function(){};k.prototype.mute=function(){return this.setMuted(!0)};k.prototype.unmute=function(){return this.setMuted(!1)};k.prototype.setMedia=function(a){};k.prototype.getMedia=function(){};k.prototype.setCurrentTime=function(a){};k.prototype.getCurrentTime=function(){};k.prototype.setAbsoluteCurrentTime=function(a){return this.setCurrentTime(a)};k.prototype.getAbsoluteCurrentTime=function(){return this.getCurrentTime()};k.prototype.toUTC=
function(a){return a};k.prototype.fromUTC=function(a){return a};k.prototype.getDuration=function(){};k.prototype.getAbsoluteDuration=function(){return this.getDuration()};k.prototype.setSrc=function(a){};k.prototype.getSrc=function(){};k.prototype.setSource=function(a){};k.prototype.getSource=function(){};k.prototype.setVolume=function(a){};k.prototype.getVolume=function(){};k.prototype.getSeeking=function(){};k.prototype.getPaused=function(){};k.prototype.getEnded=function(){};k.prototype.getBuffering=
function(){return this.appState.getBuffering()};k.prototype.setDisplayState=function(a){};k.prototype.getDisplayState=function(){};k.prototype.getWaiting=function(){return this.appState.getWaiting()};k.prototype.setWaiting=function(a){return this.appState.setWaiting(a)};k.prototype.getBusy=function(){return this.appState.getBusy()};k.prototype.setBusy=function(a){return this.appState.setBusy(a)};k.prototype.getError=function(){};k.prototype.enterFullScreen=function(){};k.prototype.exitFullScreen=
function(){};k.prototype.setHidden=function(a){var b;a!==this.appState.getHidden()&&(this.appState.setHidden(a),b=this.viewComponent.style,!0===a?(this.hiddenData={width:b.width,height:b.height,paused:this.getPaused()},b.width=b.height="0px",!1===this.hiddenData.paused&&this.pause()):(b.width=this.hiddenData.width,b.height=this.hiddenData.height,!1===this.hiddenData.paused&&this.play(),this.hiddenData=null))};k.prototype.getHidden=function(){return this.appState.getHidden()};k.prototype.getWidth=
function(){var a;return null!=(a=this.getViewComponent())?a.offsetWidth:void 0};k.prototype.getHeight=function(){var a;return null!=(a=this.getViewComponent())?a.offsetHeight:void 0};k.prototype.getVideoWidth=function(){var a;return null!=(a=this.getMediaElement())?a.videoWidth:void 0};k.prototype.getVideoHeight=function(){var a;return null!=(a=this.getMediaElement())?a.videoHeight:void 0};k.prototype.getLeft=function(){var a;return null!=(a=this.getViewComponent())?a.offsetLeft:void 0};k.prototype.getRight=
function(){return this.getLeft()+this.getWidth()};k.prototype.getTop=function(){var a;return null!=(a=this.getViewComponent())?a.offsetTop:void 0};k.prototype.getBottom=function(){return this.getTop()+this.getHeight()};k.prototype.getMouseX=function(){return f.clientX-this.getLeft()};k.prototype.getMouseY=function(){return f.clientY-this.getTop()};k.prototype.getMouseOver=function(){var a,b;a=this.getMouseX();b=this.getMouseY();return f.isMouseOverDocument()&&0<=a&&a<=this.getWidth()&&0<=b&&b<=this.getHeight()};
k.prototype.recordContentChange=function(a){};k.prototype.setPlaybackRate=function(){};k.prototype.getPlaybackRate=function(){};k.prototype.setCues=function(a){this.mediaProxy.setCues(a);return a};k.prototype.getCues=function(){return this.mediaProxy.getCues()};k.prototype.setQuality=function(a){};k.prototype.getQuality=function(){};k.prototype.getQualityLevels=function(){};k.prototype.getQualityMode=function(){};k.prototype.setQualityMode=function(a){};k.prototype.getPlaystate=function(){};k.prototype.getPlaybackTarget=
function(){return this.appState.getPlaybackTarget()};k.prototype.setPlaybackTarget=function(a){this.appState.setPlaybackTarget(a)};k.prototype.getMediaTransforms=function(){return this.mediaProxy.getTransforms()};k.prototype.authorize=function(a){this.security.authorize(a)};k.prototype.goLive=function(){};k.prototype.appendChild=function(a){this.mediator.addLayer(a)};k.prototype.removeChild=function(a){this.mediator.removeLayer(a)};k.prototype.getSettings=function(){var a;return(null!=(a=this._settings)?
a.getSettings():void 0)||{change:function(){}}};k.prototype.createMediaError=function(a,b){var c;switch(a){case MediaError.MEDIA_ERR_ABORTED:c=this.l10n.MSG_ERROR_ABORTED;break;case MediaError.MEDIA_ERR_DECODE:c=this.l10n.MSG_ERROR_DECODE;break;case MediaError.MEDIA_ERR_NETWORK:c=this.l10n.MSG_ERROR_NETWORK;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:c=this.l10n.MSG_ERROR_SRC}return Ta.create(c,a,b)};k.prototype.destroy=function(){var a=this;this.sendNotification(e.DESTROY,this);setTimeout(function(){k.__super__.destroy.apply(a);
return a.timers.destroy()},1)};var t=function(a){t.__super__.constructor.call(this,a)};h(t,k);t.prototype.playerType="html";t.prototype.playerCore=null;t.prototype.tracks=null;t.prototype.mediator=null;t.prototype.createMediaElement=function(){var a,b;a=("function"===typeof(b=this.getViewComponent()).querySelector?b.querySelector("video"):void 0)||"video";this.mediator=new bb("html5",a);this.sendNotification(e.PLAYBACK_CORE_CHANGE,this.mediator);a=this.mediator.getViewComponent();null==a.dataset&&
(a.dataset={});return a};t.prototype.createModel=function(){var a;t.__super__.createModel.call(this);this.registerProxy(new M(this.config));a=new ba;this.registerProxy(a);this.playerCore=new S(a,this.config);this.registerProxy(this.playerCore);this.tracks=new Ha;this.registerProxy(this.tracks);this.appState.setRenderMode(Dd.HTML);this.bindings.initialize();this.fps=f.override(Ab,this.config.fps)};t.prototype.createView=function(){t.__super__.createView.call(this);this.mediator=new qa("html5",this.getViewComponent());
this.registerMediator(this.mediator);this.registerMediator(new Ba);this.registerMediator(new hb);this.registerMediator(new Ua);this.adMediator=new Fa;this.registerMediator(this.adMediator)};t.prototype.createController=function(){t.__super__.createController.call(this);this.registerCommand(Aa.PLUGINS_INITIALIZED,Mb);this.registerCommand(e.PLAY,tb);this.registerCommand(e.PLAYING,Ob);this.registerCommand(e.PAUSE,rb);this.registerCommand(e.CHANGE_PLAY_STATE,Bb);this.registerCommand(e.TOGGLE_FULL_SCREEN,
Ac);this.registerCommand(e.CHANGE_DISPLAY_STATE,Sa);this.registerCommand(e.TOGGLE_ACTIVE,Uc);this.registerCommand(e.CHANGE_ACTIVE_STATE,Tc);this.registerCommand(e.SET_MEDIA,ac);this.registerCommand(e.CHANGE_MEDIA,bc);this.registerCommand(e.MEDIA_VALIDATED,Pb);this.registerCommand(e.MEDIA_CHANGE,s);this.registerCommand(e.UPDATE_DATA_BINDINGS,Cb);this.registerCommand(e.START,Sb);this.registerCommand(e.TIME_CHANGE,Sc);this.registerCommand(e.SEEK,Qb);this.registerCommand(e.SEEKING,Rb);this.registerCommand(e.SEEKED,
Ec);this.registerCommand(e.CHANGE_VOLUME,Dc);this.registerCommand(e.CHANGE_MUTED,Ic);this.registerCommand(e.CHANGE_AUTOPLAY,Bc);this.registerCommand(e.CHANGE_LOOP,Cc);this.registerCommand(e.END,Gc);this.registerCommand(e.ENDED,yb);this.registerCommand(e.REPLAY,Fc);this.registerCommand(e.ERROR,cc);this.registerCommand(e.READY,dc);this.registerCommand(e.WAITING,Tb);this.registerCommand(e.CHANGE_DURATION,ec);this.registerCommand(e.CHANGE_PARAMS,fc);this.registerCommand(e.IS_USER_ACTIVE,Hc);this.registerCommand(xa.AUTHORIZED,
Ub);this.registerCommand(e.INITIALIZED,Jc);this.registerCommand(e.REGISTER_PLAYBACK_CORE,Kc);this.registerCommand(fa.TOGGLE_PLAY_PAUSE,Nb);this.registerCommand(fa.SEEK,Qb);this.registerCommand(e.PLAYBACK_TARGET_CHANGE,Db);this.registerCommand(e.RECORD_CONTENT_CHANGE,Lc);this.registerCommand(e.TIME_UPDATE,Vb);this.registerCommand(e.TOGGLE_MUTED,Mc);this.registerCommand(e.VOLUME_CHANGE,Xb);this.registerCommand(e.PLAY_REQUEST,Wb);this.registerCommand(e.HAS_POST_CONTENT,Pc);this.registerCommand(e.LOCK,
Qc);this.registerCommand(fa.GO_LIVE,Rc);this.registerCommand(e.BUFFERING_CHANGE,Eb);this.registerCommand(e.TIMED_METADATA,Yb);this.registerCommand(e.PLAY_STATE_CHANGE,s);this.registerCommand(e.PROGRESS,s);this.registerCommand(e.CAN_PLAY,s);this.registerCommand(e.CAN_PLAY_THROUGH,s);this.registerCommand(e.LOAD_START,s);this.registerCommand(e.STARTED,s);this.registerCommand(e.LOADED_METADATA,s);this.registerCommand(e.DURATION_CHANGE,s);this.registerCommand(e.MEDIUM_CHANGE,s);this.registerCommand(e.TEMPORAL_TYPE_CHANGE,
s);this.registerCommand(e.LANGUAGE_CHANGE,s);this.registerCommand(e.PLAYBACK_TARGET_AVAILABILITY_CHANGE,s);this.registerCommand(xa.AUTHORIZE,s);this.registerCommand(xa.AUTHORIZATION_FAILED,s);this.registerCommand(xa.AUTHENTICATION_FAILED,s);this.registerCommand(xa.AUTHORIZATION_EXPIRED,s);this.registerCommand(e.FAIL_OVER_ATTEMPT,s);this.registerCommand(e.IS_LIVE,s);this.registerCommand(e.PAUSED,s);this.registerCommand(e.STALLED,s);this.registerCommand(e.QUALITY_CHANGE,s);this.registerCommand(e.QUALITY_SWITCHED,
s);this.registerCommand(e.QUALITY_CHANGING,s);this.registerCommand(e.QUALITY_LEVELS_LOADED,s);this.registerCommand(e.MUTE_CHANGE,s);this.registerCommand(e.RESUME,s);this.registerCommand(e.FRAGMENT_LOAD_START,s);this.registerCommand(e.FRAGMENT_LOADED,s);this.registerCommand(e.AUTOPLAY_BLOCKED,s);this.registerCommand(e.AUDIO_TRACK_SWITCH,s);this.registerCommand(e.MEDIA_SEQUENCE_STARTED,s);this.registerCommand(e.MEDIA_SEQUENCE_INITIALIZED,s);this.registerCommand(e.MEDIA_SEQUENCE_ABORTED,s);this.registerCommand(e.MEDIA_SEQUENCE_ENDED,
zb);this.registerCommand(e.ENABLE_VIDEO_EVENTS,Nc);this.registerCommand(e.DISABLE_VIDEO_EVENTS,Oc)};t.prototype.setMediaElement=function(a){var b;b=this.getMediaElement();null!=b&&b.removeEventListener("webkitpresentationmodechanged",this.presentationModeChanged);a.addEventListener("webkitpresentationmodechanged",this.presentationModeChanged);t.__super__.setMediaElement.call(this,a);return a};t.prototype.presentationModeChanged=function(a){"inline"===a.target.webkitPresentationMode&&(a.target.controls=
!1)};t.prototype.recordContentChange=function(a){this.sendNotification(e.RECORD_CONTENT_CHANGE,a)};t.prototype.canPlayType=function(a){return this.retrieveProxy(m.NAME).canPlayType(a)};t.prototype.getAudioTracks=function(){return this.retrieveProxy(Ha.NAME).getAudioTracks()};t.prototype.getPreviewTracks=function(){return this.retrieveProxy(Ha.NAME).getPreviewTracks()};t.prototype.load=function(){this.sendNotification(e.LOAD)};t.prototype.play=function(){this.sendNotification(e.PLAY,!0)};t.prototype.replay=
function(){this.sendNotification(e.REPLAY)};t.prototype.pause=function(){this.sendNotification(e.PAUSE)};t.prototype.end=function(){this.sendNotification(e.END)};t.prototype.setParams=function(a){this.sendNotification(e.CHANGE_PARAMS,a);return a};t.prototype.getParams=function(){return this.params.getData()};t.prototype.setAutoplay=function(a){this.sendNotification(e.CHANGE_AUTOPLAY,a);return a};t.prototype.getAutoplay=function(){return this.configuration.getAutoplay()};t.prototype.setLoop=function(a){this.sendNotification(e.CHANGE_LOOP,
a);return a};t.prototype.getLoop=function(){return this.configuration.getLoop()};t.prototype.setMuted=function(a){this.sendNotification(e.CHANGE_MUTED,a);return a};t.prototype.getMuted=function(){return this.retrieveProxy(m.NAME).getMuted()};t.prototype.setMedia=function(a){this.sendNotification(e.SET_MEDIA,a);return a};t.prototype.getMedia=function(){return this.mediaProxy.getData()};t.prototype.setCurrentTime=function(a){this.sendNotification(e.SEEK,a);return a};t.prototype.getCurrentTime=function(){return this.appState.getCurrentTime()};
t.prototype.setAbsoluteCurrentTime=function(a){this.sendNotification(e.SEEK,a);return a};t.prototype.getAbsoluteCurrentTime=function(){return this.retrieveProxy(m.NAME).getCurrentTime()};t.prototype.toUTC=function(a){return this.retrieveProxy(m.NAME).toUTC(a)};t.prototype.fromUTC=function(a){return this.retrieveProxy(m.NAME).fromUTC(a)};t.prototype.getDuration=function(){return this.appState.getDuration()};t.prototype.getAbsoluteDuration=function(){return this.mediaProxy.getDuration()};t.prototype.setSrc=
function(a){this.sendNotification(e.SET_MEDIA,{src:a});return a};t.prototype.getSrc=function(){return this.mediaProxy.getSrc()};t.prototype.setSource=function(a){this.sendNotification(e.SET_MEDIA,{source:a});return a};t.prototype.getSource=function(){return this.mediaProxy.getSource()};t.prototype.setVolume=function(a){this.sendNotification(e.CHANGE_VOLUME,a);return a};t.prototype.getVolume=function(){return this.retrieveProxy(m.NAME).getVolume()};t.prototype.getSeeking=function(){return this.retrieveProxy(m.NAME).getSeeking()};
t.prototype.getPaused=function(){return this.retrieveProxy(m.NAME).getPaused()};t.prototype.getEnded=function(){return this.appState.getEnded()};t.prototype.getError=function(){return this.getMediaElement().error};t.prototype.setDisplayState=function(a){this.sendNotification(e.CHANGE_DISPLAY_STATE,a)};t.prototype.getDisplayState=function(a){return this.appState.getDisplayState()};t.prototype.enterFullScreen=function(){this.sendNotification(e.CHANGE_DISPLAY_STATE,L.FULL_SCREEN)};t.prototype.exitFullScreen=
function(){this.sendNotification(e.CHANGE_DISPLAY_STATE,L.NORMAL)};t.prototype.setPlaybackRate=function(a){var b;!0!==(null!=(b=this.ads)?b.inProgress:void 0)&&a!==this.getMediaElement().playbackRate&&(this.appState.setPlaybackRate(a),this.getMediaElement().playbackRate=a,this.dispatchEvent(new F(Events.PLAYBACK_RATE_CHANGE,a)))};t.prototype.getPlaybackRate=function(){return this.getMediaElement().playbackRate};t.prototype.getQualityLevels=function(){return this.retrieveProxy(m.NAME).getQualityLevels()};
t.prototype.setQuality=function(a){return this.retrieveProxy(m.NAME).setQuality(a)};t.prototype.getQuality=function(){return this.retrieveProxy(m.NAME).getQuality()};t.prototype.getQualityMode=function(){return this.retrieveProxy(m.NAME).getQualityMode()};t.prototype.setQualityMode=function(a){return this.retrieveProxy(m.NAME).setQualityMode(a)};t.prototype.getPlayState=function(){return this.appState.getPlayState()};t.prototype.goLive=function(){return this.retrieveProxy(m.NAME).goLive()};t.prototype.getAdContainer=
function(){return this.adMediator.getContainer()};t.prototype.setAdContainer=function(a){this.adMediator.setContainer(a)};t.prototype.destroy=function(){var a,b;null!=(a=this.retrieveProxy(S.NAME))&&null!=(b=a.activePlaybackCore)&&"function"===typeof b.destroy&&b.destroy();t.__super__.destroy.call(this)};var m=function(){m.__super__.constructor.call(this,m.NAME);this.data={core:null,muted:!1,started:!1,volume:1,currentTime:0,duration:0,src:null,ended:!1,paused:!0,seeking:!1,loading:!1,waiting:!1,
keyErrored:!1};"desktop"===f.getDevice()&&(this.initialized=!0);this.handlers={timeupdate:this.ontimeupdate.bind(this),durationchange:this.ondurationchange.bind(this),play:this.onplay.bind(this),playing:this.onplaying.bind(this),pause:this.onpause.bind(this),loadeddata:this.onloadeddata.bind(this),waiting:this.onwaiting.bind(this),seeking:this.onseeking.bind(this),seeked:this.onseeked.bind(this),ended:this.onended.bind(this),progress:this.onprogress.bind(this),error:this.onerror.bind(this),loadstart:this.onloadstart.bind(this),
canplay:this.oncanplay.bind(this),canplaythrough:this.oncanplaythrough.bind(this),loadedmetadata:this.onloadedmetadata.bind(this),stalled:this.onstalled.bind(this)};this.resume={event:-1===f.getIEVersion()||11===f.getIEVersion()?"loadedmetadata":"canplaythrough",listener:this.resumestart.bind(this)};this.textTrackHandlers={addtrack:this.onaddtrack.bind(this)};this.onneedkey=this.onneedkey.bind(this)};h(m,puremvc.Proxy);m.NAME="PlaybackProxy";m.prototype.data=null;m.prototype.initialized=!1;m.prototype.enabled=
null;m.prototype.handlers=null;m.prototype.resume=null;m.prototype.playWhenLoaded=!1;m.prototype.metadataloaded=!1;m.prototype.activeCuesIndex=0;m.prototype.id3CueType=null;m.prototype.getEnabled=function(){return this.enabled};m.prototype.setEnabled=function(a){if(a!==this.enabled)return this.enabled=a,!0===this.enabled?this.load():this.applyHandlers(!1),a};m.prototype.applyHandlers=function(a){var b,c,d,g;null==a&&(a=!0);d=this.getMediaElement();a=a?"addEventListener":"removeEventListener";g=this.handlers;
for(c in g)b=g[c],d[a](c,b)};m.prototype.resumestart=function(a){var b=this;this.getMediaElement();this.handlers.durationchange(a);0<this.data.currentTime&&!0!==this.data.ended?this.facade.timers.setTimeout(function(){b.seek(b.data.currentTime).then(b.resumecomplete.bind(b))},50):this.resumecomplete()};m.prototype.resumecomplete=function(){this.data.loading=!1;this.applyHandlers(!0);!0===this.playWhenLoaded&&this.facade.timers.setTimeout(this.play.bind(this),1)};m.prototype.onaddtrack=function(a){var b=
this;a=a.track;"metadata"===a.kind&&(a.mode="hidden",a.addEventListener("cuechange",function(a){var d,g,p,f;f=a.target.activeCues;g=0;for(p=f.length;g<p;g++)a=f[g],d!==a&&(b.sendNotification(e.TIMED_METADATA,a),d=a)}))};m.prototype.ontimeupdate=function(a){var b;a=a.target.currentTime;!0!==(null!=(b=this.facade.ads)?b.inProgress:void 0)&&(this.data.currentTime=a,this.sendNotification(e.TIME_CHANGE,{currentTime:a}))};m.prototype.ondurationchange=function(a){if(a=a.target.duration)this.data.duration=
a,/Android [4-7]/.test(navigator.userAgent)&&-1!==this.getMediaElement().src.indexOf(".m3u8")&&Infinity===a||this.sendNotification(e.CHANGE_DURATION,a)};m.prototype.onplay=function(a){this.data.paused=!1};m.prototype.onplaying=function(a){this.data.paused=!1;this.data.seeking=!1;this.data.waiting=!1;this.sendNotification(e.PLAYING)};m.prototype.onpause=function(a){!0===this.getMediaElement().ended||this.facade.playState===aa.READY||!0===this.data.waiting&&"hls"===this.playbackCoreName||(this.data.paused=
!0,0<a.target.readyState&&(this.sendNotification(e.PAUSED),this.sendNotification(e.CHANGE_PLAY_STATE,aa.PAUSED)))};m.prototype.onloadeddata=function(a){this.sendNotification(e.LOADED_DATA)};m.prototype.onwaiting=function(a){this.data.waiting=!0;this.sendNotification(e.WAITING);a=this.getMediaElement();!1===a.seeking&&2===a.readyState&&2===a.networkState&&(a.once("playing",this.sendNotification.bind(this,e.BUFFERING_CHANGE,!1)),this.sendNotification(e.BUFFERING_CHANGE,!0))};m.prototype.onstalled=function(a){this.sendNotification(e.STALLED)};
m.prototype.onseeking=function(a){this.getMediaElement().removeEventListener("timeupdate",this.handlers.timeupdate);this.sendNotification(e.TIME_CHANGE,{currentTime:a.target.currentTime});this.data.seeking=!0;this.sendNotification(e.SEEKING)};m.prototype.onseeked=function(a){this.data.seeking=!1;this.sendNotification(e.SEEKED,a.target.currentTime);this.getMediaElement().addEventListener("timeupdate",this.handlers.timeupdate)};m.prototype.onended=function(a){this.data.ended=!0;this.sendNotification(e.ENDED)};
m.prototype.onprogress=function(a){var b,c;try{c=this.getMediaElement(),b=c.buffered,this.sendNotification(e.PROGRESS,b.end(b.length-1)/c.duration)}catch(d){}};m.prototype.onerror=function(a){a=this.getMediaElement().error;this.sendNotification(e.ERROR,this.facade.createMediaError(a.code,a))};m.prototype.onloadstart=function(a){this.sendNotification(e.LOAD_START)};m.prototype.oncanplay=function(a){this.sendNotification(e.CAN_PLAY)};m.prototype.oncanplaythrough=function(a){this.createTracks();this.sendNotification(e.CAN_PLAY_THROUGH);
this.sendNotification(e.PROGRESS,this.getDuration())};m.prototype.onloadedmetadata=function(a){this.metadataloaded=!0;this.sendNotification(e.ENABLE_FULL_SCREEN);this.sendNotification(e.LOADED_METADATA)};m.prototype.applyTextTrackHandlers=function(a){var b;a=!0===a?"addEventListener":"removeEventListener";if(null!=(b=this.getMediaElement().textTracks))b[a]("addtrack",this.textTrackHandlers.addtrack)};m.prototype.createTracks=function(){var a,b,c,d,g,e,Y,l;a=this.getMediaElement().audioTracks;e=this.facade.retrieveProxy(Ha.NAME).getAudioTracks();
b=function(a,b){this.facade.tracks.getAudioTracks().forEach(function(a){return a.data.enabled=!1});if(!0===b)return this.facade.tracks.getAudioTracks()[a.id].data.enabled=!0};if(null!=a)for(c=a.length||0,d=Y=0,l=a.length;Y<l;d=++Y)g=a[d],!1!==f.fieldIsUnique(e,"id",g.id)&&(g=new Ea(g),g.changeEnabled=b.bind(this,g),e.add(g,d+1===c))};m.prototype.reset=function(){this.data.currentTime=0;this.data.duration=0;this.data.src=null;this.data.ended=!1;this.data.paused=!1;this.data.seeking=!1;this.data.started=
!1;this.data.loading=!1;this.applyTextTrackHandlers(!1)};m.prototype.getStarted=function(){return this.data.started};m.prototype.getMediaElement=function(){return this.facade.getMediaElement()};m.prototype.canPlayMedium=function(a){return"video"===a};m.prototype.canPlayTemporalType=function(a){return"dvr"!==a};m.prototype.canPlayType=function(a){var b;b=document.createElement("video").canPlayType(a)||"";(/Android (4\.[1-9]|[5-6])/.test(navigator.userAgent)||/Silk\/3/.test(navigator.userAgent))&&a===
f.mimeTypes.m3u8&&(b="maybe");"probably"===b&&/video\/f4m|x-flv/.test(a)&&/UCBrowser/.test(navigator.userAgent)&&(b="");return b};m.prototype.getPaused=function(){return this.data.paused};m.prototype.getSeeking=function(){return this.data.seeking};m.prototype.getCurrentTime=function(){return this.data.currentTime};m.prototype.setCurrentTime=function(a){if(a!==this.data.currentTime)return this.data.currentTime=a,this.getStarted()&&this.seek(a),a};m.prototype.getCurrentTimeUTC=function(){var a,b;a=
this.facade.retrieveProxy(C.NAME).getValueOf("startDate");b=0;null!=a&&(b=Math.round(a+1E3*this.getCurrentTime()));return b};m.prototype.toUTC=function(a){var b,c;if(!isFinite(a))return a;c=this.getCurrentTimeUTC();if(0===c)return a;b=this.getCurrentTime();a=Math.round(1E3*(a-b));return c+a};m.prototype.fromUTC=function(a){var b;if(!isFinite(a))return a;b=this.getCurrentTimeUTC();return 0===b?a:this.getCurrentTime()+(a-b)/1E3};m.prototype.seek=function(a){var b=this;null==a&&(a=this.data.currentTime);
return new Promise(function(c,d){var g,e,f;try{f=b.getMediaElement(),f.once("seeked",function(){b.facade.timers.setTimeout(c,10,a)}),f.currentTime=a,e=navigator.userAgent,/Android.*Chrome/.test(e)&&(g=b.facade.timers.setInterval(function(){Math.round(f.currentTime)===Math.round(a)&&(b.facade.timers.clearInterval(g),f.dispatchEvent(new CustomEvent("seeked")))},10))}catch(l){d(l)}})};m.prototype.goLive=function(){var a,b;a=this.getMediaElement();b=Infinity===a.duration?a.seekable.end(0):a.duration;
a.currentTime=b};m.prototype.getVolume=function(){var a;a=this.getMediaElement();return!0===a.muted?0:a.volume};m.prototype.setVolume=function(a){this.getMuted()&&0<a?this.setMuted(!1,!1):this.getMuted()||0!==a||this.setMuted(!0,!1);this.sendNotification(e.VOLUME_CHANGE,this.getMediaElement().volume=a);return a};m.prototype.getMuted=function(){return this.data.muted};m.prototype.setMuted=function(a,b){var c;null==b&&(b=!0);if(this.data.muted!==a)return this.data.muted=a,!0===this.data.muted?(this.data.volume=
this.getVolume(),c=0):c=this.data.volume,this.getMediaElement().muted=a,!0===b&&(this.sendNotification(e.CHANGE_VOLUME,c),this.sendNotification(e.VOLUME_CHANGE,c)),this.sendNotification(e.MUTE_CHANGE,this.data.muted),a};m.prototype.getDuration=function(){return this.data.duration};m.prototype.play=function(){var a,b=this;if(!0!==this.data.started){if(this.data.started=!0,this.setEnabled(!0),this.playWhenLoaded=!0,!1===this.metadataloaded)return}else if(!0===this.data.loading){this.playWhenLoaded=
!0;return}this.getPaused()&&this.sendNotification(e.RESUME);a=this.getMediaElement().play();if(null!=(null!=a?a["catch"]:void 0))a["catch"](function(a){return AutoplayThreshold.value(!0).then(function(a){return b.sendNotification(e.AUTOPLAY_BLOCKED,{threshold:a,policy:b.facade.autoplayPolicy})})})};m.prototype.pause=function(){this.data.paused=!0;this.getMediaElement().pause()};m.prototype.getSrc=function(){return this.facade.mediaProxy.getSrc()};m.prototype.load=function(){var a;this.sendNotification(e.WAITING);
this.data.loading=!0;this.metadataloaded=this.playWhenLoaded=!1;a=this.getMediaElement();a.once(this.resume.event,this.resume.listener);a.addEventListener("loadedmetadata",this.handlers.loadedmetadata);a.addEventListener("durationchange",this.handlers.durationchange);a.addEventListener("canplaythrough",this.handlers.canplaythrough);a.addEventListener("webkitneedkey",this.onneedkey);a.addEventListener("error",this.handlers.error);this.applyTextTrackHandlers(!0);this.applySrc()};m.prototype.applySrc=
function(){var a,b,c;b=this.getSrc();null!=b&&""!==b||this.sendNotification(e.ERROR,"The value of src is not supported: "+value);a=this.getMediaElement();a.src=b;!0===a.muted&&(this.data.muted=!0);f.isIPad()&&8>(null!=(c=f.getIOSversion())?c[0]:void 0)?this.facade.timers.setTimeout(a.load.bind(a),100):a.load()};m.prototype.setQuality=function(a){};m.prototype.getQuality=function(){};m.prototype.getQualityLevels=function(){return[]};m.prototype.getQualityMode=function(){};m.prototype.setQualityMode=
function(a){};m.prototype.destroy=function(){var a,b,c,d;a=this.getMediaElement();d=this.handlers;for(b in d)c=d[b],a.removeEventListener(b,c);a.removeEventListener(this.resume.event,this.resume.listener);a.removeEventListener("webkitneedkey",this.onneedkey);null!=(a=a.textTracks)&&a.removeEventListener("addtrack",this.textTrackHandlers.addtrack)};m.prototype.onneedkey=function(a){var b,c,d,g,p,Y,l,h,k,m=this;h=a.target;p=f.getKeySystem();Y=this.facade.mediaProxy.getKeys()[p];d=this.facade.fps;c=
null!=(null!=(k=this.facade.config.fps)?k.allowKeyErrorRetries:void 0)&&!1===this.facade.config.fps.allowKeyErrorRetries;null!=Y&&"com.apple.fps.1_0"===p&&(this.keyErrored&&c?this.getMediaElement().removeEventListener("webkitneedkey",this.onneedkey):(g=a.initData,b=d.extractContentId(g,Y),l=d.extractServerUrl(g,Y),d.requestCertificate(Y).then(function(a){return d.concatInitDataIdAndCertificate(g,b,a)}).then(function(a){var c;if(!WebKitMediaKeys.isTypeSupported(p,"video/mp4"))throw"Key System not supported";
null==h.webkitKeys&&h.webkitSetMediaKeys(new WebKitMediaKeys(p));if(null==h.webkitKeys)throw"Could not create MediaKeys";c=h.webkitKeys.createSession("video/mp4",a);if(null==c)throw"Could not create key session";c.addEventListener("webkitkeymessage",function(a){d.requestLicense(a.message,b,l,Y).then(function(a){c.update(a)})["catch"](function(a){c.close();m.keyErrored=!0;m.facade.logger.error("[AMP DRM] A key request error was encountered.",a)})});c.addEventListener("webkitkeyadded",function(a){m.facade.logger.log("[AMP DRM] Decryption key was added to session.")});
c.addEventListener("webkitkeyerror",function(a){m.sendNotification(e.ERROR,{message:"A decryption key error was encountered for key system "+p,detail:a});c.close();m.keyErrored=!0;m.facade.logger.log("[AMP DRM] A decryption key error was encountered.",a)})})["catch"](function(a){m.facade.logger.error(a)})))};var Xc=function(){Xc.__super__.constructor.call(this)};h(Xc,puremvc.SimpleCommand);Xc.prototype.execute=function(a){this.facade.timers.setImmediate(this.facade.pluginsinitialized.bind(this.facade))};
var Yc=function(){Yc.__super__.constructor.call(this)};h(Yc,B);Yc.prototype.execute=function(a){this.player.started=!0;this.sendNotification(e.STARTED,a.getBody());this.sendNotification(e.PLAY,a.getBody())};var Eb=function(){Eb.__super__.constructor.call(this)};h(Eb,s);Eb.prototype.execute=function(a){var b;b=a.getBody();this.applicationState.getBuffering()!==b&&(this.applicationState.setBuffering(b),Eb.__super__.execute.call(this,a))};var Va=function(a,b){this.player=a;this.config=b;Va.__super__.constructor.call(this,
this.constructor.NAME);this.proxy=new M(this.config);this.player.registerProxy(this.proxy)};h(Va,puremvc.Mediator);Va.prototype.player=null;Va.prototype.config=null;Va.prototype.proxy=null;Va.NAME="LocalizationWrapper";Va.prototype.getString=function(a,b){return this.proxy.getString(a,b)};Va.prototype.listNotificationInterests=function(){return["createFlashVars","createXML"]};Va.prototype.handleNotification=function(a){var b,c,d,g,e,f,l,h;Va.__super__.handleNotification.call(this,a);e=a.getName();
a=a.getBody();switch(e){case "createFlashVars":c=a.flashvars;c.locale_setting=this.proxy.getLocaleId();break;case "createXML":for(d in a=a.xml,b=a.firstChild,e=a.getElementsByTagName("locales")[0],null==e&&(e=a.createElement("locales"),b.appendChild(e)),h=this.proxy.getLocales(),h)for(c in g=h[d],b=a.createElement("locale"),b.setAttribute("id",d),e.appendChild(b),g)l=g[c],f=a.createElement("property"),f.setAttribute("key",c),l=pa.createTextContent(a,l),f.appendChild(l),b.appendChild(f)}};var bb=function(a,
b){this.mediatorName=""+this.componentType+"-mediator";bb.__super__.constructor.call(this,a,null,null,b)};h(bb,Z);bb.prototype.componentType="media-element";bb.prototype.created=!1;bb.prototype.onRegister=function(){!0!==this.created&&(this.created=!0,bb.__super__.onRegister.call(this))};var Wa=function(){Wa.__super__.constructor.call(this)};h(Wa,Z);Wa.prototype.componentType="layer";Wa.prototype.onRegister=function(){Wa.__super__.onRegister.call(this);this.registerLayer()};Wa.prototype.onRemove=
function(){Wa.__super__.onRemove.call(this);this.removeLayer()};Wa.prototype.registerLayer=function(){this.sendNotification(e.ADD_LAYER,this.viewComponent)};Wa.prototype.removeLayer=function(){this.sendNotification(e.REMOVE_LAYER,this.viewComponent)};var hb=function(){hb.__super__.constructor.call(this)};h(hb,Wa);hb.prototype.componentName="video";hb.prototype.listNotificationInterests=function(){return[e.PLAYBACK_CORE_CHANGE]};hb.prototype.mediator=null;hb.prototype.mediaElement=null;hb.prototype.handleNotification=
function(a){var b;b=a.getName();a=a.getBody();switch(b){case e.PLAYBACK_CORE_CHANGE:null!=this.mediaElement&&this.viewComponent.removeChild(this.mediaElement),null!=this.mediator&&this.facade.removeMediator(this.mediator.getMediatorName()),(b=null!=(null!=a?a.getViewComponent:void 0))?(this.facade.registerMediator(a),this.mediator=a,this.mediaElement=this.mediator.getViewComponent()):(this.mediator=null,this.mediaElement=a),null!=this.mediaElement&&(this.facade.setMediaElement(this.mediaElement),
this.viewComponent.appendChild(this.mediaElement))}};var qa=function(a,b){this.componentName=a;this.layers=[];qa.__super__.constructor.call(this,null,null,null,b)};h(qa,Z);qa.prototype.componentType="player";qa.prototype.core=null;qa.prototype.medium=null;qa.prototype.layers=null;qa.prototype.ready=!1;qa.prototype.onRegister=function(){var a;qa.__super__.onRegister.call(this);a=f.getDevice();null!=a&&this.classList.add(a);f.isTouchDevice()&&this.classList.add("touch")};qa.prototype.listNotificationInterests=
function(){return[e.DISPLAY_STATE_CHANGE,e.ACTIVE_STATE_CHANGE,e.PLAY_STATE_CHANGE,e.ADD_APPLICATION_STATE,e.REMOVE_APPLICATION_STATE,e.MEDIUM_CHANGE,e.DURATION_CHANGE,e.TEMPORAL_TYPE_CHANGE,e.IS_LIVE,e.ADD_LAYER,e.REMOVE_LAYER,e.READY]};qa.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case e.ACTIVE_STATE_CHANGE:case e.PLAY_STATE_CHANGE:case e.DISPLAY_STATE_CHANGE:case e.MEDIUM_CHANGE:b=a.value;a=a.previous;null!=a&&this.classList.contains(a)&&this.classList.remove(a);
null!=b&&this.classList.add(b);break;case e.ADD_APPLICATION_STATE:if(null==a)break;this.classList.add(a);break;case e.REMOVE_APPLICATION_STATE:this.classList.remove(a);break;case e.TEMPORAL_TYPE_CHANGE:a.previous&&this.sendNotification(e.REMOVE_APPLICATION_STATE,a.previous);a.value&&this.sendNotification(e.ADD_APPLICATION_STATE,a.value);break;case e.IS_LIVE:!0===a?this.sendNotification(e.ADD_APPLICATION_STATE,"is-live"):this.sendNotification(e.REMOVE_APPLICATION_STATE,"is-live");break;case e.DURATION_CHANGE:3600<
a?this.sendNotification(e.ADD_APPLICATION_STATE,"long-form"):this.sendNotification(e.REMOVE_APPLICATION_STATE,"long-form");break;case e.ADD_LAYER:this.addLayer(a);break;case e.REMOVE_LAYER:this.removeLayer(a);break;case e.READY:this.initialize(),this.viewCreated()}};qa.prototype.initialize=function(){var a,b,c,d;this.ready=!0;d=this.layers;b=0;for(c=d.length;b<c;b++)a=d[b],this.viewComponent.contains(a)||this.viewComponent.appendChild(a)};qa.prototype.viewCreated=function(){this.sendNotification(e.VIEW_CREATED)};
qa.prototype.addLayer=function(a){this.layers.push(a);this.ready&&this.viewComponent.appendChild(a)};qa.prototype.removeLayer=function(a){this.viewComponent.contains(a)&&this.viewComponent.removeChild(a);a=this.layers.indexOf(a);0<=a&&this.layers.splice(a,1)};var ib=function(a){ib.__super__.constructor.call(this,this.type,a)};h(ib,qa);ib.NAME="FlashPlayerMediator";ib.prototype.type="flash";ib.prototype.listNotificationInterests=function(){return ib.__super__.listNotificationInterests.call(this).concat([Aa.PLUGINS_INITIALIZED])};
ib.prototype.handleNotification=function(a){var b;b=a.getName();a.getBody();switch(b){case e.READY:this.viewCreated();return;case Aa.PLUGINS_INITIALIZED:this.initialize();return}ib.__super__.handleNotification.call(this,a)};var Db=function(){Db.__super__.constructor.call(this)};h(Db,s);Db.prototype.execute=function(a){var b;b="amp"===a.getBody().value?e.REMOVE_APPLICATION_STATE:e.ADD_APPLICATION_STATE;this.sendNotification(b,"remote-playback");Db.__super__.execute.call(this,a)};var gc=function(){gc.__super__.constructor.call(this)};
h(gc,s);gc.prototype.execute=function(a){gc.__super__.execute.call(this,a);a=f.clone(this.media.getData());a.src=this.media.getSrc();this.facade.getMediaElement().authenticationComplete({media:a})};var ba=function(a,b){this.supportedTypes=null!=a?a:this.supportedTypes;this.config=b;ba.__super__.constructor.call(this);this.temporalTypes=["vod","live","ondemand"]};h(ba,m);ba.prototype.temporalTypes=null;ba.prototype.supportedTypes=null;ba.prototype.playbackCoreName="default";ba.prototype.config=null;
ba.prototype.renderer=function(){var a=this;return{id:this.playbackCoreName,canPlay:function(b){return!0===a.canPlayMedium(b.medium)&&!0===a.canPlayTemporalType(b.temporalType)&&""!==a.canPlayType(b.type)},factory:function(b){return Promise.resolve(a)}}};ba.prototype.onRegister=function(){this.mediaProxy=this.facade.retrieveProxy(r.NAME)};ba.prototype.getUseMAE=function(){var a;a=this.config.mae;return null!=a&&!1!==a.enabled};ba.prototype.getPlaybackCoreName=function(){return this.playbackCoreName};
ba.prototype.getSupportedTypes=function(){return this.supportedTypes||[]};ba.prototype.setSupportedTypes=function(a){return this.supportedTypes=a};ba.prototype.getTemporalTypes=function(){return this.temporalTypes||[]};ba.prototype.setTemporalTypes=function(a){return this.temporalTypes=a};ba.prototype.canPlayTemporalType=function(a){return-1!==this.getTemporalTypes().indexOf(a)};ba.prototype.canPlayType=function(a){return null!=this.supportedTypes?-1!==this.getSupportedTypes().indexOf(a)?"maybe":
"":ba.__super__.canPlayType.call(this,a)};var ca=function(a){this.player=a;ca.__super__.constructor.call(this)};h(ca,ba);ca.NAME=m.NAME;ca.prototype.player=null;ca.prototype.initialized=!0;ca.prototype.playbackCoreName="flash";ca.prototype.supportedTypes=["video/mp4","video/x-flv","video/f4m","application/smil","application/smil+xml"];ca.prototype.getPaused=function(){return this.player.getPaused()};ca.prototype.getEnded=function(){return this.player.getEnded()};ca.prototype.getSeeking=function(){return this.player.getSeeking()};
ca.prototype.getCurrentTime=function(){return this.player.getCurrentTime()};ca.prototype.setCurrentTime=function(a){this.player.setCurrentTime(a);return a};ca.prototype.getSrc=function(){return this.player.getSrc()};ca.prototype.setSrc=function(a){this.player.setSrc(a);return a};ca.prototype.getVolume=function(){return this.player.getVolume()};ca.prototype.setVolume=function(a){this.player.setVolume(a);return a};ca.prototype.getMuted=function(){return this.player.getMuted()};ca.prototype.setMuted=
function(a){this.player.setMuted(a);return a};ca.prototype.getDuration=function(a){return this.player.getDuration()};ca.prototype.play=function(){this.player.play()};ca.prototype.pause=function(){this.player.pause()};ca.prototype.load=function(){this.player.load()};var n=function(a){var b=this;this.flashObjectID+=Date.now();this.plugins={};this._displayState=L.NORMAL;this.debug=/debug\=true/.test(location.search);n.__super__.constructor.call(this,a);this.addEventListener("mediachange",function(a){var d,
g,e,f,l;e=a.detail.track;g=b.getMediaElement();a=g.textTracks=[];if(null!=e)for(f=0,l=e.length;f<l;f++)d=e[f],d={kind:d.kind,label:d.label,language:d.srclang,_mode:d.mode},Object.defineProperty(d,"mode",{get:function(){return this._mode},set:function(a){this._mode=a;(a="showing"===a)&&g.setTrackByLanguage(this.language);g.setPlayerProperty("captionDisplay",{visible:a})},enumerable:!0,configurable:!1}),a.push(d)})};h(n,k);n.prototype.initialize=function(a,b){var c,d;this.config=a;this.parentModule=
b;this.createDefaults();this.logEvents=!0===(null!=(c=this.config.flash)?c.logEvents:void 0)||"true"===(null!=(d=ja["amp-flash-log"])?d.toLowerCase():void 0);n.__super__.initialize.call(this,this.config,this.parentModule)};n.prototype.loadModuleResources=function(a){var b=this;return n.__super__.loadModuleResources.call(this,a).then(function(){var a,d,g,e,Y;d=b.config.locales;g=[];e=function(a,b){d[a]=b.data};for(a in d)Y=d[a],"string"===typeof Y&&g.push(w.addResource({src:b.evaluatePaths(Y),type:f.mimeTypes.json}).then(e.bind(b,
a))["catch"](function(a){return Promise.resolve()}));return Promise.all(g)})};n.prototype.pluginsinitialized=function(){var a,b,c,d;b=this.config.flash||{};a=!0===(null!=(c=b["static"])?c.enabled:void 0)?b["static"]:b;d=this.debug&&null!=a.debug?a.debug:a.swf||"amp.swf";this.evaluatePaths(b.expressInstallSWF);c=this.createParams(b);a=this.createAttributes(b);this.flashvars=this.createFlashVars(b);null==this.flashvars.settings_url&&(b=this.createXML(this.config),null!=b&&(this.flashvars.settings_xml=
b));a.data=this.evaluatePaths(d);this.createdHandler(f.createFlashObject({params:c,attributes:a,vars:this.flashvars},this.getMediaElement().parentNode))};n.prototype.playerType="flash";n.prototype.flashObjectID="flashObject";n.prototype.loaded=!1;n.prototype.flashvars=null;n.prototype._paused=!1;n.prototype._ended=!1;n.prototype._muted=!1;n.prototype.plugins=null;n.prototype.debug=!1;n.prototype.started=!1;n.prototype._displayState=null;n.prototype.logEvents=!1;n.prototype._loop=!1;n.prototype.playback=
null;n.prototype.flashPlugins=[{id:"AkamaiAdvancedStreamingPlugin",src:"//sslplayers-vh.akamaihd.net/flash/plugins/osmf/advanced-streaming-plugin/v3.10/osmf2.0/AkamaiAdvancedStreamingPlugin.swf",absolute:!0,host:"osmf",main:"com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo",type:"application/x-shockwave-flash"},{id:"ErrorMessagingPlugin",src:"#{paths.resources}plugins/ErrorMessagingPlugin.swf",blocking:!1,host:"akamai",main:"ErrorMessagingPlugin",type:"application/x-shockwave-flash"},{id:"VideoMetricsViewPlugin",
src:"#{paths.resources}plugins/VideoMetricsViewPlugin.swf",blocking:!1,host:"akamai",main:"VideoMetricsViewPlugin",type:"application/x-shockwave-flash"},{id:"VideoStatsInfoOverlayPlugin",src:"#{paths.resources}plugins/VideoStatsInfoOverlayPlugin.swf",blocking:!1,host:"akamai",main:"VideoStatsInfoOverlayPlugin",type:"application/x-shockwave-flash"}];n.prototype.flashView=null;n.prototype.createModel=function(){n.__super__.createModel.call(this);this.playback=new ca(this);this.registerProxy(this.playback);
this.appState.setRenderMode(Dd.FLASH);this.bindings.initialize()};n.prototype.createView=function(){n.__super__.createView.call(this);this.mediator=new ib(this.getViewComponent());this.registerMediator(this.mediator);this.registerMediator(new hb);this.registerMediator(new Ua);this.registerMediator(new Va(this,this.config))};n.prototype.createController=function(){var a,b=this;n.__super__.createController.call(this);null!=(null!=(a=this.config.plugins)?a.react:void 0)&&(this.registerCommand(e.CHANGE_DISPLAY_STATE,
Sa),this.getDisplayState=function(){return b.appState.getDisplayState()},this.setDisplayState=function(a){return b.sendNotification(e.CHANGE_DISPLAY_STATE,a)});this.registerCommand(Aa.PLUGINS_INITIALIZED,Xc);this.registerCommand(xa.AUTHORIZE,s);this.registerCommand(xa.AUTHORIZED,gc);this.registerCommand(e.CHANGE_PLAY_STATE,Bb);this.registerCommand(e.PLAY_STATE_CHANGE,s);this.registerCommand(e.START,Yc);this.registerCommand(e.STARTED,s);this.registerCommand(e.PLAY,s);this.registerCommand(e.PLAY_REQUEST,
s);this.registerCommand("flashCreated",s);this.registerCommand(e.PLAYBACK_TARGET_CHANGE,Db);this.registerCommand(e.UPDATE_DATA_BINDINGS,Cb);this.registerCommand(e.BUFFERING_CHANGE,Eb);this.registerCommand("createXML",s);this.registerCommand("createFlashVars",s)};n.prototype.createMediaElement=function(){var a;a=new bb("flash","div");this.sendNotification(e.PLAYBACK_CORE_CHANGE,a);a=a.getViewComponent();a.id=a.name=this.flashObjectID;return a};n.prototype.createDefaults=function(){var a,b,c,d,g,e;
if(!(0<!(null!=(b=this.flashPlugins)&&b.length))){b=this.config.resources||[];null!=(null!=(c=this.config.flash)?c.resources:void 0)&&(b=b.concat(this.config.flash.resources));c=f.mimeTypes.swf;e=this.flashPlugins;d=0;for(g=e.length;d<g;d++)a=e[d],null!=a&&0===b.filter(function(b){return b.id===a.id}).length&&(null==a.type&&(a.type=c),b.push(a));this.config.resources=b}};n.prototype.createParams=function(a){var b;b={allowFullScreen:!0,allowScriptAccess:"always",wmode:"direct",bgColor:"#000000"};null!=
a.params&&(null!=a.params.allowFullScreen&&(b.allowFullScreen=a.params.allowFullScreen),null!=a.params.allowScriptAccess&&(b.allowScriptAccess=a.params.allowScriptAccess),null!=a.params.wmode&&(b.wmode=a.params.wmode),null!=a.params.bgColor&&(b.bgColor=a.params.bgColor));"direct"===b.wmode&&/MSIE/.test(navigator.userAgent)&&(b.wmode="transparent");return b};n.prototype.getModules=function(){return this.plugins};n.prototype.createPlugins=function(){var a,b,c,d,g,e,Y,l=this;Y=this.getPlayerType();e=
w.plugins;for(c in e)if(g=e[c],c in this.config&&null!=this.config[c]&&!1!==this.config[c].enabled)if(a=g[Y],null==a)this.logger.debug("[AMP] Plugin could not be found: "+c);else try{d=this[c]=this.plugins[c]=new a(this,this.config[c]),this.registerMediator(this.plugins[c]),b="function"===typeof d.getFeatureName?d.getFeatureName():void 0,null!=b&&(this[b]=d),null!=d.flashView&&(this.flashView=f.override(this.flashView,d.flashView)),this.logger.debug("[AMP] Plugin registered: "+c)}catch(h){this.logger.error("[AMP] Plugin could not be created: "+
c+". "+h)}g=this.config.plugins||{};e=[];for(c in g)b=g[c],null!=b&&!1!==b.enabled&&(d=function(b,c,d){return l.loadResources(c.resources).then(function(){a=w.plugins[d][Y];if(null==a)throw Error("[AMP] Plugin could not be found: "+d);return a(b,c,d).then(function(a){l.logger.debug("[AMP] Plugin registered: "+d);return{key:d,value:a}})})["catch"](function(a){return l.logger.error("[AMP] Plugin could not be created: "+d+". "+a)})},e.push(d.bind(null,this,b,c)));e=e.map(function(a){return a()});Promise.all(e).then(function(a){var b,
c,d;null!=l.config.flash.view&&(l.flashView=f.override(l.flashView,l.config.flash.view));c=0;for(d=a.length;c<d;c++)b=a[c],null!=b&&(l[b.key]=b.value,l.plugins[b.key]=b.value);return l.sendNotification(Aa.PLUGINS_INITIALIZED,l.plugins)})["catch"](function(a){return l.logger.error(a)})};n.prototype.createAttributes=function(a){var b;b={id:this.flashObjectID,name:this.flashObjectID};null!=a.attributes&&(null!=a.attributes.id&&(b.id=a.attributes.id),null!=a.attributes.name&&(b.name=a.attributes.name));
return b};n.prototype.createFlashJSON=function(a,b){var c,d;null==a&&(a=this.config);a=JSON.stringify(a);a=this.evaluatePaths(a);a=JSON.parse(a);d=function(a,b,d){switch(typeof d){case "string":a[b]=escape(d);break;case "object":c(d)}};c=function(a){var b,c,e,f;if(a instanceof Array)for(b=e=0,f=a.length;e<f;b=++e)c=a[b],d(a,b,c);else if("object"===typeof a)for(b in a)c=a[b],d(a,b,c)};c(a);return encodeURIComponent(JSON.stringify(a,null,b))};n.prototype.createFlashVars=function(a){var b,c,d,g,e,h,
l,ka,k,m;b={};c=Object.assign({},this.config,this.config.plugins);delete c.plugins;c.flash=null;delete c.flash;c.locales=null;delete c.locales;c.params=null;delete c.params;c.rules=null;delete c.rules;b.settings_json=this.createFlashJSON(c);null!=this.config.autoplay&&(b.auto_play=this.config.autoplay);null!=this.config.rules&&f.mergeRules(this.config.rules);b.hinting_rules=escape(JSON.stringify(f.rules));null!=this.config.volume&&(b.volume=f.clamp(this.config.volume,0,1));null!=this.config.target&&
(b.external_target=this.config.target);null!=this.config.name&&(b.core_player_name=this.config.name);null!=this.config.domain&&(b.embed_domain=b.domain=this.config.domain);this._loop=b.auto_replay=!0===this.config.loop;null!=this.config.fullscreen&&(b.fullscreen_enabled=!1!==this.config.fullscreen.enabled&&"external"!==this.config.fullscreen.mode);null!=this.config.titlebar&&(b.titlebar_enabled=!1!==this.config.titlebar.enabled);null!=this.config.params&&(b.params=escape(JSON.stringify(this.config.params)));
null!=this.config.version&&(b.context_menu_label=this.config.version);null!=(null!=(g=this.config.controls)?g.displaySceneMarkers:void 0)&&(b.displaySceneMarkers=this.config.controls.displaySceneMarkers);null!=this.config.media&&(this.mediaProxy.setData(this.config.media),null!=this.config.media.src&&(this.setSrc(this.config.media.src),b.video_url=escape(this.config.media.src)),null!=this.config.media.source&&0<this.config.media.source.length&&(this.setSource(this.config.media.source),b.video_url=
escape(this.mediaProxy.getSrc())),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),b.medium=this.config.media.medium),null!=this.config.media.title&&(b.title=encodeURIComponent(this.config.media.title)),null!=this.config.media.poster&&(b.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&(b.temporalType=this.config.media.temporalType));"audio"===this.getMedium()&&(b.controls=!0,b.auto_hide=-1);null!=(null!=(e=this.config.ima)?null!=(h=e.overlay)?
h.delay:void 0:void 0)&&(b.overlay_ad_delay=this.config.ima.overlay.delay);null!=this.config.ticker&&!1!==this.config.ticker.enabled&&(null!=this.config.ticker.url&&(b.ticker_text_url=this.config.ticker.url),null!=this.config.ticker.interval&&(b.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(b.ticker_speed=this.config.ticker.speed));b.show_play_button_overlay=!1;b.auto_play_list=!1;b.next_video_timer=0;null==b.context_menu_mode&&(b.context_menu_mode=!0===this.debug?
"long":"short");if(null!=(null!=(l=this.config.flash)?null!=(ka=l.view)?null!=(k=ka.elements)?null!=(m=k.loadingView)?m.attributes:void 0:void 0:void 0:void 0)){c="";for(d in this.config.flash.view.elements.loadingView.attributes)c+=d+":"+this.config.flash.view.elements.loadingView.attributes[d]+" ";b.loadingView=c}this.sendNotification("createFlashVars",{flashvars:b,config:this.config});return b=f.override(b,a.vars)};n.prototype.createXML=function(a){var b,c,d,g,e,h,l,ka,k,m,n,q,r;null==(null!=a?
null!=(ka=a.flash)?ka.xml:void 0:void 0)&&(null==a.flash&&(a.flash={}),a.flash.xml="\x3capplication\x3e\x3c/application\x3e");n=pa.parse(a.flash.xml);1<n.childNodes.length&&n.removeChild(n.firstChild);this.sendNotification("createXML",{config:a,xml:n});e=function(a){var b,c,g,l,h,Y;l=a.resources;c=[];if(l instanceof Array&&0<(null!=l?l.length:void 0))for(h=0,Y=l.length;h<Y;h++)g=l[h],g.type===k&&(g=f.clone(g),!0===d?null!=g.main&&""!==g.main?(g.src=g.main,g.type="static"):g.type="dynamic":null!=g.src&&
""!==g.src?g.type="dynamic":(g.src=g.main,g.type="static"),delete g.main,c.push(g));for(b in a)g=a[b],"flash"!==b&&null!=(l=null!=g?g.resources:void 0)&&l instanceof Array&&0<l.length&&(c=c.concat(e(g)));a=a.plugins;for(b in a)g=a[b],null!=(l=null!=g?g.resources:void 0)&&l instanceof Array&&0<l.length&&(c=c.concat(e(g)));return c};k=f.mimeTypes.swf;ka=e(this.config);d=!0===(null!=(g=a.flash["static"])?g.enabled:void 0);if(0<(null!=ka?ka.length:void 0))for(g=n.getElementsByTagName("plugins"),1>g.length?
(g=n.createElement("plugins"),n.firstChild.appendChild(g)):g=g[0],q=0,r=ka.length;q<r;q++)if(l=ka[q],!1!==l.enabled){a=n.createElement("plugin");for(c in l)m=l[c],"loaded"!==c&&("src"!==c?a.setAttribute(c,""+m):("id"===c&&"AkamaiAdvancedStreamingPlugin"===m&&!0===this.debug&&(m=m.replace("AkamaiAdvancedStreamingPlugin.swf","AkamaiAdvancedStreamingPlugin-logging.swf")),a.appendChild(pa.createTextContent(n,m))));g.appendChild(a)}h=function(a,b){var c,d,g,e;if(null!=a.attributes)for(d in c=a.attributes,
c)g=c[d],b.setAttribute(d,""+g);if(null!=a.elements)for(d in e=a.elements,e)g=e[d],null!=g&&(c=n.createElement("element"),c.setAttribute("id",d),"state"!==c.id&&(h(g,c),b.appendChild(c)));if(null!=a.state){c=n.createElement("state");if(a.state.attributes)for(d in e=a.state.attributes,e)g=e[d],null!=g&&c.setAttribute(d,""+g);b.appendChild(c)}return b};c=n.getElementsByTagName("view")[0];null==c&&(c=n.createElement("view"),n.firstChild.appendChild(c));h(this.flashView,c);if(null!=(null!=(b=this.config.fullscreen)?
b.mode:void 0))for(c=n.getElementsByTagName("element"),ka=0,a=c.length;ka<a;ka++)b=c[ka],"fullscreenBtn"===b.getAttribute("id")&&b.setAttribute("action","external");b=pa.serialize(n);b=b.match(/<application>[\w\W\s\S\d\D]*<\/application>/)[0]||b;b=b.replace(/[\n\r\t]/g,"");b=this.evaluatePaths(b);return encodeURIComponent(b)};n.prototype.createdHandler=function(a){var b=this;a=this.getMediaElement().id;a=document.getElementById(a);this.setMediaElement(a);a.className=zc.PREFIX+bb.prototype.componentType;
a.eventHandler=function(a,d){return b.eventHandler(a,d)};this.sendNotification("flashCreated");null!=this.getMedium()&&this.setMedium(this.getMedium())};n.prototype.eventHandler=function(a,b){var c,d,g,p,f,l,h,k,m,n,q,r=this;this.logEvents&&!this.excludedFlashEvents.test(a)&&this.logger.log("[AMP FLASH EVENT] "+a,b);try{switch(a){case "mediaPlayerInitialized":l=f="ready";break;case "mediaPlayerReset":null==b&&(f="ready");this.started=!1;break;case "mediaPlayerLoading":l="loadstart";break;case "mediaPlayerError":l=
f="error";break;case "mediaError":l=f="error";break;case "mediaPlayerFeedLoaded":b=JSON.parse(b);g=new mb;p=null!=(k=g.createFeed(b))?null!=(m=k.item)?m[0]:void 0:void 0;null!=p&&this.mediaProxy.setData(p);break;case "mediaPlayerDataFeedUpdated":l="mediachange";b=this.getMedia();h=!0;break;case "mediaPlayerErrorStreamNotFound":l=f="error";break;case "mediaPlayerCapabilityChange":d=b.type;"canPlayChange"===d&&!0===b.enabled?(l="canplay",this.loaded=!0):"canSeekChange"===d&&!0===b.enabled?l="canplaythrough":
"temporalChange"===d&&!0===b.enabled&&(l="loadedmetadata",this.started||this.sendNotification(e.START,b));break;case "mediaPlayerPlaying":this.started||this.sendNotification(e.START,b);l=f="playing";this._paused=this._ended=!1;!0===this.appState.getSeeking()&&(this.appState.setSeeking(!1),this.sendNotification(e.SEEKED),this.sendNotification(e.DISPATCH_EVENT,new F("seeked")));break;case "mediaPlayerElementEvent":"fullscreenBtn"===b.element&&"click"===b.type&&"external"===(null!=(n=this.config)?null!=
(q=n.fullscreen)?q.mode:void 0:void 0)&&(f=this.getDisplayState()===L.FULL_SCREEN?L.NORMAL:L.FULL_SCREEN,this.setDisplayState(f));break;case "mediaPlayerPlaybackSequenceInitiated":this.sendNotification(e.PLAY_REQUEST);this.setPlayState("playing");l=e.MEDIA_SEQUENCE_STARTED;this.loaded=!0;this._ended=!1;break;case "mediaPlayerResumeOrPausePlayback":"paused"!==this.getPlayState()&&this.started&&this.sendNotification(e.PLAY,b);break;case "mediaPlayerPlaybackClose":l=e.ENDED;break;case "mediaPlayerPlaybackSequenceComplete":l=
e.MEDIA_SEQUENCE_ENDED;f=e.ENDED;this._ended=!0;break;case "mediaPlayerPaused":l="pause";f="paused";this._paused=!0;break;case "mediaPlayerBuffering":"ended"!==this.className&&(l=f="waiting");break;case "mediaPlayerBufferingChanged":this.sendNotification(e.BUFFERING_CHANGE,b);return;case "mediaPlayerDurationChange":isNaN(b.time)||(0===b.time&&this.sendNotification(e.MEDIA_SEQUENCE_ABORTED),l="durationchange",b=b.time,this.timers.setImmediate(function(){return r.setCues(r.getCues().slice())}));break;
case "mediaPlayerVolumeChanged":l="volumechange";b=b.volume;break;case "mediaPlayerPlayheadUpdate":l="timeupdate";b=b.currentTime;break;case "mediaPlayerSeekingChange":if(!1===this.appState.getSeeking()&&!1===b.seeking)return;l=b.seeking?"seeking":"seeked";this.appState.setSeeking(b.seeking);b.seeking&&(f="seeking");break;case "mediaPlayerFullscreenChange":l="fullscreenchange";b="fullScreen"===b.displayState;this.applyDisplayState(b?L.FULL_SCREEN:L.NORMAL);break;case "mediaPlayerFailoverAttempt":l=
"failoverattempt";break;case "error":a=null;break;case "mediaPlayerAuthenticate":l=xa.AUTHORIZE;break;case "mediaPlayerSendCuePoint":l=e.TIMED_METADATA;b={startTime:b.time,endTime:b.time,data:b};break;case "mediaPlayerID3Updated":l=e.TIMED_METADATA,b={startTime:b.time,endTime:b.time,data:window.atob(b)}}null!=a&&a!==l&&(d=new F(a,b),d.dispatcher="FLASH",this.sendNotification(e.DISPATCH_EVENT,d),this.sendNotification(a,b));null!=l&&("error"===l&&(c=b.error||b,this.logError("Flash Error",c)),this.sendNotification(l,
b),this.sendNotification(e.DISPATCH_EVENT,new F(l,b)));null!=h&&this.sendNotification(e.UPDATE_DATA_BINDINGS);null!=f&&this.setPlayState(f)}catch(s){this.logError("Event Error: "+a,s)}};n.prototype.logError=function(a,b){this.logger.error("[AMP FLASH ERROR]",a,b)};n.prototype.excludedFlashEvents=/(mediaPlayerPlayheadUpdate|mediaPlayerElementEvent|adComponentPlaybackProgress)/;n.prototype.logFlashEvents=!1;n.prototype.logEvent=function(a){"FLASH"===a.dispatcher&&!1===this.logFlashEvents||!0===this.excludedFlashEvents.test(a.type)||
n.__super__.logEvent.call(this,a)};n.prototype.setPlayState=function(a){this.sendNotification(e.CHANGE_PLAY_STATE,a);return a};n.prototype.getPlayState=function(){return this.appState.getPlayState()};n.prototype.setMedia=function(a){var b=this;null!=this.getPlayState()&&this.setPlayState("ready");a=this.mediaProxy.transform(a);this.transform(za.MEDIA,a).then(function(c){a=c;b.mediaProxy.setData(a);null!=a.src&&b.setSrc(a.src);null!=a.source&&0<a.source.length&&b.setSource(a.source);b.sendNotification(e.MEDIA_CHANGE,
a);return b.load(b.mediaProxy.getData())})["catch"](function(a){return b.sendNotification(e.ERROR,a)});return a};n.prototype.getMedia=function(){return this.mediaProxy.getData()};n.prototype.load=function(){var a,b,c;a=this.mediaProxy.getData();this.security.setMedia(a);if(this.security.getAuthorized()){this.loaded=!0;a=f.clone(a);null==a.autoplay&&(a.autoplay=this.config.autoplay);for(b in a)c=a[b],void 0===c&&delete a[b];this.getMediaElement().loadURL(this.mediaProxy.getSrc(),a)}else this.sendNotification(xa.AUTHORIZE,
{media:a})};n.prototype.play=function(){this.loaded||this.load();this.getMediaElement().unpause()};n.prototype.setMuted=function(a){this._muted=a;try{!0===a?this.getMediaElement().mute():this.getMediaElement().unmute()}catch(b){this.logError("Flash muted error",b)}return a};n.prototype.getMuted=function(){return this._muted};n.prototype.getLoop=function(){return this._loop};n.prototype.getSrc=function(a){return this.getMediaElement().getURL()};n.prototype.setSrc=function(a){this.mediaProxy.setSrc(a);
this.loaded=!1;this.setMedium(f.getMimeType(a));return a};n.prototype.setAutoplay=function(a){this.getMediaElement().setPlayerProperty("autoplay",a);return a};n.prototype.getAutoplay=function(){return this.getMediaElement().getPlayerProperty("autoplay")};n.prototype.getMedium=function(){return this.mediaProxy.getData().medium};n.prototype.setMedium=function(a){var b,c;b=this.mediaProxy.getData();if(a!==b.medium)return null!=b.medium&&(c="medium-"+b.medium),b.medium=/audio/.test(a)?"audio":"video",
this.sendNotification(e.MEDIUM_CHANGE,{value:"medium-"+b.medium,previous:c}),a};n.prototype.setSource=function(a){var b,c=this;if(!(null==a||1>a.length)){b=this.mediaProxy.getData();b.source=a;this.loaded=!1;b=f.selectSource(b,function(a){return c.canPlayType(a.type)});if(null!=(null!=b?b.src:void 0)&&""!==b.src)this.setSrc(b.src),"undefined"!==typeof type&&null!==type&&this.setMedium(type);else throw Error("No valid source could be found");return a}};n.prototype.getSource=function(){return this.mediaProxy.getData().source};
n.prototype.getSeeking=function(){return this.appState.getSeeking()};n.prototype.getPaused=function(){return this._paused};n.prototype.getEnded=function(){return this._ended};n.prototype.getFlashXML=function(){var a,b;b=decodeURIComponent(this.flashvars.settings_xml);a=pa.parse(b);try{a.toString=function(){return b}}catch(c){}return a};n.prototype.getFlashVars=function(){return this.flashvars};n.prototype.getFlashJSON=function(){return JSON.parse(decodeURIComponent(this.flashvars.settings_json))};
n.prototype.canPlayType=function(a){return 0<=wc.call(f.flashTypes,a)?"maybe":""};n.prototype.replay=function(){this.getMediaElement().replay()};n.prototype.pause=function(){this.getMediaElement().pause()};n.prototype.end=function(){this.getMediaElement().stopPlayer()};n.prototype.getCurrentTime=function(){var a;return"function"===typeof(a=this.getMediaElement()).getCurrentTime?a.getCurrentTime():void 0};n.prototype.setCurrentTime=function(a){this.getMediaElement().jumpToTime(a);return a};n.prototype.getParams=
function(){return this.getMediaElement().getParams()};n.prototype.setParams=function(a){this.getMediaElement().setParams(a);return a};n.prototype.getVolume=function(){var a;return(null!=(a=this.getMediaElement())?"function"===typeof a.getVolume?a.getVolume():void 0:void 0)||0};n.prototype.setVolume=function(a,b){this.getMediaElement().setVolume(a,b||"");return a};n.prototype.getDuration=function(){var a;return"function"===typeof(a=this.getMediaElement()).getDuration?a.getDuration():void 0};n.prototype.getDisplayState=
function(){return this._displayState};n.prototype.setDisplayState=function(a){var b;if(a!==this._displayState&&(this.applyDisplayState(a),"external"!==(null!=(b=this.config.fullscreen)?b.mode:void 0)))return this._displayState===L.FULL_SCREEN?this.getMediaElement().enterFullScreen():this.getMediaElement().exitFullScreen(),a};n.prototype.applyDisplayState=function(a){var b;a!==this._displayState&&(b={value:a,previous:this._displayState},this._displayState=a,this.sendNotification(e.DISPLAY_STATE_CHANGE,
b),this.sendNotification(e.DISPATCH_EVENT,new F("fullscreenchange",this._displayState===L.FULL_SCREEN)))};n.prototype.enterFullScreen=function(){this.setDisplayState(L.FULL_SCREEN)};n.prototype.exitFullScreen=function(){this.setDisplayState(L.NORMAL)};n.prototype.recordContentChange=function(a){this.getMediaElement().recordContentChange(a)};n.prototype.setQuality=function(a){return this.getMediaElement().setQuality(a)};n.prototype.getQuality=function(){var a;try{a=this.getMediaElement().getQuality()}catch(b){}return a};
n.prototype.getQualityLevels=function(){var a,b;try{a=("function"===typeof(b=this.getMediaElement()).getQualityLevels?b.getQualityLevels():void 0)||[]}catch(c){a=[]}return a};var Ra=function(a){this.module=a;Ra.__super__.constructor.call(this,a.getModuleName(),this)};h(Ra,puremvc.Mediator);Ra.prototype.module=null;Ra.prototype.mediator=null;Ra.prototype.initializeNotifier=function(a){var b,c=this;Ra.__super__.initializeNotifier.call(this,a);b=this.module.listNotificationPublications();null!=b&&(this.mediator=
new puremvc.Mediator(this.facade.getModuleName()),this.mediator.listNotificationInterests=function(){return b},this.mediator.handleNotification=function(a){c.facade.sendNotification(a.getName(),a.getBody(),a.getType())})};Ra.prototype.onRegister=function(){null!=this.mediator&&this.module.registerMediator(this.mediator)};Ra.prototype.onRemove=function(){null!=this.mediator&&this.module.removeMediator(this.mediator)};Ra.prototype.listNotificationInterests=function(){return this.module.listNotificationInterests()};
Ra.prototype.handleNotification=function(a){this.module.sendNotification(a.getName(),a.getBody(),a.getType())};Events={LOADED_METADATA:"loadedmetadata",READY:"ready",ERROR:"error",ENDED:"ended",STARTED:"started",DURATION_CHANGE:"durationchange",SEEKING:"seeking",SEEKED:"seeked",TIME_UPDATE:"timeupdate",LOAD_START:"loadstart",LOADED_DATA:"loadeddata",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",PROGRESS:"progress",MEDIA_CHANGE:"mediachange",WAITING:"waiting",BUFFERING_CHANGE:"bufferingchange",
STALLED:"stalled",PLAY:"play",PLAYING:"playing",PAUSE:"pause",PAUSED:"paused",PLAY_REQUEST:"playrequest",MEDIUM_CHANGE:"mediumchange",TEMPORAL_TYPE_CHANGE:"temporaltypechange",VOLUME_CHANGE:"volumechange",FAIL_OVER_ATTEMPT:"failoverattempt",PLAYBACK_TARGET_CHANGE:"playbacktargetchange",PLAYBACK_TARGET_AVAILABILITY_CHANGE:"playbacktargetavailabilitychange",RECORD_CONTENT_CHANGE:"recordcontentchange",IS_LIVE:"islive",CONTENT_CHANGED:"contentchanged",PLAYBACK_RATE_CHANGE:"playbackratechange",SETTINGS_CHANGE:"settingschange",
TRACK_ERROR:"trackerror",QUALITY_CHANGE:"qualitychange",QUALITY_CHANGING:"qualitychanging",QUALITY_SWITCHED:"qualityswitched",QUALITY_MODE_CHANGE:"qualitymodechange",QUALITY_LEVELS_LOADED:"qualitylevelsloaded",MEDIA_SEQUENCE_INITIALIZED:"mediasequenceinitialized",MEDIA_SEQUENCE_STARTED:"mediasequencestarted",MEDIA_SEQUENCE_ENDED:"mediasequenceended",MEDIA_SEQUENCE_ABORTED:"mediasequenceaborted",AUTOPLAY_BLOCKED:"autoplayblocked",LANGUAGE_CHANGE:"languagechange",TIMED_METADATA:"timedmetadata",CUES_CHANGE:"cueschange",
VIEW_CREATED:"viewcreated",MUTE_CHANGE:"mutechange",RESUME:"resume",PLAY_STATE_CHANGE:"playstatechange",FULL_SCREEN_CHANGE:"fullscreenchange",DISPLAY_STATE_CHANGE:"displayStateChange",BUSY:"busy",CREATE:"create",DESTROY:"destroy"};var xb=function(a){this._target=null!=a?a:this;this._transformMap={}};xb.prototype.addTransform=function(a,b){var c;null!=b&&null!=a&&(null==(c=this._transformMap)[a]&&(c[a]=[]),-1===this._transformMap[a].indexOf(b)&&(this._transformMap[a].push(b),this.sortTransforms(a)))};
xb.prototype.sortTransforms=function(a,b){null==b&&(b=function(a,b){return(b.priority||0)-(a.priority||0)});return this._transformMap[a].sort(b)};xb.prototype.transform=function(a,b){var c;c=this._transformMap[a];return null==c?Promise.resolve(b):f.transform(b,c)};xb.prototype.removeTransform=function(a,b){var c,d;if(null!=b&&null!=a&&(d=this._transformMap[a],null!=d&&(c=d.indexOf(b),-1!==c)))return d.splice(c,1)};var Ja=function(){};Ja.SINGLE=/^\s*[#\$]{([^\$#{}]+)}\s*$/;Ja.TOKEN=/[#\$]{([^\$#}]*)}/g;
Ja.eval=function(a,b){var c=this;if(null==a)return a;if(this.SINGLE.test(a))try{return this.exec(a.replace(this.SINGLE,"$1"),b)}catch(d){return a}return a.replace(this.TOKEN,function(a,d,e,f){try{return c.exec(d,b)}catch(h){return a}})};Ja.exec=function(a,b){return(new Function("with (this) { return "+a+" }")).bind(b)()};Ja.evaluateBindings=function(a,b,c){var d,g=this;null==c&&(c=!0);if(null!=a){if("object"===typeof a){c=!0===c?JSON.parse(JSON.stringify(a)):a;if(a instanceof Array)return c.map(function(a){return g.evaluateBindings(a,
b,!1)});a={};for(d in c)a[d]=this.evaluateBindings(c[d],b,!1);return a}return"string"===typeof a?this.eval(a,b):a}};var yc=function(){yc.__super__.constructor.call(this)};h(yc,puremvc.SimpleCommand);yc.prototype.execute=function(a){a=a.getBody();a.player=this.facade.player||this.facade;this.facade.dispatchEvent(a)};var e={STARTUP:"startup",LOAD:"load",PAUSE_REQUEST:"pauserequest",TOGGLE_PLAY_PAUSE:"togglePlayPause",CHANGE_PLAY_STATE:"chageplaystate",MEDIA_ELEMENT_CHANGE:"mediaelementchange",HIDDEN_CHANGE:"hiddenchange",
TOGGLE_FULL_SCREEN:"toggleFullScreen",CHANGE_DISPLAY_STATE:"chageDisplayState",DISABLE_FULL_SCREEN:"disableFullScreen",ENABLE_FULL_SCREEN:"enableFullScreen",TOGGLE_ACTIVE:"toggleActive",CHANGE_ACTIVE_STATE:"changeactivestate",ACTIVE_STATE_CHANGE:"activestatechange",CHANGE_MEDIA:"changeMedia",SET_MEDIA:"setmedia",MEDIA_VALIDATED:"mediavalidated",CHANGE_SETTINGS:"changesettings",UPDATE_DATA_BINDINGS:"updatedatabindings",CHANGE_VOLUME:"changevolume",CHANGE_MUTED:"changemuted",TOGGLE_MUTED:"togglemuted",
CHANGE_TIME:"changetime",TIME_CHANGE:"timechange",SEEK:"seek",CHANGE_DURATION:"changeduration",CHANGE_AUTOPLAY:"changeAutoplay",AUTOPLAY_CHANGE:"autoplaychange",CHANGE_LOOP:"changeLoop",PLAYBACK_CORE_CHANGE:"playbackCoreChange",START:"start",END:"end",REPLAY:"replay",REGISTER_PLUGIN:"registerPlugin",REGISTER_PLUGINS:"registerPlugins",PLUGIN_REGISTERED:"pluginRegistered",ADD_LAYER:"addLayer",REMOVE_LAYER:"removeLayer",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",ADD_CONTROL:"addControl",
REMOVE_CONTROL:"removeControl",ADD_CONTROL_STATE:"addControlState",REMOVE_CONTROL_STATE:"removeControlState",ADD_APPLICATION_STATE:"addApplicationState",REMOVE_APPLICATION_STATE:"removeApplicationState",DISPATCH_EVENT:"dispatchEvent",CHANGE_PARAMS:"changeParams",INITIALIZED:"initialized",REGISTER_PLAYBACK_CORE:"registerPlaybackCore",REMOVE_PLAYBACK_CORE:"removePlaybackCore",DISPLAY_TIME:"displaytime",IS_USER_ACTIVE:"isUserActive",CHANGE_PLAYBACK_TARGET:"changeplaybacktarget",LOCK:"lock",FRAGMENT_LOAD_START:"fragmentloadstart",
FRAGMENT_LOADED:"fragmentloaded",CHANGE_CONTENT:"changecontent",ENABLE_VIDEO_EVENTS:"enablevideoevents",DISABLE_VIDEO_EVENTS:"disablevideoevents",HAS_POST_CONTENT:"haspostcontent",AUDIO_TRACK_SWITCH:"audiotrackswitch",TRACK:"track",init:function(){var a,b;for(a in Events)b=Events[a],"values"!==a&&"init"!==a&&(this[a]=b)}};e.init();var Na=function(a){var b,c;null==a&&(a={});null==akamai.amp.AMP.plugins.controls&&(c={plugins:{react:{resources:[{src:"${paths.plugins}react/libs/react.min.js",debug:"${paths.plugins}react/libs/react.js",
type:"text/javascript"},{src:"${paths.plugins}react/React.min.css",debug:"${paths.plugins}react/React.css",type:"text/css"},{src:"${paths.plugins}react/React.min.js",debug:"${paths.plugins}react/React.js",type:"text/javascript"}],autoHide:3}}},a=f.override(c,a));a=f.override(Na.defaults,a);!0===/amp\-debug\=true/.test(location.search.toLowerCase())&&(a.debug=!0);"object"===typeof ja.amp&&(a=f.override(a,ja.amp));a.mode=f.getPlaybackMode(a.mode);9===f.getIEVersion()&&(a.plugins.react=null,a.flash.view=
f.override(a.flash.view,Na.flashView));a.version=w.getVersion();null==a.defaults&&(a.defaults={});for(b in a)c=a[b],this[b]=c};Na.create=function(a){return new Na(a)};Na.defaults={paths:{base:"../",root:"../",player:"../amp/",plugins:"../akamai/amp/",resources:"../resources/"},resources:[{src:"#{paths.player}amp.css",type:"text/css",async:!0}],rules:{android_4_gets_m3u8:{regexp:"Android 4"}},attributes:{},language:navigator.language||navigator.browserLanguage,settings:{},
autoplay:!1,autoplayPolicy:Kb.DEFAULT,loop:!1,playsinline:null,withCredentials:!1,muted:null,target:"_blank",domain:"akamai.com",fullscreen:{},contextmenu:{},captioning:{},controls:{},playoverlay:{},hls:{resources:[{type:"text/javascript",src:"#{paths.resources}js/hls.min.js",debug:"#{paths.resources}js/hls.js",defer:!0}],quality:{startLevel:-1},data:{enableWorker:!0}},dash:{resources:[{type:"text/javascript",src:"//cdn.dashjs.org/v2.9.3/dash.all.min.js",debug:"//cdn.dashjs.org/v2.9.3/dash.all.debug.js",
defer:!0}],buffer:1},flash:{swf:"#{paths.player}AkamaiStandardPlayer.swf",debug:"#{paths.player}AkamaiStandardPlayer-debug.swf",expressInstallSWF:"#{paths.player}playerProductInstall.swf","static":{enabled:!1,swf:"#{paths.player}AkamaiStandardPlayer-static.swf",debug:"#{paths.player}AkamaiStandardPlayer-static-debug.swf"},vars:{core_player_name:"amp",mbr_starting_index:2,use_last_known_bitrate:!1,use_netsession_client:!1,
netsession_install_prompt_frequency_secs:-1,ad_server_timeout:20,ad_control_enabled:!0,dvr_enabled:1,branding_preload:"none",hds_live_low_latency:!0,fullscreen_enabled:!0,show_feature_bar:!1,suppress_events:"mediaPlayerViewInitialized",hds_fragment_retry_data_gap_threshold:20},view:{attributes:{skin:"#{paths.player}amp.chromeless.assets.swf"},elements:{controls:{},adOptions:{attributes:{style:"backgroundColor: 'rgba(0, 0, 0, 0)'"},elements:{adChoices:null,adCountdown:null,adCount:null}},endSlate:{attributes:{enabled:!1,
hideElements:"brandingLogo|viewAll"}},loadingView:{attributes:{enabled:!1,style:"backgroundColor: 'rgba(0, 0, 0, 0)'; color: 'rgba(0, 0, 0, 0)'",radius:0}}}}},locales:{},defaults:{language:"en"}};Na.locales={en:{MONOSPACED_SERIF:"Monospaced Serif",PROPORTIONAL_SERIF:"Proportional Serif",MONOSPACED_SANS_SERIF:"Monospaced Sans-Serif",PROPORTIONAL_SANS_SERIF:"Proportional Sans-Serif",CASUAL:"Casual",CURSIVE:"Cursive",SMALL_CAPS:"Small Capitals",MSG_TIME_SEPARATOR:" / ",MSG_SHARE_VIDEO_TEXT:"Share this video...",
MSG_POST_TEXT:"Post",MSG_EMBED_TEXT:"Embed",MSG_LINK_TEXT:"Link",MSG_SHARE_CONNECT_FAILURE:"Unable to connect. Please try again.",MSG_SHARE_CONTENT_DISABLED:"Share and embed are disabled.",MSG_VERSION_TEXT:"Version",MSG_BUFFERING_TEXT:"buffering",MSG_CUSTOMIZE_CLIP_POINTS:"Customize the start and end point of the video.",MSG_PAUSE:"Pause",MSG_PLAY:"Play",MSG_REWIND:"Rewind",MSG_PLAYBACK_RATE:"Playback Rate",MSG_FULLSCREEN:"Fullscreen",MSG_ENTER_FULLSCREEN:"Enter Fullscreen",MSG_EXIT_FULLSCREEN:"Exit Fullscreen",
MSG_MUTE:"Mute",MSG_UNMUTE:"Unmute",MSG_JUMP_BACK:"Jump Back",MSG_JUMP_AHEAD:"Jump Ahead",MSG_VOLUME:"Volume",MSG_REPLAY:"Replay",MSG_SETTINGS:"Settings",MSG_SHARE:"Share",MSG_CLOSED_CAPTIONING:"Closed Captioning",MSG_SLIDER:"Slider",MSG_SEEK:"Seek",MSG_OF:"of",MSG_AD:"Ad",MSG_PREVIEW:"Preview",MSG_CURRENT:"Current",MSG_SEEK_TO:"Seek to",MSG_LIVE:"LIVE",MSG_ERROR:"Error",MSG_ERROR_ABORTED:"Media Aborted",MSG_ERROR_DECODE:"Decode Error",MSG_ERROR_NETWORK:"Network Error",MSG_ERROR_SRC:"Source not supported",
MSG_ERROR_DEFAULT:"An error has occurred",MSG_STREAM_NOT_FOUND:"Stream not found",MSG_CURRENT_WORKING_BANDWIDTH:"Current working bandwidth",MSG_CURRENT_BITRATE_PLAYING:"Current bitrate playing",MSG_MAX_BITRATE_AVAILABLE:"Max bitrate available",MSG_NOT_AVAILABLE:"Not Available",MSG_GO_LIVE:"GO LIVE",MSG_NEXT_VIDEO:"Video starts in: ",MSG_RECOMMENDED:"Recommended",MSG_VIEW_ALL:"View all ",MSG_VIDEO:" videos",MSG_CC:"CC",MSG_CC_TITLE:"Caption",MSG_CC_LANGUAGE:"Track :",MSG_CC_PRESETS:"Presets :",MSG_CC_FONT:"Font :",
MSG_CC_EDGE:"Edge :",MSG_CC_SIZE:"Size :",MSG_CC_SCROLL:"Scroll :",MSG_CC_COLOR:"Color :",MSG_CC_BACKGROUND:"Background :",MSG_CC_WINDOW:"Window :",MSG_CC_OPACITY:"Opacity :",MSG_CC_SHOW_ADVANCED:"Show Advanced Settings",MSG_CC_HIDE_ADVANCED:"Hide Advanced Settings",MSG_NEXT_AD:"Next ad starts in: ",MSG_CC_RESET:"Default",MSG_CC_CANCEL:"Cancel",MSG_CC_APPLY:"Apply",MSG_CC_PREVIEW_TEXT:"Lorem ipsum dolor sit amet..",MSG_EN:"English",MSG_ENG:"English",MSG_ES:"Spanish",MSG_SPA:"Spanish",MSG_DE:"German",
MSG_DEU:"German",MSG_GER:"German",MSG_FR:"French",MSG_FRE:"French",MSG_FRA:"French",MSG_IT:"Italian",MSG_ITA:"Italian",MSG_RU:"Russian",MSG_RUS:"Russian",MSG_ZH:"Chinese",MSG_ZHO:"Chinese",MSG_CHI:"Chinese",MSG_JA:"Japanese",MSG_JPN:"Japanese",MSG_KO:"Korean",MSG_KOR:"Korean",MSG_CHROMECAST_MESSAGE:"Video playing on ${device}",MSG_RETRY_MESSAGE:"Content not yet available, retrying in",MSG_SECONDS:"seconds",MSG_RETRY_FAILED:"Retry failed",MSG_RECOMMENDATIONS_TITLE:"Recommended",MSG_VIEWER_ID:"Viewer ID: ",
MSG_SIGN_IN:"Sign In",MSG_PREVIEW_INFO:"Free Preview",MSG_PREVIEW_EXPIRES:"Expires in",MSG_UNKNOWN:"Unknown"},es:"#{paths.player}es.json",fr:"#{paths.player}fr.json"};Na.flashView={attributes:{skin:"#{paths.player}standard.assets.swf"},elements:{infoOverlay:{attributes:{style:"top: 0px;"}},adOptions:{attributes:{style:"backgroundColor: 'rgba(0, 0, 0, 1)'"},elements:{adChoices:{attributes:{target:"http://www.akamai.com/"}},adCountdown:{},adCount:{}}},endSlate:{attributes:{enabled:!0,hideElements:"brandingLogo|viewAll"}},
replayView:{},bufferingView:{},controls:{attributes:{height:"28",itemMargin:"5",scrubPosition:"inline"},elements:{replayBtn:{},playPauseBtn:{},streamTimeIndicator:{attributes:{exclude:"live"},elements:{streamTime:{},streamDuration:{}}},rewindBtn:{},scrubBar:{attributes:{style:"height: 18px;"}},progressBar:{attributes:{style:"background: linear-gradient(90deg, #FF0000, #1B1B1B);"}},loadedBar:{attributes:{style:"background: linear-gradient(90deg, #00FF00, #1B1B1B);"}},liveIndicator:{},timeLocationIndicator:{},
goLiveBtn:{},statsBtn:{},volumeBar:{attributes:{color:"#CA2127"}},volumeBtn:{},fullscreenBtn:{}}}}};var Ta=function(a,b,c){this.code=null!=b?b:-1;this.metadata=null!=c?c:{};if(a instanceof Ta)return a;"object"===typeof a?(this.metadata=a.metadata||a,this.message=a.message||("function"===typeof a.toString?a.toString():void 0),a.code&&(this.code=a.code)):this.message=a};h(Ta,Error);Ta.prototype.message=null;Ta.prototype.code=null;Ta.prototype.metadata=null;Ta.create=function(a,b,c){return new Ta(a,
b,c)};var L={NORMAL:"normal",FULL_SCREEN:"full-screen",FULLSCREEN:"full-screen"},oa=function(a){oa.__super__.constructor.call(this,a);this.value={}};h(oa,J);oa.NAME=J.NAME;oa.prototype.bindings=null;oa.prototype.configurationName=null;oa.prototype.contextName=null;oa.prototype.contextData=null;oa.prototype.value=null;oa.prototype.getConfigurationName=function(){return this.configurationName};oa.prototype.getConfigurationData=function(){return this.value||{}};oa.prototype.getContextName=function(){return this.contextName};
oa.prototype.getContextData=function(){return this.contextData};oa.prototype.onRegister=function(){var a;a=this.facade.player||this.facade;null==this.getConfigurationName()&&(this.configurationName=this.facade.moduleName);this.bindings=a.retrieveProxy(ma.NAME);this.bindings.registerConfiguration(this);null!=this.getContextName()&&(this.bindings.registerContext(this),this.value=Ja.evaluateBindings(this.data,this.bindings.getData()))};oa.prototype.setData=function(a){var b,c,d;null==a&&(a={});this.data=
{};d=this.getDefaults();for(b in d)c=d[b],this.data[b]=b in a?a[b]:c;return this.data};oa.prototype.getValue=function(a){this.bindings.update();this.value[a]=Ja.evaluateBindings(this.data[a],this.bindings.getData());return this.value[a]};oa.prototype.compile=function(a,b){null==a&&(a=this.bindings.getData());null!=this.contextName&&null!=this.contextData&&(a=f.clone(a),a[this.contextName]=this.contextData);return this.value=Ja.evaluateBindings(this.data,this.bindings.getData())};var xa={AUTHENTICATE:"authenticate",
AUTHENTICATED:"authenticated",AUTHENTICATION_FAILED:"authenticationfailed",AUTHORIZE:"authorize",AUTHORIZED:"authorized",AUTHORIZATION_FAILED:"authorizationfailed",AUTHORIZATION_EXPIRED:"authorizationexpired",CHOOSE_PROVIDER:"chooseprovider",ASSET_AUTHORIZED:"assetauthorized",ASSET_AUTHORIZATION_FAILED:"assetauthorizationfailed"},D=function(a,b,c){var d;this.target=a;this.type=b;this.handler=c;this.trigger=Hd(this.trigger,this);D.instances.push(this);this.types=[];(d=this.type,0<=wc.call(D.EVENTS,
d))?f.isTouchDevice()?(this.types.push(D.TOUCH_EVENTS[this.type]),this.type===D.TOUCH_EVENTS[1]&&this.types.push(D.TOUCH_EVENTS[4])):this.types.push(D.MOUSE_EVENTS[this.type]):this.type instanceof Array?this.types=this.type:this.types.push(this.type);this.bind()};D.PRESS=0;D.RELEASE=1;D.MOVE=2;D.CLICK=3;D.CONTEXTMENU=4;D.HOVER=5;D.HOVEROUT=6;D.EVENTS=[D.PRESS,D.RELEASE,D.MOVE,D.CLICK,D.CONTEXTMENU,D.HOVER,D.HOVEROUT];D.MOUSE_EVENTS="mousedown mouseup mousemove click contextmenu mouseover mouseout".split(" ");
D.TOUCH_EVENTS=["touchstart","touchend","touchmove","click","touchcancel"];D.instances=[];D.create=function(a,b,c){return new D(a,b,c)};D.bind=function(a,b){var c,d,g,e;e=D.instances;c=d=0;for(g=e.length;d<g;c=++d)c=e[c],c.target===a&&(null!=b&&c.type!==b||c.bind())};D.unbind=function(a,b){var c,d,g,e;e=D.instances;c=d=0;for(g=e.length;d<g;c=++d)c=e[c],c.target===a&&(null!=b&&c.type!==b||c.unbind())};D.clear=function(a,b){var c,d,g,e,f;f=D.instances;c=g=0;for(e=f.length;g<e;c=++g)d=f[c],(null!=d?
d.target:void 0)!==a||null!=b&&d.type!==b||(d.clear(),D.instances.splice(c,1))};D.prototype.types=null;D.prototype.bind=function(){var a,b,c,d;d=this.types;b=0;for(c=d.length;b<c;b++)a=d[b],null!=this.target.addEventListener?this.target.addEventListener(a,this.trigger,!1):null!=this.target.attachEvent&&this.target.attachEvent("on"+a,this.trigger)};D.prototype.unbind=function(){var a,b,c,d;d=this.types;b=0;for(c=d.length;b<c;b++)a=d[b],null!=this.target.removeEventListener?this.target.removeEventListener(a,
this.trigger):null!=this.target.attachEvent&&this.target.removeEvent("on"+a,this.trigger)};D.prototype.clear=function(){this.unbind();this.types=this.type=this.handler=this.target=null};D.prototype.trigger=function(a){this.handler(a)};var hc=function(a){var b;b=Object.assign({},hc.defaults);b=f.override(b,a,!1);f.override(this,b,!1)};hc.create=function(a){return new hc(a)};hc.defaults={version:"1.0.0",volume:1,captions:{presets:{fontFamily:{monospacedSerif:"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace",
proportionalSerif:"'Times New Roman', Times, Georgia, Cambria, 'PT Serif Caption', serif",monospacedSansSerif:"'Deja Vu Sans Mono', 'Lucida Console', Monaco, Consolas, 'PT Mono', monospace",proportionalSansSerif:"Roboto, 'Arial Unicode Ms', Arial, Helvetica, Verdana, 'PT Sans Caption', sans-serif",casual:"'Comic Sans MS', Impact, Handlee, fantasy",cursive:"'Monotype Corsiva', 'URW Chancery L', 'Apple Chancery', 'Dancing Script', cursive",smallCapitals:"'Arial Unicode Ms', Arial, Helvetica, Verdana, 'Marcellus SC', sans-serif; font-variant: small-caps"},
fontSize:{smallest:"x-small",small:"small",medium:"medium",large:"large",largest:"x-large"},edgeType:{none:"0px 0px 0px",depressed:"0px 1px 0px",leftShadow:"-3px 3px 2px",raised:"0px 1px 1px",rightShadow:"3px 3px 2px",uniform:"0px 0px 4px"},color:{white:"rgb(255, 255, 255)",yellow:"rgb(255, 255, 0)",green:"rgb(0, 128, 0)",cyan:"rgb(0, 255, 255)",blue:"rgb(0, 0, 255)",magenta:"rgb(255, 0, 255)",red:"rgb(255, 0, 0)",black:"rgb(0, 0, 0)"}},visible:!1,fontFamily:"monospacedSerif",fontSize:"medium",scroll:"popout",
fontColor:"white",fontOpacity:"100%",edgeType:"none",edgeColor:"black",edgeOpacity:"25%",backgroundColor:"black",backgroundOpacity:"0%",windowColor:"black",windowOpacity:"50%",styles:{window:{backgroundColor:"rgba(0,0,0,0.5)"},text:{fontFamily:"Courier New, Courier, Nimbus Mono L, Cutive Mono, monospace",fontSize:"100%",color:"rgba(255,255,255,1)",textShadow:"0px 0px 0px rgba(0,0,0,1)",backgroundColor:"rgba(0,0,0,0)"}}}};var Ga=function(){};Ga.toColor=function(a){var b,c,d;b=/$#/.test(a)?hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,
function(a,b,c,d){return"#"+b+b+c+c+d+d}).substring(1).match(/.{2}/g).map(x(function(){return parseInt(x,16)})):a.match(/[0-9\.]+/g);d=parseInt(b[0]);c=parseInt(b[1]);a=parseInt(b[2]);b=null!==b[3]?parseFloat(b[3]):1;return{r:d,g:c,b:a,a:b}};Ga.fromColor=function(a){null==a.a&&(a.a=1);return"rgba("+a.r+","+a.g+","+a.b+","+a.a+")"};Ga.toPercent=function(a){return"string"===typeof a?a:""+Math.round(100*a)+"%"};Ga.fromPercent=function(a){return"number"===typeof a?a:parseFloat(a)/100};Ga.toCSS=function(a,
b){var c,d,g;null==b&&(b=!1);c="";b=!0===b?" !important":"";for(d in a)g=a[d],c+=""+f.toHyphenated(d)+":"+g+b+";";return c};var Ed=function(){};Ed.track=function(a,b){var c,d;c={url:"//amp.akamaized.net/amp.gif",query:{os:bowser.osname,osver:bowser.osversion,browser:bowser.name,browserver:bowser.version,prod:w.VERSION.replace(/^AMP/,"").replace(/\sv?[0-9\.]+$/,"").trim(),prodver:null!=(d=w.VERSION.match(/[0-9\.]+/))?d[0]:void 0,platform:"web",url:location.href,event:a,data:b,lic:w.LICENSE}};return f.request(c)["catch"](function(a){return V.instance.log(a)})};
var $b=function(){$b.__super__.constructor.call(this)};h($b,s);$b.prototype.execute=function(a){var b,c,d,g,e,f;b=Object.keys(this.facade.getModules());d=this.facade.plugins;e=0;for(f=d.length;e<f;e++)if(c=d[e],!b.includes(c))try{"function"===typeof(g=this.facade[c]).destroy&&g.destroy()}catch(l){this.facade.logger.error(l)}$b.__super__.execute.call(this,a)};var Wc=function(){return Wc.__super__.constructor.apply(this,arguments)};h(Wc,puremvc.SimpleCommand);Wc.prototype.execute=function(a){a=a.getBody();
Ed.track(a.type,a.data)};var Vc=function(){Vc.__super__.constructor.call(this)};h(Vc,B);Vc.prototype.execute=function(a){var b;null!=(b=this.facade.retrieveMediator(na.NAME))&&b.change(a.getBody())};var C=function(a){this.defaults=Na.defaults;C.__super__.constructor.call(this,a)};h(C,J);C.NAME=J.NAME;C.prototype.getMetadataOverrides=function(a){var b,c;return(null!=(b=this.facade.getMedia())?null!=(c=b.metadata)?c.config:void 0:void 0)||a||{}};C.prototype.getValueOf=function(a,b){var c,d,g,e=this;
null==b&&(b={});g=void 0;c=this.facade.getMedia()||{};d=c.metadata||{};try{g=this.facade.evaluateBindings(function(){var f;g=c[a];if(null!=g)return g;g=d[a];if(null!=g)return g;g=null!=(f=d.config)?f[a]:void 0;if(null!=g)return g;g=b[a];if(null!=g)return g;g=e.data[a];if(null!=g)return g;g=e.config[a];if(null!=g)return g}())}catch(f){g=void 0}return g};C.prototype.getContextName=function(){return"paths"};C.prototype.getContextData=function(){return this.getPaths()};C.prototype.onRegister=function(){this.facade.retrieveProxy(ma.NAME).registerContext(this)};
C.prototype.setData=function(a){null!=a.rules&&f.mergeRules(a.rules);C.__super__.setData.call(this,a);return a};C.prototype.getPlaysInline=function(){return this.data.playsinline};C.prototype.getMuted=function(){return this.getValueOf("muted")};C.prototype.setMuted=function(a){return this.data.muted=a};C.prototype.getWithCredentials=function(){return this.getValueOf("withCredentials")};C.prototype.setWithCredentials=function(a){return this.data.withCredentials=a};C.prototype.getAutoplay=function(){return this.getValueOf("autoplay")};
C.prototype.setAutoplay=function(a){return this.data.autoplay=a};C.prototype.getAutoplayPolicy=function(){return this.getValueOf("autoplayPolicy")};C.prototype.setAutoplayPolicy=function(a){return this.data.autoplayPolicy=a};C.prototype.getLoop=function(){return this.getValueOf("loop")};C.prototype.setLoop=function(a){return this.data.loop=a};C.prototype.getSettings=function(){return this.data.settings};C.prototype.setSettings=function(a){return this.data.settings=a};C.prototype.getDomain=function(){return this.data.domain};
C.prototype.setDomain=function(a){return this.data.domain=a};C.prototype.getTarget=function(){return this.data.target};C.prototype.setTarget=function(a){return this.data.target=a};C.prototype.getName=function(){return this.data.name};C.prototype.setName=function(a){return this.data.name=a};C.prototype.getPaths=function(){return this.data.paths};C.prototype.setPaths=function(a){return this.data.paths=a};C.prototype.getVersion=function(){return this.data.version};C.prototype.getControls=function(){return this.getValueOf("controls")||
{}};C.prototype.setControls=function(a){return this.data.controls=a};C.prototype.getFullscreen=function(){return this.data.fullscreen||{}};C.prototype.setFullscreen=function(a){return this.data.fullscreen=a};C.prototype.getLanguage=function(){return this.data.language};var na=function(){na.__super__.constructor.call(this,this.NAME);this.namespace=na.NAMESPACE};h(na,puremvc.Mediator);na.NAME="SettingsMediator";na.NAMESPACE="akamai_amp";na.GET=function(){var a;a=localStorage.getItem(na.NAMESPACE);try{a=
JSON.parse(a)}catch(b){a={}}return a||{}};na.prototype.onRegister=function(){var a,b,c;a=this.facade.retrieveProxy(J.NAME).getSettings()||{};null!=a.namespace&&(this.namespace=na.NAMESPACE=a.namespace);this.settings=hc.create(a.defaults);a=Object.assign({},a);delete a.defaults;delete a.namespace;try{b=localStorage.getItem(this.namespace),null!=b&&(c=f.override(JSON.parse(b),a)),this.legacy(c)}catch(d){}this.save(c)};na.prototype.legacy=function(a){var b,c,d,g,e,f,l,h,k;if(a.version!==this.settings.version){a=
a.captions;f=a.presets;c={};b=f.color;for(g in b)k=b[g],c[g]=Ga.toColor(k);e=function(a,b){var c,d;for(c in a)if(d=a[c],b===d)return c;return b};l=/Color$/;d=["presets","styles","track","visible","scroll"];for(g in a)if(k=a[g],!d.includes(g)){l.test(g)&&/^rgb/.test(k)&&(b=Ga.toColor(k),h=g.replace(l,""),a[h+"Opacity"]=Ga.toPercent(b.a),a[g]=e(c,b));if("edgeType"===g||"fontFamily"===g)a[g]=e(f[g],k);if("size"===g||"fontSize"===g)a.fontSize=e(f.fontSize,k),delete a.size}}};na.prototype.listNotificationInterests=
function(){return[e.READY,e.VOLUME_CHANGE]};na.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case e.READY:b=this.settings.volume;null!=b&&this.sendNotification(e.CHANGE_VOLUME,b);break;case e.VOLUME_CHANGE:if(this.settings.volume===a)break;this.change({volume:a})}};na.prototype.computeStyles=function(a,b){var c,d;a=f.override(this.settings.captions,a);null==b&&(b=a.presets);c=function(c,d){null==d&&(d=a[c]);return b[c][d]||d};d=function(b){var d;d=Ga.toColor(c("color",
a[b+"Color"]));b=a[b+"Opacity"];null!=b&&(d.a=Ga.fromPercent(b));return Ga.fromColor(d)};return{window:{backgroundColor:d("window")},text:{fontFamily:c("fontFamily"),fontSize:c("fontSize"),color:d("font"),textShadow:c("edgeType")+" "+d("edge"),backgroundColor:d("background")}}};na.prototype.change=function(a){var b,c,d;null==a||"object"!==typeof a||a instanceof Array||(b=f.diff(this.settings,a),null!=b&&(a=b.captions,null!=a&&(c=a.styles,"object"===typeof a.fontFamily&&(null==a.presets&&(a.presets=
{}),null==(d=a.presets).fontFamily&&(d.fontFamily={}),f.override(a.presets.fontFamily,a.fontFamily,!1),delete a.fontFamily),null!=a.size&&(a.fontSize=a.size,delete a.size),a.styles=f.override(this.computeStyles(a),c)),this.save(b),this.sendNotification(e.SETTINGS_CHANGE,b)))};na.prototype.getSettings=function(){return Object.freeze(Object.assign({change:this.change.bind(this)},this.settings))};na.prototype.save=function(a){this.settings=f.override(this.settings,a);try{localStorage.setItem(this.namespace,
JSON.stringify(this.settings))}catch(b){}};var ob=function(){ob.__super__.constructor.call(this)};h(ob,ba);ob.prototype.playbackCoreName="audio";ob.prototype.onRegister=function(){var a;a=new bb("html5","audio");this.sendNotification(e.PLAYBACK_CORE_CHANGE,a)};ob.prototype.onRemove=function(){this.facade.createMediaElement()};ob.prototype.canPlayMedium=function(a){return"audio"===a};ob.prototype.canPlayType=function(a){return/audio/.test(a)||/mpegURL/.test(a)&&(f.isIOS()||-1!==f.getSafariVersion())?
"maybe":""};var Ab=function(){};Ab.extractContentId=function(a,b){var c;c=document.createElement("a");c.href=f.arrayToString(a);return c.hostname};Ab.extractServerUrl=function(a,b){return b.serverURL||b.serverUrl};Ab.requestCertificate=function(a){return f.request({url:a.cert,responseType:"arraybuffer",headers:{Pragma:"Cache-Control: no-cache","Cache-Control":"max-age\x3d0"}}).then(function(a){return new Uint8Array(a.response)})};Ab.concatInitDataIdAndCertificate=function(a,b,c){var d,g,e;"string"===
typeof b&&(b=f.stringToArray(b));e=0;d=new ArrayBuffer(a.byteLength+4+b.byteLength+4+c.byteLength);g=new DataView(d);(new Uint8Array(d,e,a.byteLength)).set(a);e+=a.byteLength;g.setUint32(e,b.byteLength,!0);e+=4;a=new Uint16Array(d,e,b.length);a.set(b);e+=a.byteLength;g.setUint32(e,c.byteLength,!0);(new Uint8Array(d,e+4,c.byteLength)).set(c);return new Uint8Array(d,0,d.byteLength)};Ab.requestLicense=function(a,b,c,d){var g;a={url:c,method:"POST",responseType:"text",headers:{"Content-type":"application/x-www-form-urlencoded"},
data:"spc\x3d"+f.base64EncodeUint8Array(a)+"\x26assetId\x3d"+encodeURIComponent(b)};if(null!=d.httpRequestHeaders)for(g in c=d.httpRequestHeaders,c)b=c[g],a.headers[g]=b;"boolean"===typeof d.withCredentials&&(a.withCredentials=d.withCredentials);return f.request(a).then(function(a){a=a.responseText.trim();"\x3cckc\x3e"===a.substr(0,5)&&"\x3c/ckc\x3e"===a.substr(-6)&&(a=a.slice(5,-6));return f.base64DecodeUint8Array(a)})["catch"](function(a){throw"The license request failed.";})};var Bd=function(a,
b,c,d){this.id=a;this.name=b;this.logo=c;this.metadata=d};Bd.create=function(a,b,c,d){return new Bd(a,b,c,d)};var W=function(){W.__super__.constructor.call(this)};h(W,ba);W.prototype.playbackCoreName="dvr";W.prototype.interval=null;W.prototype.ondurationchange=function(a){this.updateDuration()};W.prototype.ontimeupdate=function(a){this.updateCurrentTime()};W.prototype.onplay=function(a){this.stopTimer();W.__super__.onplay.call(this,a)};W.prototype.onplaying=function(a){this.stopTimer();W.__super__.onplaying.call(this,
a)};W.prototype.onpause=function(a){this.startTimer();W.__super__.onpause.call(this,a)};W.prototype.canPlayTemporalType=function(a){return"dvr"===a};W.prototype.getDuration=function(){Infinity===this.getMediaElement().duration&&this.updateDuration();return this.data.duration};W.prototype.getStartTime=function(){return this.getMediaElement().seekable.start(0)};W.prototype.getFragmentDuration=function(){return this.facade.retrieveProxy(C.NAME).getValueOf("fragmentDuration")||10};W.prototype.getLiveTime=
function(){return this.getDuration()-this.getFragmentDuration()};W.prototype.isLive=function(){return this.getStartTime()+this.getCurrentTime()>=this.getLiveTime()};W.prototype.seek=function(a){var b=this;return W.__super__.seek.call(this,a+this.getStartTime()).then(function(a){b.sendNotification(e.IS_LIVE,b.isLive())})};W.prototype.updateCurrentTime=function(){var a,b;b=this.getMediaElement().seekable;0!==b.length&&(a=this.getMediaElement().currentTime,this.data.currentTime=a-b.start(0),this.sendNotification(e.TIME_CHANGE,
{currentTime:this.data.currentTime}),this.mediaProxy.setIsLive(this.isLive()))};W.prototype.updateDuration=function(){var a;a=this.getMediaElement().seekable;0!==a.length&&(this.data.duration=a.end(0)-a.start(0),this.sendNotification(e.CHANGE_DURATION,this.data.duration))};W.prototype.startTimer=function(){this.interval=this.facade.timers.setInterval(this.updateCurrentTime.bind(this),1E3)};W.prototype.stopTimer=function(){null!=this.interval&&(this.facade.timers.clearInterval(this.interval),this.interval=
null,this.updateCurrentTime())};var cb=function(){cb.__super__.constructor.call(this);null==this.contextName&&(this.contextName=this.constructor.NAME)};h(cb,puremvc.Proxy);cb.prototype.contextName=null;cb.prototype.contextData=null;cb.prototype.onRegister=function(){var a;null!=this.getContextName()&&(a=this.facade.player||this.facade,a=a.retrieveProxy(ma.NAME),a.registerContext(this))};cb.prototype.getContextName=function(){return this.contextName};cb.prototype.getContextData=function(){return this.contextData};
var S=function(a,b){this.defaultPlaybackCore=a;S.__super__.constructor.call(this);this.renderers=[];null==this.getPlaybackOrder&&(this.getPlaybackOrder=b.getPlaybackOrder||function(a){var d;if(0<(null!=(d=b.playbackOrder)?d.length:void 0))return b.playbackOrder;if(/Edge|Android/.test(navigator.userAgent))return["audio","hls","dash","dvr","default"]});this.canPlay=this.canPlay.bind(this)};h(S,cb);S.NAME="PlayerProxy";S.prototype.contextName="player";S.prototype.getPlaybackOrder=null;S.prototype.renderers=
null;S.prototype.defaultPlaybackCore=null;S.prototype.activePlaybackCore=null;S.prototype.onRegister=function(){S.__super__.onRegister.call(this);this.registerPlaybackCore(new W);this.registerPlaybackCore(this.defaultPlaybackCore);this.registerPlaybackCore(new ob);this.activePlaybackCore=this.defaultPlaybackCore};S.prototype.ready=function(){var a;a="function"===typeof this.getPlaybackOrder?this.getPlaybackOrder(this.renderers.map(function(a){return a.id})):void 0;null!=a&&(this.renderers=this.renderers.sort(function(b,
c){b=a.indexOf(b.id);c=a.indexOf(c.id);return b===c?0:-1===b&&-1!==c?1:-1!==b&&-1===c?-1:b-c}))};S.prototype.getActivePlaybackCore=function(){return this.activePlaybackCore};S.prototype.registerPlaybackCore=function(a){this.registerRenderer(a.renderer())};S.prototype.registerRenderer=function(a){var b;b=a.id;null==this.renderers[b]&&(this.renderers.push(a),this.renderers[b]=a)};S.prototype.retrieveRenderer=function(a){return this.renderers[a]};S.prototype.retrieveRendererFor=function(a){var b,c=this;
b=Q.compose(Q.filter(function(b){return b.canPlay(a)}),Q.map(function(a){return a.factory}));return f.first(Q.seq(b,this.renderers),this.facade).then(function(a){return a===c.facade?null:a})};S.prototype.removeRenderer=function(a){var b,c;if(null!=this.renderers[a])return c=this.renderers[a],b=this.renderers.indexOf(c),this.renderers.splice(b,1),delete this.renderers[a],c};S.prototype.setPlaybackCore=function(a){var b=this;return this.retrieveRendererFor(a).then(function(a){var d;if(null==a)throw b.facade.createMediaError(MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED);
d=b.facade.retrieveProxy(m.NAME);d!==a&&("function"===typeof d.destroy&&d.destroy(),b.facade.removeProxy(m.NAME),b.facade.registerProxy(a),a.setData(d.getData()));return b.activePlaybackCore=a})};S.prototype.canPlay=function(a){var b,c,d,g;g=this.renderers;c=0;for(d=g.length;c<d;c++)if(b=g[c],b.canPlay(a))return!0;return!1};S.prototype.getContextData=function(){var a,b,c,d;a=this.facade.retrieveProxy(C.NAME);d=this.facade.retrieveProxy(m.NAME);c=this.facade.retrieveProxy(r.NAME);b=this.facade.getViewComponent();
return{width:b.offsetWidth,height:b.offsetHeight,mode:"html5",autoplay:a.getAutoplay(),domain:a.getDomain(),name:a.getName(),currentTime:d.getCurrentTime(),duration:d.getDuration(),version:a.getVersion(),timecode:{duration:f.formatTimecode(c.getDuration()),currentTime:f.formatTimecode(d.getCurrentTime())}}};var r=function(a){this.data={metadata:{}};r.__super__.constructor.call(this);this.transform=this.transform.bind(this)};h(r,cb);r.NAME="MediaProxy";r.prototype.contextName="media";r.prototype.data=
null;r.prototype.started=!1;r.prototype.getContextData=function(){return this.data};r.prototype.getData=function(){var a;a=f.clone(r.__super__.getData.call(this));null==a.authorization&&(a.authorization=f.clone(this.facade.security.data));return a};r.prototype.setData=function(a){null!=this.data&&this.facade.getCurrentTime()<this.facade.getDuration()&&this.sendNotification(e.MEDIA_SEQUENCE_ABORTED);this.started=!1;this.setAutoplay(a.autoplay);this.setType(a.type);this.setIsLive(a.isLive);this.setTemporalType(a.temporalType);
null!=a.source&&this.setSource(a.source);null!=a.src&&this.setSrc(a.src);this.setTitle(a.title);this.setDuration(a.duration);this.setPoster(a.poster);this.setGUID(a.guid);this.setLink(a.link);this.setEmbed(a.embed);this.setWidth(a.width);this.setHeight(a.height);this.setCategory(a.category);this.setStartTime(a.startTime);this.setDescription(a.description);this.setStatus(a.status);this.setCategory(a.category);this.setMetadata(a.metadata);this.setAuthorization(a.authorization);this.setMedium(a.medium);
this.setPubDate(a.pubDate);this.setTrack(a.track);this.setScenes(a.scenes);this.setKeys(a.keys);this.setCues(a.cues);this.setRestriction(a.restriction);return this.data};r.prototype.transform=function(a){var b,c,d,g,e,h;null==a.medium&&(a.medium=/audio/.test(a.type)?"audio":"video");null==a.temporalType&&(a.temporalType="vod");a.isLive="live"===a.temporalType||"dvr"===a.temporalType;null==a.src&&0<(null!=(c=a.source)?c.length:void 0)&&(c=this.facade.retrieveProxy(S.NAME)||this.facade,null!=c&&(b=
f.selectSource(a,c.canPlay)),null!=(null!=b?b.src:void 0)&&""!==b.src&&(a.src=b.src,a.type=b.type));null==a.type&&(a.type=f.getMimeType(a.src));if(null!=a.scenes)for(h=a.scenes,b=g=0,e=h.length;g<e;b=++g)c=h[b],c.start=isNaN(d=f.flattenTimecode(c.sceneStartTime))?0:d,c.end=isNaN(d=f.flattenTimecode(c.sceneEndTime))?0:d,c.title=c.sceneTitle||"",c.description=c.sceneDescription||"",c.position=b+1;null==a.startTime&&(a.startTime=0);null==a.status&&(a.status={});null==a.restriction&&(a.restriction=[]);
null==a.track&&(a.track=[]);null==a.metadata&&(a.metadata={});a.originalSrc=a.src;return a};r.prototype.updateData=function(a){var b,c;for(b in a)c=a[b],b in this.data&&(this.data[b]=c)};r.prototype.getGUID=function(){return this.data.guid};r.prototype.setGUID=function(a){return this.data.guid=a};r.prototype.getLink=function(){return this.data.link};r.prototype.setLink=function(a){return this.data.link=a};r.prototype.getStartTime=function(){return this.data.startTime};r.prototype.setStartTime=function(a){return this.data.startTime=
a};r.prototype.getEmbed=function(){return this.data.embed};r.prototype.setEmbed=function(a){return this.data.embed=a};r.prototype.getAutoplay=function(){return this.data.autoplay};r.prototype.setAutoplay=function(a){return this.data.autoplay=a};r.prototype.getPubDate=function(){return this.data.pubDate};r.prototype.setPubDate=function(a){return this.data.pubDate=a};r.prototype.getCategory=function(){return this.data.category};r.prototype.setCategory=function(a){return this.data.category=a};r.prototype.getStatus=
function(){return this.data.status};r.prototype.setStatus=function(a){null==a&&(a={});return this.data.status=a};r.prototype.getSrc=function(){return this.facade.security.createURL(this.data.src)};r.prototype.setSrc=function(a){return this.data.src=a};r.prototype.getType=function(){return this.data.type};r.prototype.setType=function(a){return this.data.type=a};r.prototype.getMedium=function(){return this.data.medium};r.prototype.setMedium=function(a){if(a!==this.data.medium)return this.data.medium=
a,this.facade.retrieveProxy(u.NAME).setMedium(a)};r.prototype.getMetadata=function(){return this.data.metadata};r.prototype.setMetadata=function(a){return this.data.metadata=a};r.prototype.getSource=function(){return this.data.source};r.prototype.setSource=function(a){return this.data.source=a};r.prototype.getTrack=function(){return this.data.track};r.prototype.setTrack=function(a){return this.data.track=a};r.prototype.getTitle=function(){return this.data.title};r.prototype.setTitle=function(a){return this.data.title=
a};r.prototype.getWidth=function(){return this.data.width};r.prototype.setWidth=function(a){return this.data.width=a};r.prototype.getHeight=function(){return this.data.height};r.prototype.setHeight=function(a){return this.data.height=a};r.prototype.getDescription=function(){return this.data.description};r.prototype.setDescription=function(a){return this.data.description=a};r.prototype.getCategory=function(){return this.data.category};r.prototype.setCategory=function(a){return this.data.category=a};
r.prototype.getDuration=function(a){return this.data.duration};r.prototype.setDuration=function(a){var b;if(a&&"live"!==this.data.temporalType&&(b=navigator.userAgent,1!==a||!/Android/.test(b)||/Android.*Chrome/.test(b)))return a!==this.data.duration&&(this.data.duration=a,this.sendNotification(e.TIME_CHANGE,{duration:a})),Infinity===a&&this.setTemporalType("live"),a};r.prototype.getPoster=function(a){return this.data.poster};r.prototype.setPoster=function(a){this.data.poster=a};r.prototype.getIsLive=
function(){return this.data.isLive};r.prototype.setIsLive=function(a){if(a!==this.data.isLive)return this.data.isLive=a,this.sendNotification(e.IS_LIVE,a),a};r.prototype.getTemporalType=function(){return this.data.temporalType||"vod"};r.prototype.setTemporalType=function(a){var b;a!==this.data.temporalType&&(b=this.data.temporalType,this.data.temporalType=a,this.sendNotification(e.TEMPORAL_TYPE_CHANGE,{previous:b,value:a}))};r.prototype.getScenes=function(){return this.data.scenes};r.prototype.setScenes=
function(a){return this.data.scenes=a};r.prototype.getCues=function(){return this.data.cues};r.prototype.setCues=function(a){null==a&&(a=[]);if(this.data.cues!==a)return this.data.cues=a,this.sendNotification(e.CUES_CHANGE,a),a};r.prototype.getScene=function(a){var b,c,d,g;if(null!=this.data.scenes)for(g=this.data.scenes,b=c=0,d=g.length;c<d;b=++c)if(b=g[b],b.start<=a&&a<b.end)return b};r.prototype.getKeys=function(){return this.data.keys};r.prototype.setKeys=function(a){this.data.keys=a};r.prototype.getAuthorization=
function(){return this.data.authorization};r.prototype.setAuthorization=function(a){this.data.authorization=a};r.prototype.getRestriction=function(){return this.data.restriction};r.prototype.setRestriction=function(a){null==a&&(a=[]);this.data.restriction=a};var ic=function(a,b,c,d){var g=this;this.featured=null!=b?b:[];this.footprints=null!=c?c:[];this.metadata=d;a.forEach(function(a){return g.add(a)})};h(ic,Array);ic.create=function(a,b,c,d){return new ic(a,b,c,d)};ic.prototype.add=function(a){this.push(a);
return this[a.id]=a};var gb=function(a){gb.__super__.constructor.call(this,a)};h(gb,oa);gb.NAME="ParamsProxy";gb.prototype.defaults={};gb.prototype.configurationName="params";gb.prototype.setData=function(a){var b;this.data={};for(b in a)this.data[b]=a[b];return this.data};var P=function(){P.__super__.constructor.call(this,this.constructor.NAME,{});this.setupHDN1();Object.defineProperties(this,{authorized:{get:this.getAuthorized,enumerable:!0,configurable:!1}})};h(P,puremvc.Proxy);P.NAME="SecurityProxy";
P.prototype._authorized=!0;P.prototype._session=null;P.prototype.data=null;P.prototype.timeout=null;P.prototype.setupHDN1=function(){var a=this;return window.retrieveToken=function(b,c){var d;try{a.facade.logger.debug("[AMP AUTH] HDN1: Token Requested",b,c),d=a.getToken(),null!=d?a.facade.getMediaElement().tokenRetrievalSuccess("\x26primaryToken\x3d"+d):a.sendNotification(xa.AUTHORIZE)}catch(g){a.facade.logger.error("[AMP AUTH ERROR]: Token Retrival Error",g)}return!0}};P.prototype.setMedia=function(a){this.setSession(null);
this.setAuthorized("blocked"!==a.status.state&&0===a.restriction.length);this.setAuthorization(a.authorization)};P.prototype.authorize=function(a){this.setAuthorization(a);this.sendNotification(xa.AUTHORIZED,a)};P.prototype.getAuthorization=function(){return this.data};P.prototype.setAuthorization=function(a){null!=(null!=a?a.token:void 0)&&this.setAuthorized(!0);this.data=a||{};null!=this.data.expiration&&this.setExpiration(this.data.expiration);return a};P.prototype.getKey=function(){return this.data.key};
P.prototype.setKey=function(a){return this.data.key=a};P.prototype.getToken=function(){return this.data.token};P.prototype.setToken=function(a){return this.data.token=a};P.prototype.getExpiration=function(){return this.data.expiration};P.prototype.setExpiration=function(a){this.data.expiration=a;this.data.expiration>Date.now()&&this.startTimeout();return a};P.prototype.startTimeout=function(){var a=this;f.getUTC().then(function(b){return a.timeout=a.facade.timers.setTimeout(function(){a.sendNotification(xa.AUTHORIZATION_EXPIRED);
a.sendNotification(xa.AUTHORIZE,{media:a.facade.getMedia()})},a.getExpiration()-b)})};P.prototype.stopTimeout=function(){clearTimeout(this.timeout)};P.prototype.getSecret=function(){var a;if(null==this.data.token)return null;a="";null!=this.data.token&&(a=""+this.data.token);null!=this.data.key&&(a=""+this.data.key+"\x3d"+a);return a};P.prototype.createURL=function(a){var b;b=this.getSecret();null!=b&&(a+=/\?/.test(a)?"\x26":"?",a+=b);return a};P.prototype.getAuthorized=function(){return this._authorized};
P.prototype.setAuthorized=function(a){this.stopTimeout();return this._authorized=a};P.prototype.getSession=function(){return this._session};P.prototype.setSession=function(a){return this._session=a};var aa={READY:"ready",PLAYING:"playing",PAUSED:"paused",ENDED:"ended",LOADING:"loading",WAITING:"waiting",ERROR:"error"},ma=function(){ma.__super__.constructor.call(this,this.constructor.NAME,{});this.data={};this.contextMap={};this.configurationMap={}};h(ma,puremvc.Proxy);ma.NAME="DataBindingProxy";ma.prototype.contextMap=
null;ma.prototype.configurationMap=null;ma.prototype.paramsProxy=null;ma.prototype.initialize=function(){this.paramsProxy=this.facade.retrieveProxy(gb.NAME);this.update()};ma.prototype.registerContext=function(a){null!=a&&(this.contextMap[a.getContextName()]=a)};ma.prototype.retrieveContext=function(a){return this.contextMap[a]};ma.prototype.removeContext=function(a){var b;b=this.contextMap[a];delete this.contextMap[a];return b};ma.prototype.registerConfiguration=function(a){null!=a&&(this.configurationMap[a.getConfigurationName()]=
a,a.compile(this.context,!0))};ma.prototype.retrieveConfiguration=function(a){return this.configurationMap[a]};ma.prototype.removeConfiguration=function(a){var b;b=this.configurationMap[a];delete this.configurationMap[a];return b};ma.prototype.update=function(a){var b,c,d,g;this.data.now=Date.now();g=this.contextMap;for(d in g)b=g[d],-1!==(null!=a?"function"===typeof a.indexOf?a.indexOf(d):void 0:void 0)&&(this.data[d]=b.getContextData());this.paramsProxy.compile(this.data);b=this.paramsProxy.value;
for(c in b)a=b[c],this.data[c]=a;return this.data};ma.prototype.compile=function(a,b){var c,d,g,e,f;null==b&&(b=!1);this.update(a);d=this.data;e=this.paramsProxy.getConfigurationName();f=this.configurationMap;for(g in f)c=f[g],g!==e&&c.compile(d,b)};var Dd={FLASH:"flash",HTML:"html"},ab={ACTIVE:"active",INACTIVE:"inactive"},za={TIME:"time",SEEK:"seek",MEDIA:"media",AD_REQUEST:"adrequest",AD_BREAK:"adbreak",PLAY_STATE:"playstate",ERROR:"error"},Aa={REGISTER_PLUGINS:"registerPlugins",PLUGIN_REGISTERED:"pluginRegistered",
PLUGINS_INITIALIZED:"pluginsinitialized"},u=function(){u.__super__.constructor.call(this);this.device=f.getDevice();this.time={currentTime:0,duration:0}};h(u,puremvc.Proxy);u.NAME="ApplicationStateProxy";u.prototype.displayState=L.NORMAL;u.prototype.playState=null;u.prototype.renderMode=null;u.prototype.activeState=null;u.prototype.seeking=!1;u.prototype.seekrequested=!1;u.prototype.waiting=!1;u.prototype.busy=!1;u.prototype.isUserActive=!1;u.prototype.device=null;u.prototype.volume=1;u.prototype.playbackTarget=
"amp";u.prototype.hasPostContent=!1;u.prototype.locked=!1;u.prototype.mediaElement=null;u.prototype.hidden=!1;u.prototype.ended=!1;u.prototype.buffering=!1;u.prototype.time=null;u.prototype.playbackRate=1;u.prototype.getHasPostContent=function(){return this.hasPostContent};u.prototype.setHasPostContent=function(a){this.hasPostContent=a};u.prototype.getEnded=function(){return this.ended};u.prototype.setEnded=function(a){this.ended=a;!0===this.ended&&!0===this.seeking&&(this.seeking=!1)};u.prototype.getDisplayState=
function(){return this.displayState};u.prototype.setDisplayState=function(a){var b;a!==this.displayState&&(b=this.displayState,this.displayState=a,this.sendNotification(e.DISPLAY_STATE_CHANGE,{previous:b,value:this.displayState}))};u.prototype.getPlayState=function(){return this.playState};u.prototype.setPlayState=function(a){var b,c=this;!0===this.getWaiting()&&this.setWaiting(!1);a!==this.playState&&(b=this.playState,this.playState=a,this.facade.transform(za.PLAY_STATE,this.playState).then(function(d){c.sendNotification(e.PLAY_STATE_CHANGE,
{previous:b,value:c.playState});switch(a){case aa.PLAYING:return c.sendNotification(e.DISPATCH_EVENT,new F("playing"))}})["catch"](function(a){return c.sendNotification(e.ERROR,a)}))};u.prototype.getDevice=function(){return this.device};u.prototype.getSeeking=function(){return this.seeking};u.prototype.setSeeking=function(a){a!==this.seeking&&(this.seeking=a,!1===this.seeking&&this.playState===aa.PAUSED&&!0===this.getWaiting()&&this.setWaiting(!1))};u.prototype.getSeekRequested=function(){return this.seekrequested};
u.prototype.setSeekRequested=function(a){a!==this.seekrequested&&(this.seekrequested=a)};u.prototype.getWaiting=function(){return this.waiting};u.prototype.setWaiting=function(a){var b,c=this;a!==this.waiting&&(this.waiting=a,a=!0===this.waiting?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE,this.sendNotification(a,aa.WAITING),!0===this.waiting&&(this.facade.getMediaElement(),b=function(a){c.facade.removeEventListener("playing",b);c.facade.removeEventListener("canplaythrough",b);c.facade.removeEventListener("ended",
b);c.setWaiting(!1)},this.facade.addEventListener("playing",b),this.facade.addEventListener("canplaythrough",b),this.facade.addEventListener("ended",b)))};u.prototype.getBusy=function(){return this.busy};u.prototype.setBusy=function(a){a!==this.busy&&(this.busy=a,this.sendNotification(e.DISPATCH_EVENT,new F("busy",a)))};u.prototype.getLocked=function(){return this.locked};u.prototype.setLocked=function(a){this.locked=a};u.prototype.getBuffering=function(){return this.buffering};u.prototype.setBuffering=
function(a){this.buffering=a};u.prototype.getIsUserActive=function(){return this.isUserActive};u.prototype.setIsUserActive=function(a){a!==this.isUserActive&&(this.isUserActive=a)};u.prototype.getRenderMode=function(){return this.renderMode};u.prototype.setRenderMode=function(a){a!==this.renderMode&&(this.renderMode=a)};u.prototype.getMedium=function(){return this.medium};u.prototype.setMedium=function(a){var b;a!==this.medium&&(b=null!=this.medium?"medium-"+this.medium:this.medium,this.medium=a,
this.sendNotification(e.MEDIUM_CHANGE,{previous:b,value:"medium-"+this.medium}))};u.prototype.getVolume=function(){return this.volume};u.prototype.setVolume=function(a){if(a!==this.volume)return this.volume=a};u.prototype.getPlaybackTarget=function(){return this.playbackTarget};u.prototype.setPlaybackTarget=function(a){var b;a!==this.playbackTarget&&(b=this.playbackTarget,this.playbackTarget=a,"amp"!==a?this.getPlayState()!==aa.PAUSED&&this.facade.pause():this.getPlayState()===aa.PLAYING&&this.facade.play(),
this.sendNotification(e.PLAYBACK_TARGET_CHANGE,{previous:b,value:this.playbackTarget}))};u.prototype.getActiveState=function(){return this.activeState};u.prototype.setActiveState=function(a){var b;a!==this.activeState&&(b=this.activeState,this.activeState=a,this.sendNotification(e.ACTIVE_STATE_CHANGE,{previous:b,value:this.activeState}))};u.prototype.getMediaElement=function(){return this.mediaElement};u.prototype.setMediaElement=function(a){var b;a!==this.mediaElement&&(b=this.mediaElement,this.mediaElement=
a,this.sendNotification(e.MEDIA_ELEMENT_CHANGE,{previous:b,value:this.mediaElement}))};u.prototype.getHidden=function(){return this.hidden};u.prototype.setHidden=function(a){var b;a!==this.hidden&&(b=this.hidden,this.hidden=a,this.sendNotification(e.HIDDEN_CHANGE,{previous:b,value:this.hidden}))};u.prototype.getCurrentTime=function(){return this.time.currentTime};u.prototype.setCurrentTime=function(a){a===this.time.currentTime||0>a||(this.time.currentTime=a,this.sendNotification(e.TIME_UPDATE,a))};
u.prototype.getDuration=function(){return this.time.duration};u.prototype.setDuration=function(a){a!==this.time.duration&&(this.time.duration=a,this.sendNotification(e.DURATION_CHANGE,a))};u.prototype.getPlaybackRate=function(){return this.playbackRate};u.prototype.setPlaybackRate=function(a){a!==this.playbackRate&&(this.playbackRate=a)};var jc=function(){jc.__super__.constructor.call(this)};h(jc,r);jc.NAME="MediaProxy";jc.prototype.setSource=function(a){if(!(null==a||1>a.length))return a=a.filter(function(a){return"external"===
a.type}),jc.__super__.setSource.call(this,a)};var ua=function(){ua.__super__.constructor.call(this)};h(ua,puremvc.Proxy);ua.NAME="PlaybackProxy";ua.prototype.src=null;ua.prototype.getPlaybackCoreName=function(){return"external"};ua.prototype.canPlayType=function(a){return"external"===a};ua.prototype.canPlayTemporalType=function(a){return!0};ua.prototype.getSrc=function(){return this.facade.mediaProxy.getSrc()};ua.prototype.play=function(){window.open(this.getSrc(),"_blank")};ua.prototype.load=function(){};
ua.prototype.setVolume=function(){};ua.prototype.pause=function(){};ua.prototype.setEnabled=function(){};ua.prototype.getCurrentTime=function(){return 0};ua.prototype.setCurrentTime=function(a){};ua.prototype.getDuration=function(){return 0};var Fb=function(){Fb.__super__.constructor.call(this)};h(Fb,s);Fb.prototype.execute=function(a){this.sendNotification(e.PLAY_REQUEST);this.playback.play();Fb.__super__.execute.call(this,a)};var fa={TOGGLE_PLAY_PAUSE:"usertogglePlayPause",PLAY:"userplay",PAUSE:"userpause",
SEEK:"userseek",SEEKED:"userseeked",GO_LIVE:"usergolive"},da=function(a){da.__super__.constructor.call(this,a)};h(da,oa);da.NAME=J.NAME;da.prototype.enabled=!0;da.prototype.plugin=null;da.prototype.appState=null;da.prototype.getDefaults=function(){var a;a=da.__super__.getDefaults.call(this);null==a.debug&&(a.debug=null);return a};da.prototype.initializeNotifier=function(a){da.__super__.initializeNotifier.call(this,a);this.appState=this.facade.player.appState};da.prototype.getMediaElement=function(){return this.facade.player.getMediaElement()};
da.prototype.setEnabled=function(a){return this.enabled=a};da.prototype.getEnabled=function(){return this.enabled};da.prototype.getDebug=function(){return null!=this.value.debug?this.value.debug:!0===this.facade.player.getConfig().debug};da.prototype.createPlugin=function(){};da.prototype.initialize=function(){this.plugin=this.createPlugin()};da.prototype.error=function(a){this.facade.logger.error("[AMP "+this.facade.getModuleName().toUpperCase()+" Error]",a)};var zc={PREFIX:"akamai-"},ya=function(){ya.__super__.constructor.call(this)};
h(ya,A);ya.prototype.player=null;ya.prototype.proxy=null;ya.prototype.initialize=function(a,b){this.player=b;this.logger=this.player.logger;ya.__super__.initialize.call(this,a,b)};ya.prototype.isAvailable=function(){return!0};ya.prototype.loadModuleResources=function(){return this.isAvailable()?ya.__super__.loadModuleResources.call(this):Promise.resolve()};ya.prototype.resourcesLoaded=function(){if("function"===typeof this.oninitialized)this.oninitialized(this)};ya.prototype.onRegister=function(){var a;
this.isAvailable()&&(this.createFramework(),null!=(a=this.retrieveProxy(da.NAME))&&"function"===typeof a.initialize&&a.initialize());this.performance.ready=Date.now();this.sendNotification(Aa.PLUGIN_REGISTERED,this)};ya.prototype.logEvent=function(a){var b;!0!==this.ignoreEvents.test(a.type)&&(b=this.player.getModuleName().toUpperCase()+" "+this.getModuleName().toUpperCase(),null!=a.dispatcher&&(b+=" "+a.dispatcher),this.logger.log("["+b+" EVENT] "+a.type,a))};ya.prototype.listNotificationPublications=
function(){var a,b;return[e.ADD_LAYER,e.REMOVE_LAYER,e.ADD_OVERLAY,e.REMOVE_OVERLAY,e.ADD_APPLICATION_STATE,e.REMOVE_APPLICATION_STATE,e.IS_USER_ACTIVE,e.PLAYBACK_CORE_CHANGE].concat(function(){var c;c=[];for(a in Aa)b=Aa[a],c.push(b);return c}())};var Bb=function(){Bb.__super__.constructor.call(this)};h(Bb,B);Bb.prototype.execute=function(a){this.applicationState.setPlayState(a.getBody())};var bc=function(){bc.__super__.constructor.call(this)};h(bc,B);bc.prototype.execute=function(a){try{this.media.setData(a.getBody())}catch(b){this.sendNotification(e.ERROR,
b.message);return}this.sendNotification(e.UPDATE_DATA_BINDINGS);a=this.media.getData();null!=a.authorization&&this.security.setAuthorization(a.authorization);this.security.getAuthorized()?this.sendNotification(xa.AUTHORIZED,this.security.getAuthorization()):this.sendNotification(xa.AUTHORIZE,{media:a})};var ac=function(){ac.__super__.constructor.call(this)};h(ac,B);ac.prototype.execute=function(a){var b,c=this;a=a.getBody();this.applicationState.setBuffering(!1);this.applicationState.setEnded(!1);
this.playback.setEnabled(!1);this.playback.pause();null!=(b=this.tracks)&&b.clear();this.sendNotification(e.HAS_POST_CONTENT,!1);this.sendNotification(e.CHANGE_PLAY_STATE,aa.READY);this.sendNotification(e.CHANGE_ACTIVE_STATE,ab.ACTIVE);a=this.media.transform(a);this.security.setMedia(a);this.facade.transform(za.MEDIA,a).then(function(a){a=c.media.transform(a);return c.sendNotification(e.CHANGE_MEDIA,a)})["catch"](function(a){return c.sendNotification(e.ERROR,a)})};var ec=function(){ec.__super__.constructor.call(this)};
h(ec,B);ec.prototype.execute=function(a){a=a.getBody();this.media.getDuration()!==a&&this.media.setDuration(a)};var cc=function(){cc.__super__.constructor.call(this)};h(cc,s);cc.prototype.execute=function(a){var b,c=this;b=function(a){var b;c.playback.destroy();b=c.playback.getMediaElement();D.clear(b);c.logger.error("[AMP ERROR]",a);c.sendNotification(e.CHANGE_PLAY_STATE,aa.ERROR);c.facade.error=a;c.dispatchEvent(Events.ERROR,a)};a=a.getBody();this.facade.transform(za.ERROR,Ta.create(a)).then(function(a){if(null!=
a)return b(a)})["catch"](function(a){return b(a)})};var dc=function(){dc.__super__.constructor.call(this)};h(dc,s);dc.prototype.execute=function(a){var b=this;return this.localization.initialize(this.facade.plugins).then(function(){var c;c=b.facade.config.volume;null!=c&&b.sendNotification(e.CHANGE_VOLUME,c);b.playerCore.ready();!0===b.facade.config.autoplay&&b.sendNotification(e.ADD_APPLICATION_STATE,"autoplay");b.sendNotification(e.CHANGE_DISPLAY_STATE,L.NORMAL);b.sendNotification(e.CHANGE_PLAY_STATE,
aa.READY);b.sendNotification(e.CHANGE_ACTIVE_STATE,ab.ACTIVE);return b.doAfter(function(){b.facade.performance.ready=Date.now();b.sendNotification(e.TRACK,F.create("create"));b.dispatchEvent(a);return b.doAfter(function(){var a;a=b.facade.config.media;if(null!=a)return b.sendNotification(e.SET_MEDIA,a)})})})};var Cb=function(){Cb.__super__.constructor.call(this)};h(Cb,B);Cb.prototype.execute=function(a){a=a.getBody()||{};this.bindings.compile(a.contexts,a.suppressErrors)};var fc=function(){fc.__super__.constructor.call(this)};
h(fc,B);fc.prototype.execute=function(a){this.params.setData(a.getBody());this.sendNotification(e.UPDATE_DATA_BINDINGS,{suppressErrors:!0})};var Ua=function(){Ua.__super__.constructor.call(this)};h(Ua,Wa);Ua.prototype.componentName="overlays";Ua.NAME="OverlayLayerMediator";Ua.prototype.createMediatorName=function(){return Ua.NAME};Ua.prototype.listNotificationInterests=function(){return[e.ADD_OVERLAY,e.REMOVE_OVERLAY]};Ua.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();
switch(b){case e.ADD_OVERLAY:this.viewComponent.appendChild(a);break;case e.REMOVE_OVERLAY:this.viewComponent.removeChild(a)}};var Ba=function(){this.plugins=[];this.registered=0;Ba.__super__.constructor.call(this,this.constructor.NAME,{})};h(Ba,puremvc.Mediator);Ba.NAME="PluginAdapter";Ba.prototype.plugins=null;Ba.prototype.registered=null;Ba.prototype.onRegister=function(){return Ba.__super__.onRegister.call(this)};Ba.prototype.listNotificationInterests=function(){return[Aa.REGISTER_PLUGINS,Aa.PLUGIN_REGISTERED]};
Ba.prototype.handleNotification=function(a){var b,c,d,g,e,f,l,h,k=this;c=a.getName();a=a.getBody();switch(c){case Aa.REGISTER_PLUGINS:f=this.facade.getPlayerType();this.facade.plugins=[];h=w.plugins;for(g in h)if(l=h[g],g in a&&(c=a[g],null!=c&&!1!==c.enabled))if(b=l[f],null==b)this.facade.logger.debug("[AMP] Plugin could not be found: "+g);else try{e=new b,e.oninitialized=this.onplugininitialized.bind(this,g),e.onerror=this.onpluginerror.bind(this,g),d=e.initialize.bind(e,c,this.facade),this.plugins.push(d)}catch(m){this.logger.error("[AMP] Plugin could not be created: "+
g+". "+m)}e=a.plugins||{};for(g in e)c=e[g],null!=c&&!1!==c.enabled&&(d=function(a,c,d,g,e){return k.facade.loadResources(c.resources).then(function(){b=w.plugins[d][f];null==b&&e("[AMP] Plugin could not be found: "+d);return b(a,c,d)}).then(g)["catch"](e)},this.plugins.push(d.bind(null,this.facade,c,g,this.onpluginregistered.bind(this,g),this.onpluginerror.bind(this,g))));this.plugins.forEach(function(a){return a()});break;case Aa.PLUGIN_REGISTERED:this.onpluginregistered(a.getModuleName(),a)}};
Ba.prototype.initializedCheck=function(){this.registered===this.plugins.length&&this.sendNotification(Aa.PLUGINS_INITIALIZED,this.plugins)};Ba.prototype.onplugininitialized=function(a,b){b.oninitialized=null;b.onerror=null;this.facade.registerModule(b)};Ba.prototype.onpluginerror=function(a,b){this.registered++;this.facade.logger.error("[AMP] Plugin could not be registered: "+a);this.facade.logger.error(b);this.initializedCheck()};Ba.prototype.onpluginregistered=function(a,b){var c;null==this.facade[a]&&
(this.registered++,this.facade.logger.debug("[AMP] Plugin registered: "+a),this.facade[a]=b,this.facade.plugins.push(a),c=("function"===typeof b.getFeatureName?b.getFeatureName():void 0)||b.feature,null!=c&&(this.facade[c]=b),this.initializedCheck())};var La=function(a){this.element=a};La.prototype.element=null;La.prototype.prefix=zc.PREFIX;La.prototype.contains=function(a){return this.constructor.contains(a,this.element,this.prefix)};La.prototype.add=function(a){this.constructor.add(a,this.element,
this.prefix)};La.prototype.remove=function(a){this.constructor.remove(a,this.element,this.prefix)};La.prototype.toggle=function(a){return this.constructor.contains(a,this.element,this.prefix)};La.contains=function(a,b,c){var d;null==c&&(c="");a=c+a;return null!=(null!=(d=b.classList)?d.contains:void 0)?b.classList.contains(a):-1!==b.className.indexOf(a)};La.add=function(a,b,c){var d;null==c&&(c="");c+=a;null!=(null!=(d=b.classList)?d.add:void 0)?b.classList.add(c):this.contains(a,b)||(b.className=
""!==b.className?b.className+(" "+c):c)};La.remove=function(a,b,c){var d;null==c&&(c="");c+=a;null!=(null!=(d=b.classList)?d.remove:void 0)?b.classList.remove(c):this.contains(a,b)&&(a=RegExp(" ?"+c),b.className=b.className.replace(a,""))};La.toggle=function(a,b,c){var d;null!=(null!=(d=b.classList)?d.toggle:void 0)?b.classList.toggle(this.prefix+a):this.contains(a,b)?this.remome(a,b):this.add(a,b)};var M=function(a){M.__super__.constructor.call(this);this.data={"default":a.defaults.language,language:a.language,
locales:[Na.locales]};this.defaults={}};h(M,cb);M.NAME="LocalizationProxy";M.prototype.contextName="l10n";M.prototype.locale=null;M.prototype.localeId=null;M.prototype.defaults=null;M.prototype.initialize=function(a){var b,c,d,g=this;null!=this.facade.config.locales&&this.addLocales(this.facade.config.locales,!1);c=0;for(d=a.length;c<d;c++)b=a[c],null!=this.facade[b].locales&&this.addLocales(this.facade[b].locales,!1);return this.compileLocale(this.data["default"]).then(function(a){g.defaults=a;return g.setLanguage(g.data.language)})};
M.prototype.getContextData=function(){return this.locale};M.prototype.getLanguage=function(){return this.data.language};M.prototype.setLanguage=function(a){var b=this;return this.compileLocale(a).then(function(c){b.data.language=a;b.localeId=a.toLowerCase();b.locale=b.facade.l10n=c;b.sendNotification(e.LANGUAGE_CHANGE,a)})};M.prototype.compileLocale=function(a){var b=this;return new Promise(function(c,d){var g,e,h;if(!a)return c({});e=a.toLowerCase();h=b.getLocaleIdShort(e);g=function(a){return null!=
a};g=Q.compose(Q.filter(g),Q.map(function(a){return a[e]||a[h]}),Q.filter(g),Q.map(function(a){return"string"!==typeof a?a:w.addResource({src:b.facade.evaluatePaths(a),type:f.mimeTypes.json}).then(function(a){return a.data})["catch"](function(a){return{}})}));g=Q.into([{}],g,b.data.locales);Promise.all(g).then(function(a){return c(Object.assign.apply(Object,a))})})};M.prototype.getLocaleId=function(){return this.localeId};M.prototype.getLocaleIdShort=function(a){null==a&&(a=this.localeId);return(a||
"").split("-").shift()};M.prototype.getLocales=function(){return this.data.locales};M.prototype.setLocales=function(a){return this.data.locales=a};M.prototype.addLocales=function(a,b){var c,d,g,e,f;null==b&&(b=!0);if(null==a)return Promise.resolve();a instanceof Array||(a=[a]);e=0;for(f=a.length;e<f;e++)if(d=a[e],"object"===typeof d){g={};for(c in d)a=d[c],g[c.toLowerCase()]=a;this.data.locales.push(g)}return!1===b?Promise.resolve():this.setLanguage(this.getLanguage())};M.prototype.getString=function(a,
b){var c,d,g,e,f;if(null!=a){if(!this.data.language)return a;try{d=a.replace(/^MSG_/,"");e="MSG_"+d;c=this.defaults;g=this.locale||c;if(null==g)return a;f=g[e]||g[d]||c[e]||c[d]||a;return f=this.facade.evaluateBindings(f,b)}catch(l){return a}}};M.prototype.getLanguageString=function(a){var b,c;if("string"!==typeof a||null==a||""===a)return"";b="MSG_"+a.toUpperCase();c=this.getString(b);c===b&&(a=this.getLocaleIdShort(a),b="MSG_"+a.toUpperCase(),c=this.getString(b));return c};var $a=function(){};$a.create=
function(a,b,c,d){var g,e,f,l,h;null==c&&(c="div");"string"===typeof c&&(c=document.createElement(c));g=new La(c);if(null!=a)for("string"===typeof a&&(a=[a]),l=0,h=a.length;l<h;l++)e=a[l],g.add(e);c._classList=g;null!=d&&(null!=c.innerText?c.innerText=d:c.textContent=d);null!=b&&(null!=b.getViewComponent&&(f=b.getViewComponent()),null!=f&&(b=f),b.appendChild(c));return c};$a.bindEvents=function(a,b,c){var d,g;null==c&&(c=["onRemove","onRegister"]);for(d in b)g=b[d],0<=wc.call(c,d)||!/^on/.test(d)||
null==(null!=g?g.bind:void 0)||(a[d]=g.bind(b))};var H=function(a,b,c){H.__super__.constructor.call(this,a,b,c)};h(H,k);H.prototype.playerType="external";H.prototype.createModel=function(){var a;H.__super__.createModel.call(this);this.registerProxy(new M(this.config));a=new ua;this.registerProxy(a);this.playerCore=new S(a);this.registerProxy(this.playerCore);this.bindings.initialize()};H.prototype.createView=function(){var a,b=this;this.registerMediator(new qa("external",this.getViewComponent()));
this.registerMediator(new Ba);a=new Ua;this.registerMediator(a);D.create(a.viewComponent,D.CLICK,function(){return b.sendNotification(e.TOGGLE_ACTIVE)})};H.prototype.createController=function(){H.__super__.createController.call(this);this.registerCommand(e.UPDATE_DATA_BINDINGS,Cb);this.registerCommand(fa.TOGGLE_PLAY_PAUSE,Fb);this.registerCommand(e.PLAY,Fb);this.registerCommand(e.CHANGE_PLAY_STATE,Bb);this.registerCommand(e.SET_MEDIA,ac);this.registerCommand(e.CHANGE_MEDIA,bc);this.registerCommand(e.MEDIA_CHANGE,
s);this.registerCommand(e.MEDIA_VALIDATED,Pb);this.registerCommand(e.ERROR,cc);this.registerCommand(Aa.PLUGINS_INITIALIZED,Mb);this.registerCommand(e.READY,dc);this.registerCommand(e.CHANGE_PARAMS,fc)};H.prototype.createMediaElement=function(){return document.createElement("div")};H.prototype.canPlayType=function(a){return"maybe"};H.prototype.play=function(){this.sendNotification(e.PLAY)};H.prototype.setParams=function(a){this.sendNotification(e.CHANGE_PARAMS,a);return a};H.prototype.getParams=function(){return this.retrieveProxy(gb.NAME).getData()};
H.prototype.setAutoplay=function(a){return!1};H.prototype.getAutoplay=function(){return!1};H.prototype.setLoop=function(a){return!1};H.prototype.getLoop=function(){return!1};H.prototype.setMuted=function(a){return!1};H.prototype.getMuted=function(){return!1};H.prototype.setMedia=function(a){this.sendNotification(e.SET_MEDIA,a);return a};H.prototype.getMedia=function(a){var b;return null!=(b=this.retrieveProxy(r.NAME))?b.getData():void 0};H.prototype.setCurrentTime=function(a){return 0};H.prototype.getCurrentTime=
function(a){return 0};H.prototype.getDuration=function(a){return this.retrieveProxy(r.NAME).getDuration()};H.prototype.setSrc=function(a){this.sendNotification(e.SET_MEDIA,{src:a});return a};H.prototype.getSrc=function(a){return this.retrieveProxy(r.NAME).getSrc()};H.prototype.setSource=function(a){this.sendNotification(e.SET_MEDIA,{source:a});return a};H.prototype.getSource=function(){return this.retrieveProxy(r.NAME).getSource()};H.prototype.setVolume=function(a){return a};H.prototype.getVolume=
function(a){return 1};H.prototype.getSeeking=function(){return!1};H.prototype.getPaused=function(){return!1};H.prototype.getEnded=function(){return!1};var mb=function(){};mb.prototype.getFeed=function(a){return f.getFeed(a)};mb.prototype.getMediaNode=function(a,b,c){var d,g,e,f;null==c&&(c=!0);e="media-"+b;d=a["media-group"]||a;g=d["media-content"];null!=g&&null!=g[e]?f=g[e]:null!=d[e]?f=d[e]:null!=a[e]?f=a[e]:null!=a[b]&&c&&(f=a[b]);return f};mb.prototype.createEmbed=function(a){var b,c,d,e,f,h;
try{b=this.getMediaNode(a,"embed");if(null==b)return c;c={};c.url=b["@attributes"].url;c.width=b["@attributes"].width;c.height=b["@attributes"].height;c.params={};b["media-param"]instanceof Array||(b["media-param"]=[b["media-param"]]);h=b["media-param"];e=0;for(f=h.length;e<f;e++)d=h[e],c.params[d["@attributes"].name]=d["#text"]}catch(l){V.error("[AMP Feed Parse Error] embed parse error: "+l.message,l)}return c};mb.prototype.createFeed=function(a){var b,c,d,e,f,h,l,k,m;try{if(b=a.channel,c=new Za,
null!=b){c.title=b.title;c.description=b.description;c.language=b.language;c.category=b.category;c.pubDate=new Date(Date.parse(b.pubDate));c.ttl=b.ttl;e=b.item instanceof Array?b.item:[b.item];k=0;for(m=e.length;k<m;k++)d=e[k],h=this.createMedia(d),c.item.push(h);for(f in b)l=b[f],f in c||(c.metadata[f]=l)}}catch(n){V.error("[AMP Feed Parse Error] feed parse error: "+n.message,n)}return c};mb.prototype.createMedia=function(a){var b,c,d,e,f,h,l,k,m,n,q,r,s,t,u,v,w,y,z,A,B,C,D;try{l=new ga;h=this.getMediaNode(a,
"content");if(h instanceof Array)for(l.source=[],s=0,w=h.length;s<w;s++)d=h[s],n={src:d["@attributes"].url,type:d["@attributes"].type},c=d["media-category"],null!=c&&(b=c["@attributes"],"http://mrss.akamai.com/user_agent_hint"===b.schema&&(f=b.label||c["#text"],null!=f&&""!==f&&(null==n.rules&&(n.rules=[]),n.rules.push(f)))),l.source.push(n),l.medium=d["@attributes"].medium,l.duration=parseFloat(d["@attributes"].duration);else l.type=h["@attributes"].type,l.src=h["@attributes"].url,l.medium=h["@attributes"].medium,
l.duration=parseFloat(h["@attributes"].duration);l.guid=a.guid;l.title=this.getMediaNode(a,"title");l.link=a.link;l.description=this.getMediaNode(a,"description");l.pubDate=new Date(Date.parse(a.pubDate));l.thumbnail=l.poster=null!=(B=this.getMediaNode(a,"thumbnail"))?null!=(C=B["@attributes"])?C.url:void 0:void 0;l.embed=this.createEmbed(a);l.scenes=null!=(D=this.getMediaNode(a,"scenes"))?D["media-scene"]:void 0;k=this.getMediaNode(a,"status",!1);null!=k&&(l.status={state:k["@attributes"].state,
reason:k["@attributes"].reason});k=this.getMediaNode(a,"restriction",!1);if(null!=k)for(k instanceof Array||(k=[k]),l.restriction=[],t=0,y=k.length;t<y;t++)m=k[t],l.restriction.push({relationship:m["@attributes"].relationship,type:m["@attributes"].type,value:m["#text"].split(" ")});l.category=a.category;l.category instanceof Array||(l.category=[l.category]);k=this.getMediaNode(a,"category",!1);if(null!=k)for(u=0,z=k.length;u<z;u++)c=k[u],null!=c["#text"]&&""!==c["#text"]&&l.category.push(c["#text"]);
null!=l.category&&l.category.sort(function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0});k=this.getMediaNode(a,"subTitle");if(null!=k)for(null==l.track&&(l.track=[]),k instanceof Array||(k=[k]),v=0,A=k.length;v<A;v++)q=k[v],null!=q["@attributes"]&&l.track.push({src:q["@attributes"].href,type:q["@attributes"].type,kind:"captions",srclang:q["@attributes"].lang||"en"});c=a.category;c instanceof Array||(c=[c]);l.isLive="live"===a.temporalType||null!=c&&-1!==c.join(",").indexOf("live_stream");
l.temporalType=l.isLive?"live":a.temporalType||"vod";for(e in a)r=a[e],e in l||(l.metadata[e]=r)}catch(E){V.error("[AMP Feed Parse Error] media parse error: "+E.message,E)}return l};var ga=function(){return ga.__super__.constructor.apply(this,arguments)};h(ga,wb);ga.prototype.source=null;ga.prototype.title=null;ga.prototype.description=null;ga.prototype.link=null;ga.prototype.guid=null;ga.prototype.pubDate=null;ga.prototype.poster=null;ga.prototype.thumbnail=null;ga.prototype.embed=null;ga.prototype.category=
null;ga.prototype.type=null;ga.prototype.medium=null;ga.prototype.duration=null;ga.prototype.track=null;ga.prototype.metadata=null;ga.prototype.scenes=null;ga.prototype.startTime=null;ga.DEFAULT={src:f.blankVideo(),type:f.mimeTypes.mp4,temporalType:"vod",medium:"video"};var Q=function(){};Q._pipe=function(a,b){return function(){var c;c=1<=arguments.length?[].slice.call(arguments,0):[];return b(a.apply(null,c))}};Q.pipe=function(){return(1<=arguments.length?[].slice.call(arguments,0):[]).reduce(this._pipe)};
Q.compose=function(){return(1<=arguments.length?[].slice.call(arguments,0):[]).reduceRight(this._pipe)};Q.map=function(a){return function(b){return function(c,d){return b(c,a(d))}}};Q.filter=function(a){return function(b){return function(c,d){return a(d)?b(c,d):c}}};Q.tap=function(a){return function(b){return function(c,d){a(d);return b(c,d)}}};Q.concat=function(){return function(a,b){a.push(b);return a}};Q.join=function(a){null==a&&(a="");return function(b,c){return""===b?c:b+a+c}};Q.transduce=function(a,
b,c,d){return d.reduce(a(b),c)};Q.into=function(a,b,c){return this.transduce(b,this.concat(),a,c)};Q.seq=function(a,b){return this.into([],a,b)};var wa=function(a){this.id=a;this.intervals=[];this.timeouts=[];this.immediates=[];this.timers=[];this.groups=[]};wa.create=function(a){return new wa(a)};wa.prototype.setTimeout=function(a,b){var c,d,e=this;c=2<arguments.length?[].slice.call(arguments,2):[];d=setTimeout(function(){a.apply(null,c);e.clearTimeout(d)},b);this.timeouts.push(d);return d};wa.prototype.clearTimeout=
function(a){var b;b=this.timeouts.indexOf(a);-1!==b&&this.timeouts.splice(b,1);return clearTimeout(a)};wa.prototype.setInterval=function(){var a;a=1<=arguments.length?[].slice.call(arguments,0):[];a=setInterval.apply(null,a);this.intervals.push(a);return a};wa.prototype.clearInterval=function(a){var b;b=this.intervals.indexOf(a);-1!==b&&this.intervals.splice(b,1);return clearInterval(a)};wa.prototype.setImmediate=function(a){var b,c,d=this;b=1<arguments.length?[].slice.call(arguments,1):[];c=setTimeout(function(){a.apply(null,
b);d.clearImmediate(c)},0);this.immediates.push(c);return c};wa.prototype.clearImmediate=function(a){var b;b=this.immediates.indexOf(a);-1!==b&&this.immediates.splice(b,1);return clearTimeout(a)};wa.prototype.setTimer=function(a,b){var c;c=ia.create(a,b,this);this.timers.push(c);return c};wa.prototype.clearTimer=function(a){a=this.timers.indexOf(a);-1!==a&&(a=this.timers.splice(a,1),a.destroy())};wa.prototype.setGroup=function(a){a=wa.create(a);this.groups.push(a);return a};wa.prototype.clearGroup=
function(a){a=this.groups.indexOf(timer);-1!==a&&(a=this.groups.splice(a,1),a.destroy())};wa.prototype.destroy=function(){var a,b,c,d;d=this.intervals;b=0;for(c=d.length;b<c;b++)a=d[b],clearInterval(a);d=this.timeouts;b=0;for(c=d.length;b<c;b++)a=d[b],clearTimeout(a);d=this.immediates;b=0;for(c=d.length;b<c;b++)a=d[b],clearTimeout(a);d=this.timers;b=0;for(c=d.length;b<c;b++)a=d[b],a.destroy();d=this.groups;c=0;for(b=d.length;c<b;c++)a=d[c],a.destroy();this.groups=this.timers=this.immediates=this.timeouts=
this.intervals=this.id=null};var jb=function(a,b,c,d,e){this.startTime=a;this.endTime=null!=b?b:this.startTime;this.data=c;this.id=d;this.style=null!=e?e:{}};jb.prototype.id=null;jb.prototype.startTime=null;jb.prototype.endTime=null;jb.prototype.data=null;jb.prototype.style=null;jb.create=function(a,b,c,d,e){return new jb(a,b,c,d,e)};var kb=function(a,b,c,d,e){var f=this;kb.__super__.constructor.call(this,a,b,c,d,e);Object.defineProperties(this,{text:{get:function(){return f.data.text},enumerable:!0,
configurable:!1},html:{get:function(){return f.data.html},enumerable:!0,configurable:!1}})};h(kb,jb);kb.create=function(a,b,c,d,e){return new kb(a,b,c,d,e)};var Cd=function(){};Cd.prototype.parse=function(a,b){var c,d,e,p,h,l,k,m;null==b&&(b=Ca.create({kind:"captions",type:f.mimeTypes.srt}));a=a.replace(/\r/g,"");d=a.split("\n\n");k=0;for(m=d.length;k<m;k++){c=d[k];c=c.split("\n");try{l=c[1].match(/([0-9:\,]+)\s*--\x3e\s*([0-9:\,]+)/).slice(1),p=f.flattenTimecode(l[0]),e=f.flattenTimecode(l[1]),h=
c.slice(2)}catch(n){V.instance.warn("SRT Parsing Warning")}c="\x3cp\x3e"+h.join("\x3cbr /\x3e")+"\x3c/p\x3e";h=h.join("\n");c=new kb(p,e,{text:h,html:c});b.cues.push(c)}return b};var Zc=function(){};Zc.prototype.parseCaption=function(a,b,c){var d,e,p,h,l,k,m,n;null==b&&(b=0);null==c&&(c={});m=/([0-9:\.]+)\s*--\x3e\s*([0-9:\.]+)([^\n]*)/;a=a.trim().split("\n");try{m.test(a[0])||(b=a.shift()),n=a[0].match(m).slice(1),h=n[2],l=f.flattenTimecode(n[0]),e=f.flattenTimecode(n[1]),k=a.slice(1),c={},null!=
h&&h.replace(/\s*([A-Za-z]+)\s*:\s*([\w\-\%]+)/g,function(a,b,d){c[b]=d;return""}),p="\x3cp\x3e"+k.join("\x3cbr /\x3e")+"\x3c/p\x3e",k=k.join("\n"),d=new kb(l,e,{text:k,html:p},""+b,c),Object.assign(d,c)}catch(q){V.instance.error("WebVTT Parse Error")}return d};Zc.prototype.parse=function(a,b){var c,d,e,p,h;null==b&&(b=Ca.create({kind:"captions",type:f.mimeTypes.vtt}));a=a.replace(/\r/g,"");d=a.split("\n\n");e=0;/^WEBVTT/.test(d[0])&&d.shift();p=0;for(h=d.length;p<h;p++)c=d[p],""===c||/^NOTE/.test(c)||
/^STYLE/.test(c)||(c=this.parseCaption(c,++e),b.cues.push(c));return b};var va=function(){var a,b=this;this.captions=[];this.head=document.getElementsByTagName("head")[0];a=window.com||{};a.akamai=a.akamai||{};a.akamai.amp=a.akamai.amp||{};a.akamai.amp.plugins=a.akamai.amp.plugins||{};a.akamai.amp.plugins.subply=a.akamai.amp.plugins.subply||{};a.akamai.amp.plugins.subply.response=function(a){b.parse(a);b.poll()};null==window.com&&(window.com=a);va.__super__.constructor.call(this,this.constructor.NAME)};
h(va,puremvc.Proxy);va.NAME="LiveCaptionProxy";va.prototype.data={base:"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_",interval:1E3};va.prototype.caption=null;va.prototype.head=null;va.prototype.script=null;va.prototype.timeout=null;va.prototype.getURL=function(){return this.data.url};va.prototype.setURL=function(a){return this.data.url=a};va.prototype.start=function(){this.send()};va.prototype.poll=function(){var a=this;this.facade.player.timers.setTimeout(function(){a.send()},this.data.interval||
1E3)};va.prototype.send=function(){var a=this;null!=this.script&&this.head.removeChild(this.script);this.script=f.loadScript(this.data.base+this.data.url+".js?nocache\x3d"+Date.now()).then(function(b){return a.script=b})["catch"](function(b){return a.facade.logger.error("[AMP CAPTIONING ERROR]",b)})};va.prototype.stop=function(){clearTimeout(timeout)};va.prototype.parse=function(a){var b,c,d,e;if(a.Stream===this.data.url&&!(null!=this.caption&&this.caption.id>=a.Ticks)){this.caption=new kb(f.flattenTimecode(a.From),
f.flattenTimecode(a.To),a.Ticks);this.caption.text=a.Text;b="";e=a.Text.split("\n");c=0;for(d=e.length;c<d;c++)a=e[c],""!==b&&(b+="\x3cbr /\x3e"),b+="\x3cspan\x3e"+a+"\x3c/span\x3e";this.caption.html="\x3cp\x3e"+b+"\x3c/p\x3e";this.sendNotification(I.CUE_CHANGE,[this.caption]);return this.caption}};var w=function(){};w.create=function(a,b,c){var d,e,f;e=Date.now();"string"===typeof a?(d=document.getElementById(a),null==d&&(d=document.querySelector(a))):d=a;if(null==d)throw Error("[AMP ERROR] Invalid container. Could not find DOM element: "+
a);b=b instanceof Na?b:Na.create(b);AutoplayThreshold.init(b);V.instance=new V(b.debug);a=this.getVersion();null==d.dataset&&(d.dataset={});d.dataset["amp.version"]=a;V.instance.log("[AMP] "+a);f=this.createPlayer(b,d);f.initTime=f.performance.init=e;d.amp=f;f.request=this.request.bind(this);f.require=this.require.bind(this);f.loadResources=f.loadModuleResources.bind(f);f.once(Events.READY,function(a){f.once(Events.DESTROY,function(a){return dispatcher.dispatchEvent(a)});dispatcher.dispatch(Events.CREATE,
f);"function"===typeof c&&c(a)});f.initialize(b);return f};w.createPlayer=function(a,b){var c;c=this.players[a.mode];null!=c&&(c=new c(b));return c};w.getVersion=function(){return this.VERSION};w.VERSION="AMP v4.123.14";w.plugins=[];w.players={};w.getPlaybackMode=function(){return f.getPlaybackMode()};w.registerPlayer=function(a,b){this.players[a]=b};w.registerPlugin=function(a,b,c){var d,e,f;null==(d=this.plugins)[a]&&(d[a]={});"function"===typeof b&&(c=[c,b],b=c[0],c=
c[1]);"string"===typeof b&&(b=[b]);null==b&&(b=["html","flash"]);e=0;for(f=b.length;e<f;e++)d=b[e],this.plugins[a][d]=c};w.resourceManager=null;w.getResourceManager=function(){null==this.resourceManager&&(this.resourceManager=new Ka);return this.resourceManager};w.addResource=function(a){return this.getResourceManager().add(a)};w.addResources=function(a){return this.getResourceManager().addResources(a)};w.request=function(a){return f.request(a)};w.requestJson=function(a){return f.requestJson(a)};
w.require=function(a){return this.resourceManager.require(a)};w.getResource=function(a){return this.getResourceManager().item(a)};w.removeResource=function(a){return this.getResourceManager().remove(a)};w.evaluateBindings=function(a,b){return Ja.evaluateBindings(a,b)};w.getInstances=function(){return Object.assign([],instances)};dispatcher=new ra(w);f.override(w,dispatcher,!1);instances=[];Object.defineProperties(w,{instances:{get:w.getInstances,enumerable:!0,configurable:!1}});w.addEventListener(Events.CREATE,
function(a){var b;b=a.detail;instances.push(a.detail);null!=b.id&&(instances[b.id]=b)});w.addEventListener(Events.DESTROY,function(a){var b;b=a.detail;a=instances.indexOf(b);instances.splice(a,1);null!=b.id&&delete instances[b.id]});w.registerPlayer("html",t);w.registerPlayer("flash",n);w.registerPlayer("none",Ad);w.registerPlayer("external",H);var X=function(){X.__super__.constructor.call(this)};h(X,B);X.prototype.plugin=null;X.prototype.proxy=null;X.prototype.initializeNotifier=function(a){X.__super__.initializeNotifier.call(this,
a);this.proxy=this.facade.retrieveProxy(J.NAME);this.plugin=this.facade};var $c=function(){$c.__super__.constructor.call(this)};h($c,X);$c.prototype.execute=function(a){var b,c;b=a.getBody();a=a.getBody().track;this.proxy.setTracks(a);0===(null!=(c=this.proxy.getTracks())?c.length:void 0)?this.sendNotification(I.ENABLED,!1):(this.proxy.selectRenderer(b),this.sendNotification(I.ENABLED,!0))};var Xa=function(){Xa.__super__.constructor.call(this)};h(Xa,X);Xa.prototype.dispatchEvent=function(a,b){var c,
d;"string"!==typeof a&&(b=a.getBody(),null==b&&(b={}),a=a.getName());c="function"===typeof(d=this.plugin).getFeatureName?d.getFeatureName():void 0;null!=c&&"auth"!==c&&(a=a.replace(RegExp("^("+c+")"),""));c=this.plugin.getModuleName();a=a.replace(RegExp("^("+c+")"),"");c=new F(a,b);this.sendNotification(e.DISPATCH_EVENT,c);return c};Xa.prototype.dispatchEventAfterCommand=function(a,b){this.player.timers.setImmediate(this.dispatchEvent.bind(this,a,b))};Xa.prototype.execute=function(a){this.dispatchEvent(a)};
var kc=function(){kc.__super__.constructor.call(this)};h(kc,Xa);kc.prototype.execute=function(a){this.proxy.setEnabled(a.getBody());kc.__super__.execute.call(this,a)};var ub=function(a,b){this.cues=null!=b?b:[];ub.__super__.constructor.call(this,a)};h(ub,Ea);ub.prototype.cues=null;ub.prototype.getCueAt=function(a){var b,c,d,e;e=this.cues;c=0;for(d=e.length;c<d;c++)if(b=e[c],b.startTime<=a&&b.endTime>=a)return b};ub.create=function(a){return new ub(a)};var Ca=function(a,b){var c,d=this;Ca.__super__.constructor.call(this,
{kind:a.kind,label:a.label||this.srclang||this.kind,language:a.srclang});this.src=a.src;this.type=a.type;this.cues=a.cues||[];this.styles=a.styles||{};this.activeCues=[];this.isLive=/^live/.test(this.type);c=b;null==this.src||""===this.src||this.isLive||(c=function(){return f.request(d.src).then(function(a){try{CaptionParsers[d.type].parse(a.response,d)}catch(c){d.dispatch("error","Could not parse caption track: "+d.src);V.instance.error("Could not parse caption track: "+d.src);return}"function"===
typeof b&&b(d)})["catch"](function(a){d.dispatch("error","Could not load caption track: "+a+", "+d.src);V.instance.error("Could not load caption track: "+a+", "+d.src)})});null!=c&&Promise.resolve(this).then(c)};h(Ca,ub);Ca.prototype.src=null;Ca.prototype.activeCues=null;Ca.prototype.type=null;Ca.prototype.styles=null;Ca.prototype.isLive=!1;Ca.create=function(a,b){return new Ca(a,b)};var Zb=function(a,b){var c,d=this;c=w.getResourceManager();Zb.__super__.constructor.call(this,a,function(){var a,e,
f;a=document.createElement("a");a.href=d.src;e=a.protocol+"//"+a.hostname;f=e+a.pathname.split("/").slice(0,-1).join("/")+"/";d.cues.forEach(function(a){var b,d,g,h,k,m,n,q;h=a.text.split("#");b=h[0];h=h[1];/^(https?:)?\/\//.test(b)||(b=/^\//.test(b)?e+b:f+b);g=h.split("\x3d");h=g[0];m=g[1].split(",");k={background:"url("+b+") 0px 0px no-repeat"};d=n=0;for(q=h.length;n<q;d=++n)switch(g=h[d],d=m[d],g){case "w":k.width=d+"px";break;case "h":k.height=d+"px";break;case "x":k.background=k.background.replace(") 0px",
") -"+d+"px");break;case "y":k.background=k.background.replace("0px n","-"+d+"px n")}a.style=k;return c.add({src:b,type:"image"})});"function"===typeof b&&b(d)})};h(Zb,Ca);Zb.create=function(a){return new Promise(function(b,c){try{return new Zb(a,function(a){return b(a)})}catch(d){return c(d)}})};var lc=function(){lc.__super__.constructor.call(this)};h(lc,Xa);lc.prototype.execute=function(a){var b;b=!a.getBody();b!==this.proxy.getHidden()&&(this.proxy.setHidden(b),lc.__super__.execute.call(this,a))};
var ad=function(){ad.__super__.constructor.call(this)};h(ad,X);ad.prototype.execute=function(a){var b,c,d,e,f,h;e=a.getBody();b=this.proxy.getTrack();if(null!=b){a=b.activeCues;d=b.cues;b=!1;f=0;for(h=d.length;f<h;f++)c=d[f],null!=c&&(e>=c.startTime&&e<c.endTime?0<=wc.call(a,c)||(a.push(c),b=!0):(c=a.indexOf(c),-1!==c&&(a.splice(c,1),b=!0)));!0===b&&this.sendNotification(I.CUE_CHANGE,a)}};var bd=function(){bd.__super__.constructor.call(this)};h(bd,puremvc.SimpleCommand);bd.prototype.execute=function(a){var b,
c;a=this.facade.retrieveProxy(E.NAME);b=a.getTrack();null==b&&0<(null!=(c=a.getTracks())?c.length:void 0)&&(b=a.autoSelectTrack());!0===(null!=b?b.isLive:void 0)&&(this.facade.removeCommand(e.TIME_UPDATE),a=this.facade.retrieveProxy(va.NAME),null==a&&(a=new va,this.facade.registerProxy(a)),a.setURL(b.src),a.start())};var cd=function(){};cd.prototype.parse=function(a,b){var c,d;null==b&&(b=Ca.create({kind:"captions",type:f.mimeTypes.ttml}));"string"===typeof a&&(a=pa.parse(a));Array.prototype.slice.call(a.querySelectorAll("styling style")).forEach(function(a,
c,d){var e;e="";c=a.getAttribute("id")||a.getAttribute("xml:id");Array.prototype.slice.call(a.attributes).forEach(function(a,b,c){if("tts"===a.prefix)return e+=f.formatStyleName(a.localName)+":"+a.nodeValue+";"});b.styles[c]=e});Array.prototype.slice.call(a.querySelectorAll("body [style]")).forEach(function(a,c,d){c=a.getAttribute("style");a.setAttribute("style",b.styles[c])});d=a.querySelector("tt");d=d.getAttribute("lang")||d.getAttribute("xml:lang");if(void 0===b.language||null===b.language)b.language=
d;c=Array.prototype.slice.call(a.querySelectorAll("body p[begin]"));c.forEach(function(a,d,e){var h,k,m;e=a.getAttribute("begin");a.removeAttribute("begin");null!=a.getAttribute("end")?(k=a.getAttribute("end"),a.removeAttribute("end")):null!=c[d+1]&&(k=c[d+1].getAttribute("begin"));h=a.getAttributeNS("http://www.w3.org/ns/ttml#styling","textAlign");null!=h&&(m={align:"center"===h?"middle":h},a.removeAttributeNS("http://www.w3.org/ns/ttml#styling","textAlign"));h=pa.serialize(a);a=h=h.replace(/\s*xmlns="[^"]*"/,
"");h=h.replace(/^<p[^>]*>/,"");h=h.replace(/<\/p>$/,"");h=h.replace(/<br\/>/,"\n");h=h.replace(/<span style="([^"]*)"/,"\x3cc.$1");h=h.replace(/<\/span>/,"\x3c/c\x3e");d=new kb(f.flattenTimecode(e),f.flattenTimecode(k),{text:h,html:a},""+d,m);b.cues.push(d)});return b};var ea=function(a,b){this.player=a;this.config=b;ea.__super__.constructor.call(this);this.dispatcher=new ra(this);this.createDefaults()};h(ea,puremvc.Mediator);ea.NAME="PluginWrapper";ea.prototype.player=null;ea.prototype.config=null;
ea.prototype.dispatcher=null;ea.prototype.flashPlugins=null;ea.prototype.createFlashVars=null;ea.prototype.createXML=null;ea.prototype.createDefaults=function(){this.player.createDefaults.call(this)};ea.prototype.addEventListener=function(a,b){this.dispatcher.addEventListener(a,b)};ea.prototype.logEvent=function(a){};ea.prototype.dispatchEvent=function(a){"timeupdate"!==a.type&&"timeremaining"!==a.type&&this.player.logger.log("[AMP "+this.constructor.NAME.replace("Wrapper","").toUpperCase()+" EVENT] "+
a.type,a);a.player=this.player;this.dispatcher.dispatchEvent(a)};ea.prototype.removeEventListener=function(a,b){this.dispatcher.removeEventListener(a,b)};ea.prototype.createElement=function(a,b,c){var d;d=a.createElement("element");d.setAttribute("id",b);null==c&&(c=this.getControls(a).controls);null!=c&&c.appendChild(d);return d};ea.prototype.createProperty=function(a,b,c,d){var e;e=a.createElement("property");e.setAttribute("key",b);null!=d&&d.appendChild(e);if(null!=c)if("object"!==typeof c||c instanceof
Array)a=pa.createTextContent(a,c.toString()),e.appendChild(a);else for(b in c)d=c[b],this.createProperty(a,b,d,e);return e};ea.prototype.listNotificationInterests=function(){return["createFlashVars","createXML"]};ea.prototype.handleNotification=function(a){var b;b=a.getName();a=a.getBody();switch(b){case "createFlashVars":"function"===typeof this.createFlashVars&&this.createFlashVars(a.flashvars);break;case "createXML":"function"===typeof this.createXML&&this.createXML(a.xml)}};ea.prototype.destroy=
function(){};CaptionParsers={"application/ttml+xml":new cd,"application/x-subrip":new Cd,"text/vtt":new Zc,undefined:new cd};var I={VISIBILITY_CHANGE:"captioningvisibilitychange",ENABLED:"captioningenabled",TRACKS_LOADED:"captioningtracksloaded",TRACK_SELECTED:"captioningtrackselected",CUE_CHANGE:"captioningcuechange",SETTINGS_VISIBILITY_CHANGE:"captioningsettingsvisibility",TOGGLE_SETTINGS_VISIBILITY:"togglesettingsvisibility",SETTINGS_CHANGE:"captioningsettingschange"},E=function(a){this.activeCaptions=
[];this.providers={};this.tracks=[];this.rendererMap=[];this.track={};E.__super__.constructor.call(this,a)};h(E,da);E.NAME=J.NAME;E.TEXT_TRACK_RENDERER="caption-text";E.prototype.defaults={useNative:!1,crossorigin:null};E.prototype.enabled=!1;E.prototype.hidden=!0;E.prototype.tracks=null;E.prototype.track=null;E.prototype.activeCaptions=null;E.prototype.captions=null;E.prototype.loaded=!0;E.prototype.rendererMap=null;E.prototype.getUseNative=function(){return this.getValue("useNative")};E.prototype.getCrossOrigin=
function(){return this.getValue("crossorigin")};E.prototype.getTracks=function(){return this.tracks};E.prototype.setTracks=function(a){var b,c,d,e,f,h,l=this;this.tracks=[];this.track=null;a=this.facade.player.evaluateBindings(a);if(null!=a){b=a.length;d=0;e=function(){d++;d===b&&(l.sendNotification(I.TRACKS_LOADED,l.tracks),l.autoSelectTrack())};f=0;for(h=a.length;f<h;f++)c=a[f],"captions"===c.kind&&(c=Ca.create(c,e),c.addEventListener("error",function(a){l.facade.dispatch(Events.TRACK_ERROR,a.data)}),
this.tracks.push(c));return a}};E.prototype.registerRenderer=function(a){null!=a&&(a.proxy=this,this.rendererMap.push(a))};E.prototype.retrieveRenderer=function(a){var b,c,d,e;e=this.rendererMap;c=0;for(d=e.length;c<d;c++)if(b=e[c],b.getRendererName()===a)return b};E.prototype.removeRenderer=function(a){var b;b=this.retrieveRenderer(a);b.proxy=null;if(null==b)return null;a=this.rendererMap.indexOf(b);this.rendererMap.splice(a,1);return b};E.prototype.getRenderer=function(){return this.renderer};E.prototype.setRenderer=
function(a){if(a===this.renderer)return a;null!=this.renderer&&this.facade.removeMediator(E.TEXT_TRACK_RENDERER);this.renderer=a;null!=this.renderer&&this.facade.registerMediator(this.renderer);return a};E.prototype.selectRenderer=function(a){var b,c,d,e,f,h,l,k;b=null;d=a.track;if(null!=d){e=0;for(h=d.length;e<h;e++){c=d[e];k=this.rendererMap;f=0;for(l=k.length;f<l;f++)if(a=k[f],!0===a.canUseResource(c)){b=a;break}if(null!=b)break}this.setRenderer(b);return b}};E.prototype.getTrack=function(){return this.track};
E.prototype.setTrack=function(a){this.track=a;this.captions=this.track.cues;this.activeCaptions=[];this.sendNotification(e.CHANGE_SETTINGS,{captions:{track:this.track.flatten()}});this.sendNotification(I.TRACK_SELECTED,this.track);return a};E.prototype.selectTrackByIndex=function(a){var b;0<=a&&a<this.tracks.length&&(b=this.tracks[a],this.setTrack(b));return b};E.prototype.selectTrackByLanguage=function(a){var b,c,d,e,f;f=this.tracks;d=0;for(e=f.length;d<e;d++)if(b=f[d],b.language===a){c=b;break}null!=
c&&this.setTrack(c);return c};E.prototype.getHidden=function(){return this.hidden};E.prototype.setHidden=function(a){return this.hidden=a};E.prototype.getEnabled=function(){return this.enabled};E.prototype.setEnabled=function(a){return this.enabled=a};E.prototype.autoSelectTrack=function(){var a,b,c;a=null!=(c=this.facade.player.retrieveProxy(M.NAME))?c.getLanguage():void 0;null!=a&&(a=a.split("-").shift(),b=this.selectTrackByLanguage(a));null==b&&(b=this.tracks[0],this.setTrack(b));return b};var mc=
function(a,b,c,d){mc.__super__.constructor.call(this,a,b,c,d)};h(mc,Z);mc.prototype.initializeNotifier=function(a){mc.__super__.initializeNotifier.call(this,a);this.plugin=this.facade.retrieveProxy(J.NAME);this.media=this.facade.player.retrieveProxy(r.NAME)};var T=function(a){T.__super__.constructor.call(this,a)};h(T,sb);T.prototype.video=null;T.prototype.index=-1;T.prototype.plugin=null;T.prototype.parallelement=null;T.prototype.paralleltimer=null;T.prototype.paddingvalue=6;T.prototype.cueChangeListener=
null;T.prototype.lineheight=34;T.prototype.playerDefaultHeight=648;T.NAME=E.TEXT_TRACK_RENDERER;T.prototype.getRendererName=function(){return"native"};T.prototype.canUseResource=function(a){var b,c;if(null==a||null==document.createElement("video").textTracks)return!1;c=[f.mimeTypes.vtt,f.mimeTypes.cea608,f.mimeTypes.cea708];b=a.type;return b===c[1]||b===c[2]?!0:/iphone|ipad/.test(f.getDevice())||this.proxy.getUseNative()?-1!==c.indexOf(a.type):!1};T.prototype.onRegister=function(){this.plugin=this.facade.retrieveProxy(E.NAME);
this.cueChangeListener=this.cueChange.bind(this);0>f.getSafariVersion()&&this.facade.player.getMediaElement().textTracks.addEventListener("addtrack",this.updateTrack.bind(this));this.facade.player.getMediaElement().textTracks.addEventListener("cuechange",this.cueChangeListener);null==this.plugin||null==this.plugin.config||this.plugin.config.hasOwnProperty("useparallelrendering")||(this.plugin.config.useparallelrendering=!1)};T.prototype.onRemove=function(){null!=this.viewComponent&&null!=this.parallelelment&&
(this.viewComponent.removeChild(this.parallelement),this.facade.player.getMediaElement().textTracks.removeEventListener("addtrack",this.updateTrack),this.facade.player.getMediaElement().textTracks.removeEventListener("cuechange",this.cueChangeListener))};T.prototype.listNotificationInterests=function(){return[I.VISIBILITY_CHANGE,I.TRACK_SELECTED,I.TRACKS_LOADED,e.LOADED_METADATA,e.CAN_PLAY_THROUGH,q.BREAK_START]};T.prototype.handleNotification=function(a){var b,c,d,g,h;b=a.getBody();switch(a.getName()){case I.TRACKS_LOADED:this.tracks=
b;break;case I.TRACK_SELECTED:this.facade.player.getMediaElement().textTracks.length&&-1<this.index&&(c=this.facade.player.getMediaElement().textTracks[this.index]);null!=c&&(c.mode="hidden");this.index=this.plugin.getTracks().indexOf(b);this.lang=b.language;this.updateTrack();break;case I.VISIBILITY_CHANGE:case e.CAN_PLAY_THROUGH:this.updateTrack();break;case q.BREAK_START:this.clearCaption();break;case e.LOADED_METADATA:if(null==this.tracks)break;a=this.facade.player.getMediaElement();c=this.plugin.getCrossOrigin();
null!=c&&a.setAttribute("crossorigin",c);h=this.tracks;d=0;for(g=h.length;d<g;d++)c=h[d],c.type===f.mimeTypes.vtt&&(b=document.createElement("track"),b.src=c.src,null!=c.kind&&(b.kind=c.kind),null!=c.language&&(b.srclang=c.language),null!=c.label&&(b.label=c.label),b["default"]="default"in c,a.appendChild(b));this.tracks=null}};T.prototype.updateTrack=function(a){var b,c,d,e,h,k,l,m;b=this.plugin.config;k=this.facade.player.getMediaElement().textTracks;c=e=0;for(h=k.length;e<h;c=++e)if(d=k[c],/subtitles|captions/.test(d.kind)&&
(d.language===this.lang||!d.language.length)){if(null==d)return;this.index=c;1<this.getTracksByKind(d.kind).length&&(this.suppressDupeTracks(d.kind,[1]),1===c&&(d.mode=this.plugin.getHidden()?"hidden":"showing"));"subtitles"===d.kind?d.mode=-1<f.getEdgeVersion()?"disabled":"hidden":!1===b.useparallelrendering&&(d.mode=this.plugin.getHidden()?"hidden":"showing")}a&&"metadata"===(null!=(l=a.track)?l.kind:void 0)||(this.plugin.getHidden()?null!=this.plugin&&this.plugin.config.useparallelrendering?null!=
this.parallelement&&(this.parallelement.style.display="none"):this.clearCaption():null!=this.plugin&&this.plugin.config.useparallelrendering&&null!=this.parallelement&&(this.parallelement.style.display="inline"),null!=(m=this.plugin)&&m.config.useparallelrendering&&(b=null,this.parallelement||this.createParallelement(),a&&(b=a.track),b&&null!==b.language&&b.language!==this.lang||this.useParallelRendering(this.plugin.config.useparallelrendering,b)))};T.prototype.createParallelement=function(){if(!this.parallelement)return this.parallelement=
document.createElement("div"),this.parallelement.className="akamai-caption-container",this.viewComponent.appendChild(this.parallelement),this.parallelement};T.prototype.useParallelRendering=function(a,b){var c,d;null!=(c=this.plugin)&&(c.config.useparallelrendering=a);!b&&null!=(d=this.facade.player.getMediaElement().textTracks)&&d.length&&(b=this.facade.player.getMediaElement().textTracks[this.index]);if(b)if(!0===a){if(!1===b.hasCueChangeListener||"undefined"===typeof b.hasCueChangeListener)return b.hasCueChangeListener=
!0,b.addEventListener("cuechange",this.cueChangeListener)}else return b.hasCueChangeListener=!1,b.removeEventListener("cuechange",this.cueChangeListener)};T.prototype.cueChange=function(a){var b,c,d,e,f,h,l,k,m;c=this.proxy.track?this.proxy.track.kind===a.target.kind:!0;if(!this.plugin.getHidden()&&c){h=0;this.paralleltimer&&(clearTimeout(this.paralleltimer),this.paralleltimer=null);this.parallelement&&(this.parallelement.innerHTML="");c=[];for(f=0;f<a.target.activeCues.length;){if(/^{".*}$/.test(a.target.activeCues[f].text))return;
this.parallelement.style.display="inline";c[f]=document.createElement("div");c[f].className="akamai-caption-text";this.viewComponent.getElementsByClassName("akamai-caption-container")[0].appendChild(c[f]);b=document.createElement("p");c[f].appendChild(b);if(d=window.getComputedStyle(b).lineHeight.replace("px",""))this.lineheight=d;l=-1!==navigator.userAgent.indexOf("Firefox")?a.target.activeCues[f].position-50+"%":a.target.activeCues[f].position+"%";d=this.facade.player.getMediaElement().getBoundingClientRect().height;
e=100*(d/this.playerDefaultHeight);k=a.target.activeCues[f].snapToLines;k=null===k||!0!==a.target.activeCues[f].snapToLines&&"undefined"!==typeof k?10*(d/100)*a.target.activeCues[f].line:a.target.activeCues[f].line*(this.lineheight/100)*e;0<f&&k&&(e=this.viewComponent.getElementsByClassName("akamai-caption-container")[0].childNodes[0].offsetHeight-this.lineheight/100*e,k+=e*f);k+="px";c[f].style.left=l;c[f].style.top=k;c[f].style.textAlign="left";c[f].style.position="absolute";c[f].style.bottom="auto";
c[f].style.display="inline";c[f].style.padding=this.paddingvalue+"px";c[f].style.width="auto";c[f].style["min-height"]="0px";b.innerHTML=a.target.activeCues[f].text;b.style.margin="0px";b.style.display="block";b.style.lineHeight="normal";b=null;try{m=document.createElement("span"),m.style.fontSize=JSON.parse(localStorage.getItem("akamai-captioningDefault")).size,c[f].appendChild(m),b=window.getComputedStyle(m).fontSize.replace("px",""),m=null}catch(n){}b&&(h=Math.max(h,(Number(k.replace("px",""))||
0)+c[f].getBoundingClientRect().height));f===a.target.activeCues.length-1&&(b=a.target.activeCues[f].endTime?a.target.activeCues[f].endTime:0,l=a.target.activeCues[f].startTime?a.target.activeCues[f].startTime:0,b=1E3*(b-l),500<b&&(this.paralleltimer=this.facade.player.timers.setTimeout(this.clearCaption.bind(this),b)));f++}if(h>d)for(h-=d,f=0;f<c.length;)c[f].style.top=Number(c[f].style.top.replace("px",""))-h+"px",f++}};T.prototype.clearCaption=function(){this.paralleltimer&&(clearTimeout(this.paralleltimer),
this.paralleltimer=null);this.parallelement&&(this.parallelement.innerHTML="")};T.prototype.getTracksByKind=function(a){var b,c,d,e,f;d=this.facade.player.getMediaElement().textTracks;b=[];e=0;for(f=d.length;e<f;e++)c=d[e],c.kind===a&&"en"===c.language&&b.push(c);return b};T.prototype.suppressDupeTracks=function(a,b){var c,d,e,f,h;h=this.getTracksByKind(a);c=e=0;for(f=h.length;e<f;c=++e)d=h[c],d.kind!==a||"en"!==d.language||null!=b&&RegExp(c).test(b)||(d.mode="hidden");return 0<c};var Oa=function(a){Oa.__super__.constructor.call(this,
null,null,a,null)};h(Oa,mc);Oa.prototype.componentName=E.TEXT_TRACK_RENDERER;Oa.prototype.captionText=null;Oa.prototype.getRendererName=function(){return"html"};Oa.prototype.onRemove=function(){if(null!==this.viewComponent)for(;this.viewComponent.firstChild;)this.viewComponent.removeChild(this.viewComponent.firstChild)};Oa.prototype.canUseResource=function(a){return null==a?!1:-1!==[f.mimeTypes.srt,f.mimeTypes.ttml,f.mimeTypes.vtt].indexOf(a.type)};Oa.prototype.getCaptionDisplayHeight=function(){var a,
b,c;a=0;for(b=c=this.viewComponent.childNodes.length;b;){--b;if(3===c&&0===b)break;a+=f.getActualSize(this.viewComponent.childNodes[b]).height}return a+"px"};Oa.prototype.scrollCaptions=function(a,b,c){var d,e,f=this;null==a&&(a=this.viewComponent.scrollHeight);null==b&&(b=this.viewComponent.scrollTop);null==c&&(c=20);e=(a-b)/c;d=function(){var c;if(b<a)return f.viewComponent.scrollTop=b+=e,f.facade.player.timers.setTimeout(d,20);for(c=[];2<f.viewComponent.childNodes.length;)c.push(f.viewComponent.removeChild(f.viewComponent.firstChild));
return c};d()};Oa.prototype.listNotificationInterests=function(){return[I.CUE_CHANGE,e.CHANGE_MEDIA]};Oa.prototype.handleNotification=function(a){var b,c,d,g,f,h,l,k,m;b=a.getName();a=a.getBody();switch(b){case e.CHANGE_MEDIA:this.viewComponent.innerHTML="";break;case I.CUE_CHANGE:g=this.facade.player.settings.captions||{};b="";g.scroll=g.scroll.toLowerCase().replace("-","");f=0;for(l=a.length;f<l;f++){d=a[f];m=this.viewComponent.children;h=0;for(k=m.length;h<k;h++)c=m[h],RegExp(d.html).test(c.outerHTML);
b+=d.html}"painton"===g.scroll?this.classList.add("captioning-typed"):this.classList.remove("captioning-typed");switch(g.scroll){case "popout":this.viewComponent.innerHTML=b;break;case "rollon":case "painton":a=document.createElement("div");a.innerHTML=b;c=a.childNodes;d=a=0;for(b=c.length;a<b;d=++a)d=c[d],this.viewComponent.children.length&&RegExp(d.innerText).test(this.viewComponent.lastChild.innerText)||this.viewComponent.appendChild(d);this.viewComponent.style.maxHeight=this.getCaptionDisplayHeight();
this.scrollCaptions()}}};var vb=function(){vb.__super__.constructor.call(this)};h(vb,Ma);vb.prototype.initializeNotifier=function(a){vb.__super__.initializeNotifier.call(this,a);this.plugin=this.facade.retrieveProxy(J.NAME);this.media=this.facade.player.retrieveProxy(r.NAME)};vb.prototype.onRegister=function(){vb.__super__.onRegister.call(this);this.facade.viewComponent=this.viewComponent};var db=function(a){db.__super__.constructor.call(this,a)};h(db,vb);db.prototype.componentName="captioning";db.prototype.onRegister=
function(){db.__super__.onRegister.call(this);this.captioningStyle=this.create(null,document.getElementsByTagName("head")[0],"style");this.captioningStyle.type="text/css";this.applyStyles()};db.prototype.listNotificationInterests=function(){return[I.VISIBILITY_CHANGE,I.ENABLED,I.TRACK_SELECTED,e.SETTINGS_CHANGE]};db.prototype.onRemove=function(){var a;this.captioningStyle&&(a=document.getElementsByTagName("head")[0],a.removeChild(this.captioningStyle))};db.prototype.handleNotification=function(a){var b,
c,d;c=(b=a.getBody())?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE;switch(a.getName()){case I.TRACK_SELECTED:d="cc-embedded";c="embedded"===b.type?e.ADD_APPLICATION_STATE:e.REMOVE_APPLICATION_STATE;break;case I.VISIBILITY_CHANGE:d="cc-active";break;case I.ENABLED:c=b?e.ADD_CONTROL_STATE:e.REMOVE_CONTROL_STATE;d="cc-enabled";b||this.sendNotification(e.REMOVE_APPLICATION_STATE,"cc-active");break;case e.SETTINGS_CHANGE:null!=b.captions&&this.applyStyles()}null!=d&&this.sendNotification(c,d)};db.prototype.applyStyles=
function(){var a,b,c;a=this.facade.settings;null!=a.visible&&(this.facade.hidden=!a.visible);c=Ga.toCSS(a.styles.window,!0);b=Ga.toCSS(a.styles.text,!0);a="#"+this.facade.player.viewComponent.id;this.captioningStyle.innerHTML=""+a+" .akamai-caption-text {"+c+"}"+(""+a+" video::-webkit-media-text-track-display {"+c+"}")+(""+a+" .akamai-caption-text p {"+b+"}")+(""+a+" video::cue {"+b+"}")+(""+a+" video::-webkit-media-text-track-display span {"+b+"}")};var $=function(a,b){$.__super__.constructor.call(this,
a,b);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},hidden:{get:this.getHidden,set:this.setHidden,enumerable:!0,configurable:!1},visible:{get:this.getVisible,set:this.setVisible,enumerable:!0,configurable:!1},tracks:{get:this.getTracks,enumerable:!0,configurable:!1},track:{get:this.getTrack,set:this.setTrack,enumerable:!0,configurable:!1}})};h($,ea);$.NAME="CaptioningWrapper";$.prototype.flashPlugins=[{id:"AdobeCaptionPlugin",src:"#{paths.resources}plugins/AdobeCaptionPlugin.swf",
blocking:!1,host:"akamai",main:"AdobeCaptionPlugin",type:"application/x-shockwave-flash"},{id:"AMPCaptionPlugin",src:"#{paths.resources}plugins/AMPCaptionPlugin.swf",blocking:!1,host:"akamai",main:"AMPCaptionPlugin",type:"application/x-shockwave-flash"},{id:"CaptionSettingsPlugin",src:"#{paths.resources}plugins/CaptionSettingsPlugin.swf",blocking:!1,host:"akamai",main:"CaptionSettingsPlugin",type:"application/x-shockwave-flash"}];$.prototype.flashView={elements:{captionDisplay:{attributes:{defaultMessage:"Sorry! No captions available for this stream",
initState:"cookie",position:"relative",settingsEnabled:"true",style:"bottom: 0px; windowColor :0x000000; windowOpacity: 0; font: Monospaced Serif; fontColor: 0xffffff; fontOpacity: 1; fontBGColor: 0x000000; fontBGOpacity: 0; edgeType: none; edgeColor: 0x000000; edgeOpacity: 1; scroll: Pop-Out; fontSize: 12;"}},controls:{elements:{captionBtn:{}}}}};$.prototype._hidden=!0;$.prototype.createXML=function(a){var b,c,d,e;d=null!=(e=this.config.flash)?e.subply:void 0;if(null!=d)try{null!=d.timeMethod&&(c=
a.getElementsByTagName("player")[0],c.setAttribute("subply_time_method",d.timeMethod)),null!=d.plugin&&(b=a.firstChild,d=a.getElementsByTagName("subply")[0],null==d&&(d=a.createElement("subply"),b.appendChild(d)),this.createProperty(a,"SUBPLY_URL",this.config.flash.subply.plugin,d))}catch(f){this.facade.logger.error("[AMP CAPTIONING ERROR]",f)}};$.prototype.createFlashVars=function(a){var b,c,d,e,h,k;d=this.player.config;if(null!=(null!=(b=d.media)?b.track:void 0)){e=f.selectTrack(d.media.track,"captions");
null!=e.src&&""!==e.src&&(a.caption_url=e.src);if(0<d.media.track.length){c=[];b=[];k=d.media.track;d=0;for(h=k.length;d<h;d++)e=k[d],c.push(e.src),b.push(e.srclang);a.caption_url=c.join(",");a.caption_language=b.join(",")}a.caption_type=null!=e.type?encodeURIComponent(e.type):"application/ttml+xml"}null==a.caption_language&&(a.caption_language="en-us")};$.prototype.listNotificationInterests=function(){return $.__super__.listNotificationInterests.apply(this,arguments).concat([e.MEDIA_CHANGE,"mediaPlayerCaptioningRequest",
"mediaPlayerCaptionLangChange","mediaPlayerInitialized"])};$.prototype.handleNotification=function(a){var b,c,d;$.__super__.handleNotification.call(this,a);b=a.getName();a=a.getBody();switch(b){case "mediaPlayerCaptionLangChange":d="";break;case "mediaPlayerCaptioningRequest":d="visibilitychange";a=a.enabled;this.hidden=!a;break;case e.MEDIA_CHANGE:b=a;if(null!=b.track){this._tracks=b.track.map(function(a){return Object.assign({language:a.srclang},a)});c=f.selectTrack(this._tracks,"captions");if(null==
c)return;null!=c.src&&""!==c.src&&(b.captioningUrl=c.src);null!=c.type&&(b.captioningType=c.type||"application/ttml+xml");this._track=c}break;case "mediaPlayerInitialized":this.hidden=!this.player.getMediaElement().getPlayerProperty("isCaptionVisible")}null!=d&&""!==d&&this.dispatchEvent(new F(d,a))};$.prototype.getHidden=function(){return this._hidden};$.prototype.setHidden=function(a){this._hidden=a;this.facade.getMediaElement().setPlayerProperty("captionDisplay",{visible:!a});return a};$.prototype.getVisible=
function(){return!this._hidden};$.prototype.setVisible=function(a){this.setHidden(!a);return a};$.prototype.getTracks=function(){return this._tracks||[]};$.prototype.getTrack=function(){return this._track};$.prototype.selectTrackByIndex=function(a){};$.prototype.selectTrackByLanguage=function(a){this.facade.getMediaElement().setTrackByLanguage(a)};$.prototype.changeSettings=function(a){if(null!=(null!=a?a.fontFamily:void 0)&&"object"===typeof a.fontFamily)return this.facade.getMediaElement().setPlayerProperty("captionSettingsUI",
a);null!=(null!=a?a.visible:void 0)&&(this.hidden=!a.visible);this.facade.getMediaElement().setPlayerProperty("captionDisplay",{visible:!this.hidden,style:this.parseObject(a)})};$.prototype.parseObject=function(a){var b,c,d,e;b={};try{for(d in a)switch(d){case "fontFamily":b.font=a[d];break;case "fontColor":case "backgroundColor":case "edgeColor":case "windowColor":c="fontColor"===d?"font":"backgroundColor"===d?"fontBG":"edgeColor"===d?"edge":"window";-1!==(null!=(e=a[d])?e.indexOf("rgba"):void 0)&&
(b[c+"Color"]=this.parseRGBA(a[d]),b[c+"Opacity"]=a[d].replace(/^.*,(.+)\)/,"$1"));break;default:b[d]=a[d]}delete b.visible}catch(f){this.facade.logger.error("Captioning Settings Parse Error",f)}return b};$.prototype.parseRGBA=function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"0x"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""};w.registerPlugin("captioning",
"flash",$);var Pa=function(){Pa.__super__.constructor.call(this)};h(Pa,ya);Pa.NAME="Feature";Pa.prototype.featureName=null;Pa.prototype.getFeatureName=function(){return this.featureName};Pa.prototype.registerFeature=function(){null!=this.getFeatureName()&&this.player.sendNotification("registerfeature",this)};Pa.prototype.onRegister=function(){this.registerFeature();Pa.__super__.onRegister.call(this)};Pa.prototype.listNotificationPublications=function(){return Pa.__super__.listNotificationPublications.call(this).concat(["registerfeature"])};
var dd=function(){dd.__super__.constructor.call(this)};h(dd,X);dd.prototype.execute=function(a){this.proxy.contentStarted()};var ed=function(){ed.__super__.constructor.call(this)};h(ed,X);ed.prototype.execute=function(a){this.proxy.contentEnded()};var fd=function(){fd.__super__.constructor.call(this)};h(fd,X);fd.prototype.execute=function(a){!1!==this.proxy.getEnabled()&&(this.proxy.mediaChanging=!0,this.proxy.engage(a.getBody()))};var G=function(){G.__super__.constructor.call(this)};h(G,Xa);G.prototype.dispatchEvent=
function(a,b){var c;c=G.__super__.dispatchEvent.call(this,a,b);this.facade.player.sendNotification(e.DISPATCH_EVENT,new F("ad"+c.type,c.detail))};var nc=function(){nc.__super__.constructor.call(this)};h(nc,G);nc.prototype.execute=function(a){nc.__super__.execute.call(this,a);this.proxy.breakStart()};var oc=function(){oc.__super__.constructor.call(this)};h(oc,G);oc.prototype.execute=function(a){var b;oc.__super__.execute.call(this,a);this.proxy.breakEnd();"ima"===(null!=(b=a.getBody())?b.partner:void 0)&&
(a=this.applicationState.getPlaybackRate(),this.facade.player.setPlaybackRate(a));this.applicationState.getEnded()&&!0===this.applicationState.getHasPostContent()&&this.sendNotification(e.MEDIA_SEQUENCE_ENDED)};var gd=function(){gd.__super__.constructor.call(this)};h(gd,X);gd.prototype.execute=function(a){this.proxy.contentSeek(a.getBody())};var pc=function(){pc.__super__.constructor.call(this)};h(pc,G);pc.prototype.execute=function(a){this.proxy.container=a.getBody();pc.__super__.execute.call(this,
a)};var hd=function(){hd.__super__.constructor.call(this)};h(hd,X);hd.prototype.execute=function(a){"function"===typeof this.proxy.replay&&!1===this.facade.player.getAutoplay()&&this.proxy.replay()};var ha=function(a,b,c,d,e,f,h,l,k,m,n,q,r){this.id=a;this.title=b;this.duration=c;this.position=d;this.type=e;this.partner=f;this.advertiser=h;this.companions=l;this.request=k;this.metadata=m;this.totalAds=n;this.time=q;this.clickThrough=r};ha.prototype.id=null;ha.prototype.title=null;ha.prototype.duration=
NaN;ha.prototype.position=NaN;ha.prototype.totalAds=NaN;ha.prototype.type=null;ha.prototype.partner=null;ha.prototype.advertiser=null;ha.prototype.companions=null;ha.prototype.metadata=null;ha.prototype.request=null;ha.prototype.error=null;ha.prototype.time=null;ha.prototype.clickThrough=null;ha.create=function(a,b,c,d,e,f,h,l,k,m,n,q,r){return new ha(a,b,c,d,e,f,h,l,k,m,n,q,r)};var U={BREAK_START:"adComponentBreakInitiated",BREAK_END:"adComponentBreakComplete",BREAK_SKIPPED:"adComponentBreakSkipped",
AD_LOADED:"adComponentLoaded",AD_STARTED:"adComponentAdBegin",AD_TIME_UPDATE:"adComponentPlaybackProgress",AD_TIME_REMAINING:"adComponentTimeElapsed",AD_DURATION_CHANGE:"addurationchange",AD_ENDED:"adComponentImpressionEnd",COMPLETE:"adComponentAdComplete",AD_ERROR:"adComponentInitFailed",AD_PLAY:"adComponentPlaybackResumed",AD_PAUSE:"adComponentPlaybackPaused",AD_LOG:"adComponentLog",AD_COMPANION:"adComponentCompanion",AD_PLAYBACK_FAILED:"adComponentPlaybackFailed",AD_PLAYBACK_TERMINATED:"adComponentPlaybackTerminated",
AD_MEDIA_LOADED:"adComponentMediaLoaded",AD_CLICKED:"adComponentClicked",AD_FIRST_QUARTILE:"adComponentFirstQuartile",AD_MIDPOINT:"adComponentMidpoint",AD_THIRD_QUARTILE:"adComponentThirdQuartile",AD_REQUEST:"adComponentAdsRequest",AD_REQUEST_COMPLETE:"adComponentAdsRequestComplete",AD_SKIPPED:"adComponentAdSkipped",AD_IMPRESSION:"adComponentImpression"},Gb=function(a,b,c,d){var e;this.request=a;this.partner=b;this.config=c;if(null!=d)for(e in d)a=d[e],this[e]=a};Gb.create=function(a,b,c,d){return new Gb(a,
b,c,d)};Gb.prototype.request=null;Gb.prototype.partner=null;Gb.prototype.config=null;var K=function(a,b){K.__super__.constructor.call(this,a,b);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},inProgress:{get:this.getInProgress,enumerable:!0,configurable:!1},started:{get:this.getStarted,enumerable:!0,configurable:!1},paused:{get:this.getPaused,enumerable:!0,configurable:!1},companions:{get:this.getCompanions,enumerable:!0,configurable:!1},
currentAd:{get:this.getCurrentAd,enumerable:!0,configurable:!1}})};h(K,ea);K.NAME="AdWrapper";K.prototype.enabled=!0;K.prototype.paused=!1;K.prototype.started=!1;K.prototype.adVO=null;K.prototype.partner=null;K.prototype.getFeatureName=function(){return"ads"};K.prototype.getInProgress=function(){return this.player.mediaElement.getPlayerProperty("adInProgress")};K.prototype.getStarted=function(){return this.started};K.prototype.getPaused=function(){return this.paused};K.prototype.getCompanions=function(){var a;
return null!=(a=this.adVO)?a.companions:void 0};K.prototype.setEnabled=function(a){this.enabled=a;this.player.mediaElement.setPlayerProperty("adsEnabled",a);return a};K.prototype.getEnabled=function(){return this.enabled};K.prototype.getCurrentAd=function(){return this.adVO};K.prototype.enable=function(){this.setEnabled(!0)};K.prototype.disable=function(){this.setEnabled(!1)};K.prototype.createFlashVars=function(a){a.core_ads_enabled=!0;return a};K.prototype.listNotificationInterests=function(){var a,
b;return K.__super__.listNotificationInterests.call(this).concat(function(){var c;c=[];for(a in U)b=U[a],c.push(b);return c}())};K.prototype.handleNotification=function(a){var b,c,d,g,f,h,l;K.__super__.handleNotification.call(this,a);b=a.getName();a=a.getBody();this.adVO=this.createAdVO(a);g=this;switch(b){case U.BREAK_START:f=q.BREAK_START;this.facade.setPlayState("playing");0<(null!=(c=a.cuePoints)?c.length:void 0)&&(b=a.cuePoints.map(function(a){return{startTime:isNaN(a.sceneStartSeconds)?a.sceneEndSeconds:
a.sceneStartSeconds,endTime:a.sceneEndSeconds}}),this.facade.setCues(b));break;case U.BREAK_END:f=q.BREAK_END;break;case U.BREAK_SKIPPED:f=q.BREAK_SKIPPED;break;case U.AD_MEDIA_LOADED:f=q.AD_LOADED;this.start=!1;g.dispatchEvent(new F(q.AD_DURATION_CHANGE.replace(/^ads/,""),this.adVO));break;case U.AD_STARTED:f=q.AD_STARTED;this.started=!0;this.sendNotification(e.ADD_APPLICATION_STATE,"ad-mode");break;case U.AD_TIME_UPDATE:f=q.AD_TIME_UPDATE;b=a.duration-a.currentTime;g.dispatchEvent(new F(q.AD_TIME_REMAINING.replace(/^ads/,
""),b));a=a.currentTime;break;case U.AD_TIME_REMAINING:f=q.AD_TIME_REMAINING;a=a.timeElapsed;break;case U.AD_ERROR:case U.AD_PLAYBACK_FAILED:f=q.AD_ERROR;this.start=!1;this.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-mode");break;case U.COMPLETE:f=q.COMPLETE;break;case U.AD_ENDED:case U.AD_PLAYBACK_TERMINATED:f=q.AD_ENDED;this.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-mode");break;case U.AD_CLICKED:f=q.AD_CLICKED;break;case U.AD_COMPANION:f=q.AD_COMPANION;null!=this.adVO&&null!=a&&(this.adVO.companions=
a);break;case U.AD_PAUSE:f=q.AD_PAUSE;g=this.player;this.paused=!0;this.player.setPlayState("paused");break;case U.AD_PLAY:f=q.AD_PLAY;this.paused=!1;this.player.setPlayState("playing");break;case U.AD_LOG:f=q.AD_LOG;break;case U.AD_FIRST_QUARTILE:f=q.FIRST_QUARTILE;break;case U.AD_MIDPOINT:f=q.MIDPOINT;break;case U.AD_THIRD_QUARTILE:f=q.THIRD_QUARTILE;break;case U.AD_REQUEST:f=q.REQUEST;break;case U.AD_REQUEST_COMPLETE:f=q.REQUEST_COMPLETE;c=[];b=a.cuePoints||[];h=0;for(l=b.length;h<l;h++)d=b[h],
c.push(new ha(d.sceneId,d.sceneTitle,d.sceneDuration,d.scenePodIndex,d.scenePodPosition,this.partner,null,null,null,{},d.sceneSubCount,d.sceneEndSeconds));this.adVO={pods:c};b=new F("response",this.adVO);b.player=this.player;g.dispatchEvent(b);break;case U.AD_SKIPPED:f=q.SKIPPED;break;case U.AD_IMPRESSION:f=q.IMPRESSION}null!=f&&(this.sendNotification(f,this.adVO),b=f===q.AD_TIME_REMAINING||f===q.AD_TIME_UPDATE?new F(f.replace(/^ads/,""),a):new F(f.replace(/^ads/,""),this.adVO),b.player=this.player,
g.dispatchEvent(b))};K.prototype.createAdVO=function(a){return null==a?null:new ha(a.id,a.title,a.duration,a.adIndex,a.podPosition,a.adPlatform,null,null,a.requestURL,a.metadata,a.totalAds,a.currentTime)};K.prototype.setPodLocks=function(a){var b,c,d,e;c=[];d=0;for(e=a.length;d<e;d++)b=a[d],c.push({sceneId:b.id,sceneLocked:b.locked,sceneTitle:b.title,sceneStartSeconds:b.time,sceneEndSeconds:b.duration+b.time,scenePodIndex:b.position,scenePodPosition:b.type});this.player.mediaElement.setAdPodLocks(c)};
K.prototype.terminateAd=function(){this.player.mediaElement.terminateAd()};K.prototype.terminateAllAds=function(){this.player.mediaElement.terminateAllAds()};K.prototype.requestAd=function(){this.player.mediaElement.triggerAd()};var qc=function(){qc.__super__.constructor.call(this)};h(qc,G);qc.prototype.execute=function(a){this.sendNotification(e.UPDATE_DATA_BINDINGS,{contexts:[this.proxy.getContextName()]});qc.__super__.execute.call(this,a)};var rc=function(){rc.__super__.constructor.call(this)};
h(rc,X);rc.prototype.execute=function(a){!0!==this.applicationState.getLocked()&&(this.sendNotification(e.PLAY_REQUEST),!1===this.proxy.getStarted()?this.sendNotification(e.START,!0):(this.proxy.play(),this.facade.player.sendNotification(e.CHANGE_PLAY_STATE,aa.PLAYING)))};var sc=function(){sc.__super__.constructor.call(this)};h(sc,X);sc.prototype.execute=function(a){var b,c,d=this;b=this.proxy.adVO.time;a=this.proxy.adVO.duration;"undefined"!==b&&b&&b!==a?(this.proxy.pause(),this.player.sendNotification(e.CHANGE_PLAY_STATE,
aa.PAUSED)):(c={transform:function(a){if(a===e.PLAYING)return d.player.timers.setTimeout(function(){d.player.removeTransform(za.PLAY_STATE,c);return d.player.sendNotification(e.PAUSE)},300),a},priority:2},this.player.addTransform(za.PLAY_STATE,c))};var id=function(){id.__super__.constructor.call(this)};h(id,G);id.prototype.execute=function(a){a=this.proxy.getPaused()||!1===this.proxy.getStarted()?e.PLAY:e.PAUSE;this.sendNotification(a,!0)};var tc=function(){tc.__super__.constructor.call(this)};h(tc,
G);tc.prototype.execute=function(a){this.proxy.setVolume(a.getBody());tc.__super__.execute.call(this,a)};var jd=function(){jd.__super__.constructor.call(this)};h(jd,G);jd.prototype.execute=function(a){"playing"===a.getBody().value&&this.dispatchEvent("playing",this.proxy.adVO)};var uc=function(){uc.__super__.constructor.call(this)};h(uc,G);uc.prototype.execute=function(a){this.sendNotification(e.PLAY_REQUEST);!1===this.playback.initialized&&this.player.sendNotification(e.INITIALIZED);this.proxy.start();
uc.__super__.execute.call(this,a)};var z=function(a){z.__super__.constructor.call(this,a);this.pods=[];this.processAdBreak=this.processAdBreak.bind(this);this.processAdRequest=this.processAdRequest.bind(this)};h(z,da);z.NAME=da.NAME;z.prototype.inProgress=!1;z.prototype.paused=!1;z.prototype.started=!1;z.prototype.adVO=null;z.prototype.contextName="ad";z.prototype.container=null;z.prototype.partner=null;z.prototype.pods=null;z.prototype.mediaChanging=!1;z.prototype.createDefaultAdVO=function(){return new ha(null,
null,null,null,null,this.partner,null,null,null,null,null)};z.prototype.getContainer=function(){return this.facade.player.adContainer||this.facade.player.container};z.prototype.getContextData=function(){return this.adVO||{}};z.prototype.setCompanions=function(a){this.adVO.companions=a;this.sendNotification(q.AD_COMPANION,this.adVO);return a};z.prototype.getCompanions=function(){var a;return null!=(a=this.adVO)?a.companions:void 0};z.prototype.getInProgress=function(){return this.inProgress};z.prototype.setInProgress=
function(a){return this.inProgress=a};z.prototype.getStarted=function(){return this.started};z.prototype.setStarted=function(a){return this.started=a};z.prototype.getPaused=function(){return this.paused};z.prototype.setPaused=function(a){return this.paused=a};z.prototype.setCues=function(a){var b,c,d,e;c=[];d=0;for(e=a.length;d<e;d++)b=a[d],c.push({startTime:b,endTime:b});this.facade.player.mediaProxy.setCues(c);return a};z.prototype.play=function(){this.setPaused(!1);this.sendNotification(q.AD_PLAY,
this.adVO)};z.prototype.pause=function(){this.setPaused(!0);this.sendNotification(q.AD_PAUSE,this.adVO)};z.prototype.breakStart=function(){this.setInProgress(!0)};z.prototype.breakEnd=function(){this.setInProgress(!1);this.reset()};z.prototype.error=function(a,b){var c;null==b&&(b=!0);c=("function"===typeof a.getMessage?a.getMessage():void 0)||a.message;this.facade.logger.error("[AMP AD ERROR]",""+c+" Skipping ad content.",a);null==this.adVO&&(this.adVO={});this.adVO.error=a;this.sendNotification(q.AD_ERROR,
this.adVO);!0===b&&this.endBreak()};z.prototype.engage=function(a){!1!==this.getEnabled()&&(this.setStarted(!1),this.getInProgress()&&(this.reset(),this.facade.player.sendNotification(e.REMOVE_APPLICATION_STATE,"ad-mode")),this.engageAds())};z.prototype.engageAds=function(){this.facade.player.removeCommand(e.START);this.facade.player.removeCommand(e.PLAY);this.facade.player.removeCommand(e.PAUSE);this.facade.player.removeCommand(e.ENDED);this.facade.player.removeCommand(fa.PLAY);this.facade.player.removeCommand(fa.PAUSE);
this.facade.player.removeCommand(fa.TOGGLE_PLAY_PAUSE);this.facade.isFullscreenDevice()&&this.facade.player.removeCommand(e.CHANGE_DURATION);this.facade.removeCommand(e.STARTED);this.facade.removeCommand(e.ENDED);this.facade.registerCommand(e.START,uc);this.facade.registerCommand(e.PLAY,rc);this.facade.registerCommand(e.PAUSE,sc);this.facade.registerCommand(fa.PLAY,rc);this.facade.registerCommand(fa.PAUSE,sc);this.facade.registerCommand(fa.TOGGLE_PLAY_PAUSE,id);this.facade.registerCommand(e.VOLUME_CHANGE,
tc);this.facade.registerCommand(e.PLAY_STATE_CHANGE,jd)};z.prototype.reset=function(){this.facade.removeCommand(e.START);this.facade.removeCommand(e.PLAY);this.facade.removeCommand(e.PAUSE);this.facade.removeCommand(fa.PLAY);this.facade.removeCommand(fa.PAUSE);this.facade.removeCommand(fa.TOGGLE_PLAY_PAUSE);this.facade.removeCommand(e.VOLUME_CHANGE);this.facade.removeCommand(e.PLAY_STATE_CHANGE);this.facade.player.registerCommand(e.START,Sb);this.facade.player.registerCommand(e.PLAY,tb);this.facade.player.registerCommand(e.PAUSE,
rb);this.facade.player.registerCommand(e.ENDED,yb);this.facade.player.registerCommand(fa.PLAY,tb);this.facade.player.registerCommand(fa.PAUSE,rb);this.facade.player.registerCommand(fa.TOGGLE_PLAY_PAUSE,Nb);this.facade.isFullscreenDevice()&&this.facade.player.registerCommand(e.CHANGE_DURATION,ec);this.facade.registerCommand(e.STARTED,dd);this.facade.registerCommand(e.ENDED,ed)};z.prototype.processAdBreak=function(a){var b=this;return this.facade.player.transform(za.AD_BREAK,a).then(function(a){return b.facade.transform(za.AD_BREAK,
a)})};z.prototype.processAdRequest=function(a){var b=this;return this.facade.player.transform(za.AD_REQUEST,a).then(function(a){return b.facade.transform(za.AD_REQUEST,a)})};z.prototype.requestAd=function(){this.sendNotification(q.REQUEST,this.adVO)};z.prototype.getPodById=function(a){var b,c,d,e;e=this.pods;c=0;for(d=e.length;c<d;c++)if(b=e[c],b.id===a)return b};z.prototype.setPodLocks=function(a){var b,c,d,e;c=0;for(d=a.length;c<d;c++)b=a[c],null!=(e=this.getPodById(b.id))&&(e.locked=b.locked)};
z.prototype.resize=function(a){};z.prototype.startBreak=function(a){null!=a&&(this.adVO=a);this.setStarted(!0);this.sendNotification(q.BREAK_START,this.adVO);return!1===this.getEnabled()?(this.endBreak(),!1):!0};z.prototype.endBreak=function(){this.sendNotification(q.BREAK_END,this.adVO)};z.prototype.start=function(){this.mediaChanging=!1;this.startBreak()};z.prototype.contentPlay=function(){this.facade.player.sendNotification(e.PLAY,!0)};z.prototype.contentPause=function(){var a;a=this.facade.player.mediaElement;
if(!0===a.seeking)a.once("seeked",function(){a.pause()});else a.pause()};z.prototype.contentStarted=function(){};z.prototype.contentSeek=function(a){};z.prototype.contentEnded=function(){};z.prototype.setVolume=function(a){};z.prototype.getVolume=function(){};z.prototype.terminateAd=function(){};z.prototype.terminateAllAds=function(){};var N=function(){N.__super__.constructor.call(this);Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},hidden:{get:this.getHidden,
set:this.setHidden,enumerable:!0,configurable:!1},visible:{get:this.getVisible,set:this.setVisible,enumerable:!0,configurable:!1},tracks:{get:this.getTracks,enumerable:!0,configurable:!1},track:{get:this.getTrack,set:this.setTrack,enumerable:!0,configurable:!1},settings:{get:this.getSettings,enumerable:!0,configurable:!1}})};h(N,Pa);N.prototype.featureName="captioning";N.prototype.moduleName="captioning";N.prototype.mediatorname="";N.prototype.createController=function(){N.__super__.createController.call(this);
this.registerCommand(e.CHANGE_MEDIA,$c);this.registerCommand(e.STARTED,bd);this.registerCommand(e.TIME_UPDATE,ad);this.registerCommand(I.VISIBILITY_CHANGE,lc);this.registerCommand(I.ENABLED,kc);this.registerCommand(I.TRACK_SELECTED,Xa);this.registerCommand(I.TRACKS_LOADED,Xa);this.registerCommand(I.CUE_CHANGE,Xa)};N.prototype.createModel=function(){this.proxy=new E(this.config);this.registerProxy(this.proxy)};N.prototype.createView=function(){var a;a=new db;this.registerMediator(a);this.mediatorname=
a.getMediatorName();a=a.viewComponent;this.proxy.registerRenderer(new T(a));this.proxy.registerRenderer(new Oa(a))};N.prototype.destroy=function(){for(var a,b;1<=this.proxy.rendererMap.length;)b=this.proxy.rendererMap[0],a=b.getMediatorName(),this.removeMediator(a),this.proxy.removeRenderer(b.getRendererName());this.removeMediator(this.mediatorname)};N.prototype.listNotificationInterests=function(){return[e.LOADED_METADATA,e.CAN_PLAY_THROUGH,e.CHANGE_MEDIA,e.STARTED,e.TIME_UPDATE,e.SETTINGS_CHANGE,
I.TRACK_SELECTED]};N.prototype.listNotificationPublications=function(){return N.__super__.listNotificationPublications.call(this).concat([I.CUE_CHANGE,e.ADD_CONTROL_STATE,e.REMOVE_CONTROL_STATE,e.CHANGE_SETTINGS,I.VISIBILITY_CHANGE,I.SETTINGS_CHANGE])};N.prototype.getEnabled=function(){return this.proxy.getEnabled()};N.prototype.setEnabled=function(a){this.sendNotification(I.ENABLED,a);return a};N.prototype.getHidden=function(){return this.proxy.getHidden()};N.prototype.setHidden=function(a){this.setVisible(!a);
return a};N.prototype.getVisible=function(){return!this.proxy.getHidden()};N.prototype.setVisible=function(a){this.sendNotification(e.CHANGE_SETTINGS,{captions:{visible:a}});this.sendNotification(I.VISIBILITY_CHANGE,a);return a};N.prototype.getTracks=function(){return this.proxy.getTracks()};N.prototype.getTrack=function(){return this.proxy.getTrack()};N.prototype.setTrack=function(a){this.proxy.setTrack(a);return a};N.prototype.selectTrackByIndex=function(a){return this.proxy.selectTrackByIndex(a)};
N.prototype.selectTrackByLanguage=function(a){return this.proxy.selectTrackByLanguage(a)};N.prototype.changeSettings=function(a){this.sendNotification(e.CHANGE_SETTINGS,{captions:a});this.sendNotification(I.SETTINGS_CHANGE,a);return a};N.prototype.getSettings=function(){return this.player.settings.captions};N.prototype.useParallelRendering=function(a){var b;(b=this.proxy.getRenderer())&&b.useParallelRendering(a);return a};w.registerPlugin("captioning","html",N);var R=function(){R.__super__.constructor.call(this);
Object.defineProperties(this,{enabled:{get:this.getEnabled,set:this.setEnabled,enumerable:!0,configurable:!1},inProgress:{get:this.getInProgress,enumerable:!0,configurable:!1},started:{get:this.getStarted,enumerable:!0,configurable:!1},paused:{get:this.getPaused,enumerable:!0,configurable:!1},companions:{get:this.getCompanions,enumerable:!0,configurable:!1},currentAd:{get:this.getCurrentAd,enumerable:!0,configurable:!1}})};h(R,Pa);R.NAME="AdPlugin";R.prototype.container=null;R.prototype.featureName=
"ads";R.prototype.createModel=function(){this.proxy=this.isFullscreenDevice()?this.createFullscreenProxy():this.createProxy();this.registerProxy(this.proxy)};R.prototype.createController=function(){R.__super__.createController.call(this);this.registerCommand(e.MEDIA_CHANGE,fd);this.registerCommand(q.BREAK_START,nc);this.registerCommand(q.AD_LOADED,qc);this.registerCommand(q.BREAK_END,oc);this.registerCommand(fa.SEEKED,gd);this.registerCommand(q.AD_CONTAINER_CREATED,pc);this.registerCommand(e.REPLAY,
hd);this.registerCommand(q.AD_STARTED,G);this.registerCommand(q.SKIPPED,G);this.registerCommand(q.AD_MANAGER_LOADED,G);this.registerCommand(q.AD_TIME_UPDATE,G);this.registerCommand(q.AD_TIME_REMAINING,G);this.registerCommand(q.AD_DURATION_CHANGE,G);this.registerCommand(q.AD_ENDED,G);this.registerCommand(q.AD_ERROR,G);this.registerCommand(q.AD_COMPANION,G);this.registerCommand(q.FIRST_QUARTILE,G);this.registerCommand(q.MIDPOINT,G);this.registerCommand(q.THIRD_QUARTILE,G);this.registerCommand(q.COMPLETE,
G);this.registerCommand(q.CONCRETE,G);this.registerCommand(q.LOG,G);this.registerCommand(q.REQUEST,G);this.registerCommand(q.AD_RESUME,G);this.registerCommand(q.AD_PLAY,G);this.registerCommand(q.AD_PAUSE,G);this.registerCommand(q.AD_PAUSED,G);this.registerCommand(q.IMPRESSION,G);this.registerCommand(q.AD_CLICKED,G);this.registerCommand(q.REQUEST_COMPLETE,G);this.registerCommand(q.RESPONSE,G);this.registerCommand(q.BREAK_SKIPPED,G)};R.prototype.isFullscreenDevice=function(){return f.isFullscreenDevice()};
R.prototype.createProxy=function(){};R.prototype.createFullscreenProxy=function(){};R.prototype.listNotificationInterests=function(){return[e.MEDIA_CHANGE,e.REPLAY,e.PLAY,e.PAUSE,e.PAUSED,e.START,e.STARTED,e.ENDED,e.READY,e.VOLUME_CHANGE,e.FULL_SCREEN_CHANGE,e.CHANGE_ACTIVE_STATE,e.PLAY_STATE_CHANGE,fa.PLAY,fa.PAUSE,fa.SEEKED,fa.TOGGLE_PLAY_PAUSE]};R.prototype.listNotificationPublications=function(){var a,b;return R.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in q)b=
q[a],c.push(b);return c}()).concat([e.PLAY_REQUEST,e.UPDATE_DATA_BINDINGS,e.DISPLAY_TIME,e.DISABLE_FULL_SCREEN,e.ENABLE_VIDEO_EVENTS,e.DISABLE_VIDEO_EVENTS,e.HAS_POST_CONTENT,e.MEDIA_SEQUENCE_ENDED,e.CHANGE_PLAY_STATE,e.AUTOPLAY_BLOCKED])};R.prototype.setEnabled=function(a){this.proxy.setEnabled(a)};R.prototype.getEnabled=function(){return this.proxy.getEnabled()};R.prototype.getInProgress=function(){return this.proxy.getInProgress()};R.prototype.getStarted=function(){return this.proxy.getStarted()};
R.prototype.getPaused=function(){return this.proxy.getPaused()};R.prototype.getCompanions=function(){return this.proxy.getCompanions()};R.prototype.getCurrentAd=function(){return this.proxy.adVO};R.prototype.setPodLocks=function(a){this.proxy.setPodLocks(a)};R.prototype.resize=function(a){this.proxy.resize(a)};R.prototype.terminateAd=function(){this.proxy.terminateAd()};R.prototype.terminateAllAds=function(){this.proxy.terminateAllAds()};R.prototype.requestAd=function(){this.proxy.start(!1)};var vc=
function(a,b){vc.__super__.constructor.call(this,a,b);f.flashTypes.push(f.mimeTypes.m3u8)};h(vc,ea);vc.NAME="HLSWrapper";vc.prototype.flashPlugins=[{id:"flashlsOSMF",src:"#{paths.resources}plugins/flashlsOSMF.swf",host:"osmf",type:"application/x-shockwave-flash"}];w.registerPlugin("hls","flash",vc);var v=function(a,b){this.plugin=b;v.__super__.constructor.call(this,a.types,a);this.temporalTypes=["vod","live","dvr"]};h(v,ba);v.prototype.playbackCoreName="hls";v.prototype.player=null;v.prototype.hlsConfig=
null;v.prototype.fragErrorTime=0;v.prototype.timedMedatadata=null;v.prototype.currentMedatadata=null;v.prototype.id3Track=null;v.prototype.manifestParsed=!1;v.prototype.details=null;v.prototype.quality=-1;v.prototype.qualityMode="auto";v.prototype.userSwitched=!1;v.prototype.canPlayMedium=function(a){return v.__super__.canPlayMedium.call(this,a)||"audio"===a};v.prototype.getUseMAE=function(){return v.__super__.getUseMAE.call(this)&&"undefined"!==typeof MediaAccelerationHlsJsWrapper&&null!==MediaAccelerationHlsJsWrapper};
v.prototype.getConfig=function(){var a;a=f.clone(this.config.data);!0===this.facade.configuration.getValueOf("withCredentials",this.config)&&(a.xhrSetup=function(a,c){a.withCredentials=!0});a.debug=this.plugin.proxy.getDebug();this.getUseMAE()||(a.enableSoftwareAES=null!=a.enableSoftwareAES?a.enableSoftwareAES:!0);return a};v.prototype.load=function(){var a,b,c,d,g,f=this;null!=this.player&&this.destroy();this.userSwitched=this.manifestParsed=!1;this.quality=-1;a=this.getConfig();this.getUseMAE()?
(this.facade.mae=new MediaAccelerationHlsJsWrapper(this.config.mae,a),a=this.facade.mae.getPlayer()):a=new Hls(a);a.attachMedia(this.getMediaElement());a.on(Hls.Events.MANIFEST_PARSED,this.onManifestParsed.bind(this));a.on(Hls.Events.ERROR,this.onError.bind(this));a.on(Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this));a.on(Hls.Events.LEVEL_SWITCHING,this.onLevelSwitching.bind(this));a.on(Hls.Events.LEVEL_SWITCHED,this.onLevelSwitched.bind(this));a.on(Hls.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitch.bind(this));
a.on(Hls.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitch.bind(this));a.on(Hls.Events.FRAG_LOADING,this.onFragmentLoadStart.bind(this));a.on(Hls.Events.FRAG_LOADED,this.onFragmentLoaded.bind(this));a.on(Hls.Events.FRAG_CHANGED,this.onFragmentChanged.bind(this));d=Hls.Events;for(b in d)c=d[b],a.on(c,function(a,b){f.plugin.sendNotification(e.DISPATCH_EVENT,new F(a,b))});try{for(b in g=this.config.quality,g)c=g[b],a[b]=c}catch(h){}this.player=a;this.details=null;v.__super__.load.call(this)};v.prototype.applySrc=
function(){this.currentMedatadata=null;this.player.loadSource(this.getSrc());this.getMediaElement().load()};v.prototype.onManifestParsed=function(a,b){this.manifestParsed=!0;this.sendNotification(e.QUALITY_LEVELS_LOADED,b.levels);this.player.loadLevel=-1};v.prototype.onLevelLoaded=function(a,b){this.player.levels[b.level].level=b.level;this.sendNotification(e.QUALITY_CHANGE,this.player.levels[b.level]);this.details=b.details;this.details.totalduration!==this.data.duration&&(this.data.duration=this.details.totalduration,
this.sendNotification(e.CHANGE_DURATION,this.data.duration));!0===b.details.live&&"dvr"!==this.facade.mediaProxy.getTemporalType()&&this.facade.mediaProxy.setTemporalType("live")};v.prototype.onLevelSwitching=function(a,b){"manual"===this.getQualityMode()&&(this.userSwitched=!0);this.sendNotification(e.QUALITY_CHANGING,this.player.levels[b.level])};v.prototype.onLevelSwitched=function(a,b){this.sendNotification(e.QUALITY_SWITCHED,this.player.levels[b.level])};v.prototype.onAudioTrackSwitch=function(a,
b){this.sendNotification(e.AUDIO_TRACK_SWITCH,{switched:a===Hls.Events.AUDIO_TRACK_SWITCHED})};v.prototype.onseeking=function(a){"manual"===this.getQualityMode()&&this.userSwitched||v.__super__.onseeking.call(this,a)};v.prototype.onseeked=function(a){"manual"===this.getQualityMode()&&this.userSwitched?this.userSwitched=!1:v.__super__.onseeked.call(this,a)};v.prototype.onFragmentLoadStart=function(a,b){var c;try{c=this.player.levels[b.frag.level].bitrate}catch(d){return}this.sendNotification(e.FRAGMENT_LOAD_START,
c)};v.prototype.onFragmentLoaded=function(a,b){var c;try{c=this.player.levels[b.frag.level].bitrate}catch(d){return}this.sendNotification(e.FRAGMENT_LOADED,c)};v.prototype.onFragmentChanged=function(a,b){this.fragment=b.frag};v.prototype.ontimeupdate=function(a){var b;!0!==(null!=(b=this.facade.ads)?b.inProgress:void 0)&&(this.data.currentTime=this.getCurrentTime(),this.sendNotification(e.TIME_CHANGE,{currentTime:this.data.currentTime}))};v.prototype.ondurationchange=function(a){a=this.getDetails().totalduration;
a===this.data.duration||0===a||isNaN(a)||(this.data.duration=a,this.sendNotification(e.CHANGE_DURATION,a))};v.prototype.oncanplaythrough=function(a){this.createTracks();this.sendNotification(e.CAN_PLAY_THROUGH);this.sendNotification(e.PROGRESS,this.getDuration());"manual"===this.qualityMode&&this.player.currentLevel!==this.quality&&this.setQuality(this.quality)};v.prototype.getStartTime=function(){return this.getMediaElement().duration-this.getDuration()};v.prototype.getCurrentTime=function(){return this.getMediaElement().currentTime-
this.getStartTime()};v.prototype.getDetails=function(){return this.details||{}};v.prototype.getFragmentDuration=function(){return this.getDetails().targetduration};v.prototype.getCurrentTimeUTC=function(){var a,b;try{a=1E3*(this.getMediaElement().currentTime-this.fragment.start),b=this.fragment.programDateTime||this.fragment.sn}catch(c){a=b=0}return Math.round(a+b)};v.prototype.goLive=function(){this.setCurrentTime(this.getLiveTime())};v.prototype.getLiveTime=function(){return this.getDuration()-
this.getFragmentDuration()};v.prototype.isLive=function(){return this.getStartTime()+this.getCurrentTime()>=this.getLiveTime()};v.prototype.seek=function(a,b){var c=this;null==b&&(b=this.getStartTime());return v.__super__.seek.call(this,a+b).then(function(a){"dvr"===c.mediaProxy.getTemporalType()&&c.sendNotification(e.IS_LIVE,c.isLive())})};v.prototype.onplaying=function(a){v.__super__.onplaying.call(this);this.retried=!1};v.prototype.onError=function(a,b){this.userSwitched=!1;this.plugin.sendNotification(e.DISPATCH_EVENT,
new F("error",{event:a,data:b}));if(!0!==this.config.ignoreErrors)if(!1===this.config.retryOnError||!0===this.retried)this.retried=!1,this.error(b);else if(b.fatal&&b.type===Hls.ErrorTypes.MEDIA_ERROR&&b.details===Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&(b.fatal=!1),b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:this.retried=!0;this.manifestParsed?this.player.startLoad():this.player.loadSource(this.getSrc());this.facade.logger.error("[AMP HLS] Playback Error trying to recover:",a);break;
case Hls.ErrorTypes.MEDIA_ERROR:this.retried=!0;this.player.recoverMediaError();this.facade.logger.error("[AMP HLS] Playback Error trying to recover:",a);break;default:this.facade.logger.error("[AMP HLS] Playback Error:",a),this.error(b)}else b.details===Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&(this.fragErrorTime===this.getMediaElement().currentTime?(this.getMediaElement().currentTime++,this.facade.logger.error("[AMP HLS] Frag Loop Load Error, Seeking to :",this.getMediaElement().currentTime)):
this.fragErrorTime=this.getMediaElement().currentTime)};v.prototype.error=function(a){switch(a.type){case Hls.ErrorTypes.NETWORK_ERROR:a.code=MediaError.MEDIA_ERR_NETWORK;break;case Hls.ErrorTypes.MEDIA_ERROR:a.code=MediaError.MEDIA_ERR_DECODE;break;default:a.toString=function(){return a.message}}a.message=""+a.type+": "+a.details;this.sendNotification(e.ERROR,a)};v.prototype.createTracks=function(){var a,b,c,d,e,h,k,l,m,n;a=this.player.audioTracks;d=this.player.audioTrack;l=this.facade.tracks.getAudioTracks();
c=a.length;b=function(a,b){this.facade.tracks.getAudioTracks().forEach(function(a){return a.data.enabled=!1});!0===b&&(this.facade.tracks.getAudioTracks()[a.id].data.enabled=!0,this.player.audioTrack=a.id)};e=m=0;for(n=a.length;m<n;e=++m)h=a[e],!1!==f.fieldIsUnique(l,"id",h.id)&&(k=new Ea({kind:h.type,label:h.name||h.id,language:h.lang,id:h.id,enabled:h.id===d,data:h}),k.changeEnabled=b.bind(this,h),l.add(k,e+1===c))};v.prototype.setQuality=function(a){var b;this.setQualityMode(-1<a?"manual":"auto");
if(a===this.player.currentLevel)this.onLevelSwitching("hlsLevelSwitching",this.player.levels[a]),this.onLevelSwitched("hlsLevelSwitched",{level:a});else return null!=(b=this.player)&&(b.currentLevel=this.quality=a),this.quality};v.prototype.getQuality=function(){var a,b,c;a=null!=(b=this.player)?b.currentLevel:void 0;-1===a&&(a=null!=(c=this.player)?c.nextLoadLevel:void 0);return a};v.prototype.getQualityLevels=function(){var a;return(null!=(a=this.player)?a.levels:void 0)||v.__super__.getQualityLevels.call(this)};
v.prototype.getQualityMode=function(){return this.qualityMode};v.prototype.setQualityMode=function(a){"auto"!==a&&"manual"!==a?a+=" is not a valid key":this.qualityMode=a;return a};v.prototype.destroy=function(){null!=this.player&&(v.__super__.destroy.call(this),this.player.destroy(),this.player=null)};var kd=function(){kd.__super__.constructor.call(this)};h(kd,X);kd.prototype.execute=function(a){var b;"freewheel"===(null!=(b=a.getBody())?b.partner:void 0)&&(a=this.facade.player.getPlaybackRate(),
this.proxy.destroy(),this.facade.player.setPlaybackRate(a))};var eb=function(a){eb.__super__.constructor.call(this,a)};h(eb,da);eb.NAME=J.NAME;eb.prototype.playbackProxy=null;eb.prototype.createPlaybackProxy=function(){};eb.prototype.renderer=function(){var a,b=this;a=this.playbackProxy.renderer();return{id:a.id,canPlay:function(b){return null!=(window.MediaSource||window.WebKitMediaSource)&&a.canPlay(b)},factory:function(c){var d;d=Q.compose(Q.map(function(a){return w.resourceManager.item(c.evaluatePaths(a.src))}),
Q.filter(function(a){return"function"===typeof a||"function"===typeof(null!=a?a.then:void 0)}),Q.map(function(a){return"function"===typeof a?a():a}));return Promise.all(Q.seq(d,b.config.resources)).then(function(b){return a.factory(c)})}}};eb.prototype.initialize=function(){var a;this.playbackProxy=this.createPlaybackProxy();null!=this.playbackProxy&&(a=this.facade.player.retrieveProxy(S.NAME),a.registerRenderer(this.renderer()));this.sendNotification(e.INITIALIZED)};eb.prototype.destroy=function(){var a;
null!=(a=this.playbackProxy)&&a.destroy()};var Hb=function(a){Hb.__super__.constructor.call(this,a)};h(Hb,eb);Hb.NAME=J.NAME;Hb.prototype.defaults={types:["application/x-mpegURL"],data:{enableWorker:!0,enableCEA708Captions:!0},mae:null,buffer:null,quality:null,withCredentials:null,retryOnError:!0,ignoreErrors:!1};Hb.prototype.createPlaybackProxy=function(){return new v(this.getConfigurationData(),this.facade)};var y=function(a,b){this.plugin=b;y.__super__.constructor.call(this,a.types,a);this.buffer=
a.buffer;this.temporalTypes=["vod","live","dvr"]};h(y,ba);y.SCTE="urn:scte:scte35:2013:xml";y.prototype.playbackCoreName="dash";y.prototype.context=null;y.prototype.player=null;y.prototype.buffer=null;y.prototype.resumecomplete=function(){var a,b,c;try{b=null!=(c=this.facade.getMediaElement())?c.textTracks:void 0,0!==(null!=b?b.length:void 0)&&(a=b[0],null!=a&&(a.mode="hidden"))}catch(d){}y.__super__.resumecomplete.call(this)};y.prototype.onerror=function(){};y.prototype.ontimeupdate=function(a){y.__super__.ontimeupdate.call(this,
{target:{currentTime:this.getCurrentTime()}})};y.prototype.onseeked=function(a){y.__super__.onseeked.call(this,{target:{currentTime:this.getCurrentTime()}})};y.prototype.onseeking=function(a){y.__super__.onseeking.call(this,{target:{currentTime:this.getCurrentTime()}})};y.prototype.ondurationchange=function(a){y.__super__.ondurationchange.call(this,{target:{duration:this.getDuration()}})};y.prototype.onloadedmetadata=function(a){y.__super__.onloadedmetadata.call(this,a);this.sendNotification(e.CHANGE_DURATION,
this.getDuration())};y.prototype.oncanplaythrough=function(a){y.__super__.oncanplaythrough.call(this,a);this.sendNotification(e.CHANGE_DURATION,this.getDuration())};y.prototype.canPlayMedium=function(a){return y.__super__.canPlayMedium.call(this,a)||"audio"===a};y.prototype.createTracks=function(){var a,b,c,d,e,h,k,l,m,n;a=this.player.getTracksFor("audio");d=this.player.getCurrentTrackFor("audio");l=this.facade.tracks.getAudioTracks();c=a.length;b=function(a,b,c){this.facade.tracks.getAudioTracks().forEach(function(a){return a.data.enabled=
a===b});!0===c&&this.player.setCurrentTrack(a)};e=m=0;for(n=a.length;m<n;e=++m)h=a[e],!1!==f.fieldIsUnique(l,"id",h.id)&&(k=new Ea({kind:h.roles.join(" "),label:h.id,language:h.lang,id:h.id,enabled:h===d,data:h}),k.changeEnabled=b.bind(this,h,k),l.add(k,e+1===c))};y.prototype.getUseMAE=function(){return y.__super__.getUseMAE.call(this)&&"undefined"!==typeof MediaAccelerationDashJsWrapper&&null!==MediaAccelerationDashJsWrapper};y.prototype.load=function(){var a,b,c;a=this.config;null==this.player&&
(this.getUseMAE()?(this.facade.mae=new MediaAccelerationDashJsWrapper(a.mae),c=this.facade.mae.getPlayer()):c=dashjs.MediaPlayer().create(),c.on("error",this.onError.bind(this)),c.on("fragmentLoadingStarted",this.onFragmentLoadStart.bind(this)),c.on("fragmentLoadingCompleted",this.onFragmentLoaded.bind(this)),c.on("qualityChangeRequested",this.onLevelSwitching.bind(this)),c.on(dashjs.MediaPlayer.events.MANIFEST_LOADED,this.onManifestLoaded.bind(this)),c.on(dashjs.Protection.events.PROTECTION_CREATED,
this.onProtectionCreated.bind(this)),c.on(y.SCTE,this.onEmsg.bind(this)),c.getDebug().setLogToBrowserConsole(this.plugin.proxy.getDebug()),c.initialize(this.getMediaElement(),null,!0),null!=a.lowLatencyEnabled&&c.setLowLatencyEnabled(a.lowLatencyEnabled),null!=a.liveDelay&&c.setLiveDelay(a.liveDelay),null!=a.catchUpPlaybackRate&&c.setCatchUpPlaybackRate(a.catchUpPlaybackRate),null!=a.lowLatencyMaxDriftBeforeSeeking&&c.setLowLatencyMaxDriftBeforeSeeking(a.lowLatencyMaxDriftBeforeSeeking),null!=a.lowLatencyMinDrift&&
c.setLowLatencyMinDrift(a.lowLatencyMinDrift),null!=a.initialBitrate&&c.setInitialBitrateFor(this.facade.getMedia().medium,a.initialBitrate),this.player=c);c=this.facade.configuration.getValueOf("withCredentials",a);if(null!=c)for(b in"boolean"===typeof c&&(c={"default":c}),c)a=c[b],this.player.setXHRWithCredentialsForType(b,a);y.__super__.load.call(this)};y.prototype.applySrc=function(){var a;a=this.facade.getMedia().keys;null!=a&&this.player.setProtectionData(a);this.player.attachSource(this.getSrc());
this.getMediaElement().load()};y.prototype.seek=function(a){return Promise.resolve(this.player.seek(a))};y.prototype.getCurrentTime=function(){var a;return(null!=(a=this.player)?a.time():void 0)||0};y.prototype.getDuration=function(){var a;return(null!=(a=this.player)?a.duration():void 0)||0};y.prototype.getCurrentTimeUTC=function(){var a,b;a=(null!=(b=this.player)?b.timeAsUTC():void 0)||0;return Math.round(1E3*a)};y.prototype.getStats=function(){return{}};y.prototype.onFragmentLoadStart=function(a){this.sendNotification(e.FRAGMENT_LOAD_START,
a.request.mediaInfo.bitrateList[a.request.quality].bandwidth)};y.prototype.onFragmentLoaded=function(a){this.sendNotification(e.FRAGMENT_LOADED,a.request.mediaInfo.bitrateList[a.request.quality].bandwidth)};y.prototype.onLevelSwitching=function(a){this.sendNotification(e.QUALITY_CHANGING,this.getQualityLevels()[a.newQuality])};y.prototype.onManifestLoaded=function(a){this.plugin.sendNotification(e.DISPATCH_EVENT,new F(dashjs.MediaPlayer.events.MANIFEST_LOADED,a.data))};y.prototype.onProtectionCreated=
function(a){this.plugin.sendNotification(e.DISPATCH_EVENT,new F(dashjs.Protection.events.PROTECTION_CREATED,a.data))};y.prototype.onEmsg=function(a){var b,c,d,g,f;b=a.event;this.plugin.sendNotification(e.DISPATCH_EVENT,new F(a.type,b));a=DataCue||VTTCue;g=1E4*(b.presentationTime/b.presentationTimeDelta);c=g+1E4*(b.duration/b.presentationTimeDelta);f=String.fromCharCode.apply(null,b.messageData);d=pa.parse(f);b.text=f;b=new a(g,c,{key:y.SCTE,data:b,info:d});this.sendNotification(e.TIMED_METADATA,b)};
y.prototype.onError=function(a){this.plugin.sendNotification(e.DISPATCH_EVENT,new F(dashjs.MediaPlayer.events.ERROR,a.data));this.facade.logger.error("DASH JS Playback Error:",a)};y.prototype.setQuality=function(a){var b,c,d;null!=(b=this.player)&&b.setAutoSwitchQualityFor(null!=(c=this.facade.getMedia())?c.medium:void 0,-1===a);if(-1!==a)return null!=(d=this.player)?d.setQualityFor("video",a):void 0};y.prototype.getQuality=function(){var a;return null!=(a=this.player)?a.getQualityFor("video"):void 0};
y.prototype.getQualityLevels=function(){var a;return(null!=(a=this.player)?a.getBitrateInfoListFor("video"):void 0)||y.__super__.getQualityLevels.call(this)};y.prototype.getQualityMode=function(){var a,b;return!0===(null!=(a=this.player)?a.getAutoSwitchQualityFor(null!=(b=this.facade.getMedia())?b.medium:void 0):void 0)?"auto":"abr"};y.prototype.setQualityMode=function(a){var b,c;return"auto"!==a?a+" is not a valid key":null!=(b=this.player)?b.setAutoSwitchQualityFor(null!=(c=this.facade.getMedia())?
c.medium:void 0,a):void 0};y.prototype.destroy=function(){null!=this.player&&(this.player.reset(),y.__super__.destroy.call(this))};var pb=function(a){pb.__super__.constructor.call(this,a);Object.defineProperties(this,{instance:{get:this.getInstance,enumerable:!0,configurable:!1}})};h(pb,ya);pb.prototype.loadModuleResources=function(a){var b=this;null==a&&(a=this.config.resources);return pb.__super__.loadModuleResources.call(this,a).then(function(){var c;a=null!=(c=b.config.mae)?c.resources:void 0;
return w.addResources(b.evaluatePaths(a))})};pb.prototype.getPlaybackProxy=function(){return this.proxy.playbackProxy};pb.prototype.getInstance=function(){return this.getPlaybackProxy().player};var ld=function(){ld.__super__.constructor.call(this)};h(ld,puremvc.SimpleCommand);ld.prototype.execute=function(a){var b,c,d,f,h=this;d=a.getBody();this.facade.retrieveProxy(m.NAME);a=this.facade.getMediaElement();null!=a&&a.webkitSupportsFullscreen&&(c=this.facade.retrieveProxy(u.NAME),c.setDisplayState(d),
b={},f=this.facade.viewComponent,null!=f.requestFullscreen?(b.enter=function(){return f.requestFullscreen()},b.exit=function(){return document.cancelFullscreen()},b.event="onfullscreenchange",b.element="fullscreenElement"):null!=f.webkitRequestFullScreen?(b.enter=function(){return f.webkitRequestFullScreen()},b.exit=function(){return document.webkitCancelFullScreen()},b.event="onwebkitfullscreenchange",b.element="webkitFullscreenElement"):null!=f.mozRequestFullScreen?(b.enter=function(){return f.mozRequestFullscreen()},
b.exit=function(){return document.mozCancelFullScreen()},b.event="onmozfullscreenchange",b.element="mozFullscreenElement"):null!=f.msRequestFullScreen&&(b.enter=function(){return f.msRequestFullscreen()},b.exit=function(){return document.msCancelFullScreen()},b.event="onmozfullscreenchange",b.element="mozFullscreenElement"),d===L.FULL_SCREEN?(b.enter(),null!=b.event&&(a[b.event]=function(a){if(null==document[b.element])return h.sendNotification(e.CHANGE_DISPLAY_STATE,L.NORMAL)})):d===L.NORMAL&&(b.exit(),
a[b.event]=null),this.facade.dispatchEvent(new F("fullscreenchange",d===L.FULL_SCREEN)))};var Ib=function(a){Ib.__super__.constructor.call(this,a)};h(Ib,eb);Ib.NAME=J.NAME;Ib.prototype.defaults={types:["application/dash+xml"],buffer:null,mae:null,initialBitrate:null,lowLatencyEnabled:null,liveDelay:null,catchUpPlaybackRate:null,withCredentials:null};Ib.prototype.createPlaybackProxy=function(){return new y(this.getConfigurationData(),this.facade)};var Ia=function(){Ia.__super__.constructor.call(this)};
h(Ia,pb);Ia.prototype.moduleName="hls";Ia.prototype.createModel=function(){this.proxy=new Hb(this.config);this.registerProxy(this.proxy)};Ia.prototype.createController=function(){this.registerCommand(q.BREAK_START,kd);Ia.__super__.createController.call(this)};Ia.prototype.logEvent=function(a){!0!==/^hls/.test(a.type)&&Ia.__super__.logEvent.call(this,a)};Ia.prototype.listNotificationInterests=function(){return Ia.__super__.listNotificationInterests.call(this).concat([q.BREAK_START])};Ia.prototype.listNotificationPublications=
function(){return Ia.__super__.listNotificationPublications.call(this).concat([e.TIMED_METADATA,e.QUALITY_LEVELS_LOADED,e.QUALITY_CHANGE,e.QUALITY_CHANGING,e.FRAGMENT_LOAD_START,e.FRAGMENT_LOADED])};w.registerPlugin("hls","html",Ia);var Da=function(a){Da.__super__.constructor.call(this,a)};h(Da,da);Da.NAME=J.NAME;Da.prototype.defaults={config:null,dimensions:null,iplookup:!0};Da.prototype.ready=function(){try{!0===this.getDebug()&&(window.AkamaiAnalytics_debug=1),window.akamaiSetVideoObject(this.facade.player.getMediaElement())}catch(a){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",
"Could not set video tag",a)}!1===this.value.iplookup&&"function"===typeof akamaiDisableServerIpLookup&&akamaiDisableServerIpLookup()};Da.prototype.setDimensions=function(a){var b,c,d;b=this.data.dimensions;for(c in a)d=a[c],null!=d&&(b[c]=d);this.applyDimensions(b);return a};Da.prototype.applyDimensions=function(a){var b,c;if(null!=window.setAkamaiMediaAnalyticsData)try{for(b in a)c=a[b],setAkamaiMediaAnalyticsData(b,c)}catch(d){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]","Could not set dimensions:",
d)}};Da.prototype.setMedia=function(a){var b,c;"function"===typeof akamaiSetStreamURL&&akamaiSetStreamURL(a.src,!1);b=this.value.viewerId||this.value.viewerID||this.value["std:viewerId"];null!=b&&akamaiSetViewerId(b);b=null!=(null!=(c=a.mediaanalytics)?c.dimensions:void 0)?f.override(this.value.dimensions,a.mediaanalytics.dimensions):this.value.dimensions;akamaiHandleStreamSwitch();this.applyDimensions(b);return a};Da.prototype.udpateMedia=function(a){"function"===typeof akamaiHandleTitleSwitch&&
akamaiHandleTitleSwitch(a);return a};Da.prototype.fragmentLoadStart=function(a){"function"===typeof fragmentDownloadStarted&&fragmentDownloadStarted(a)};Da.prototype.fragmentLoaded=function(a){"function"===typeof fragmentDownloadCompleted&&fragmentDownloadCompleted(a)};Da.prototype.bitrateSwitch=function(a){"function"===typeof akamaiHandleBitRateSwitch&&akamaiHandleBitRateSwitch(a.bitrate)};var md=function(){md.__super__.constructor.call(this)};h(md,puremvc.SimpleCommand);md.prototype.execute=function(a){this.facade.retrieveProxy(Da.NAME).ready()};
var nd=function(){nd.__super__.constructor.call(this)};h(nd,X);nd.prototype.execute=function(a){this.proxy.setMedia(a.getBody())};var od=function(){od.__super__.constructor.call(this)};h(od,puremvc.SimpleCommand);od.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!0};var pd=function(){pd.__super__.constructor.call(this)};h(pd,puremvc.SimpleCommand);pd.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!1};var qd=function(){qd.__super__.constructor.call(this)};
h(qd,puremvc.SimpleCommand);qd.prototype.execute=function(a){var b,c;try{c=a.getBody(),b={adDuration:c.duration,adPartnerId:c.partner,adTitle:c.title,adId:c.id},"function"===typeof akamaiHandleAdLoaded&&akamaiHandleAdLoaded(b)}catch(d){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",d)}};var rd=function(){rd.__super__.constructor.call(this)};h(rd,X);rd.prototype.execute=function(a){try{"function"===typeof akamaiHandleAdStarted&&akamaiHandleAdStarted()}catch(b){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",
b)}};var sd=function(){sd.__super__.constructor.call(this)};h(sd,X);sd.prototype.execute=function(a){a=a.getBody();a=Math.round(100*(a.currentTime/a.duration));try{25<=a&&25>this.proxy.percent?(this.facade.logger.debug("MediaAnalytics: First Quartile"),"function"===typeof akamaiHandleAdFirstQuartile&&akamaiHandleAdFirstQuartile()):50<=a&&50>this.proxy.percent?(this.facade.logger.debug("MediaAnalytics: Second Quartile"),"function"===typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):75<=a&&75>
this.proxy.percent&&(this.facade.logger.debug("MediaAnalytics: Third Quartile"),"function"===typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile())}catch(b){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",b)}this.proxy.percent=a};var td=function(){td.__super__.constructor.call(this)};h(td,puremvc.SimpleCommand);td.prototype.execute=function(a){try{"function"===typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted()}catch(b){this.facade.logger.error("[AMP MEDIA ANALYTICS ERROR]",
b)}this.facade.player.getMediaElement().dataset.isad=!0};var ud=function(){ud.__super__.constructor.call(this)};h(ud,X);ud.prototype.execute=function(a){a=a.getBody();this.proxy.setDimensions(a)};var vd=function(){vd.__super__.constructor.call(this)};h(vd,X);vd.prototype.execute=function(a){this.proxy.updatedMedia(a.getBody())};var wd=function(){wd.__super__.constructor.call(this)};h(wd,X);wd.prototype.execute=function(a){this.proxy.fragmentLoadStart(a.getBody())};var xd=function(){xd.__super__.constructor.call(this)};
h(xd,X);xd.prototype.execute=function(a){this.proxy.fragmentLoaded(a.getBody())};var yd=function(){yd.__super__.constructor.call(this)};h(yd,X);yd.prototype.execute=function(a){this.proxy.bitrateSwitch(a.getBody())};var Qa=function(a,b){Qa.__super__.constructor.call(this,a,b)};h(Qa,ea);Qa.NAME="MediaAnalyticsWrapper";Qa.prototype.flashPlugins=[{id:"OSMFCSMALoader",host:"osmf",main:"com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo",type:"application/x-shockwave-flash"}];Qa.prototype.listNotificationInterests=
function(){return Qa.__super__.listNotificationInterests.call(this).concat([e.MEDIA_CHANGE,"mediaanalytics:setDimensions"])};Qa.prototype.createFlashVars=function(a){var b,c,d,e;b=null!=(d=this.player.config)?null!=(e=d.media)?e.mediaanalytics:void 0:void 0;if(null!=b)for(c in b)d=b[c],a["report_"+c]=d;return a};Qa.prototype.createXML=function(a){var b,c,d,e,f;b=a.firstChild;d=a.getElementsByTagName("metrics")[0];null==d&&(d=a.createElement("metrics"),b.appendChild(d));b=a.createElement("vendor");
b.setAttribute("id","akamai");d.appendChild(b);null!=this.config.config&&(d=a.createElement("property"),d.setAttribute("key","MEDIA_ANALYTICS_BEACON"),d.appendChild(pa.createTextContent(a,this.config.config)),b.appendChild(d),f=(null!=(c=this.config.plugin)?c.swf:void 0)||"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf",d=a.createElement("property"),d.setAttribute("key","MEDIA_ANALYTICS_PLUGIN_PATH"),d.appendChild(pa.createTextContent(a,f)),b.appendChild(d));if(null!=this.config.dimensions)for(e in c=
a.createElement("property"),c.setAttribute("key","dimensions"),b.appendChild(c),f=this.config.dimensions,f)b=f[e],d=a.createElement("property"),d.setAttribute("key",e),d.appendChild(pa.createTextContent(a,b)),c.appendChild(d);return a};Qa.prototype.handleNotification=function(a){var b,c,d;Qa.__super__.handleNotification.call(this,a);c=a.getName();a=a.getBody();switch(c){case e.MEDIA_CHANGE:if(null!=(null!=(d=a.mediaanalytics)?d.dimensions:void 0))for(b in a.dimensions=[],d=a.mediaanalytics.dimensions,
d)c=d[b],a.dimensions.push({key:b,value:c});break;case "mediaanalytics:setDimensions":this.setDimensions(a)}};Qa.prototype.setDimensions=function(a){this.player.mediaElement.setPlayerProperty("maDimensions",a);return a};var lb=function(){lb.__super__.constructor.call(this)};h(lb,pb);lb.prototype.moduleName="dash";lb.prototype.createModel=function(){this.proxy=new Ib(this.config);this.registerProxy(this.proxy)};lb.prototype.registered=function(){this.player.registerCommand(e.CHANGE_DISPLAY_STATE,ld);
lb.__super__.registered.call(this)};lb.prototype.listNotificationPublications=function(){return lb.__super__.listNotificationPublications.call(this).concat([e.FRAGMENT_LOAD_START,e.FRAGMENT_LOADED])};w.registerPlugin("dash","html",lb);var Ya=function(){Ya.__super__.constructor.call(this)};h(Ya,ya);Ya.prototype.moduleName="mediaanalytics";Ya.prototype.initialize=function(a,b){window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=a.config;Ya.__super__.initialize.call(this,a,b)};Ya.prototype.createModel=function(){this.proxy=
new Da(this.config);this.registerProxy(this.proxy)};Ya.prototype.createController=function(){Ya.__super__.createController.call(this);this.registerCommand(e.READY,md);this.registerCommand(e.MEDIA_CHANGE,nd);this.registerCommand(q.BREAK_START,od);this.registerCommand(q.BREAK_END,pd);this.registerCommand(q.AD_LOADED,qd);this.registerCommand(q.AD_STARTED,rd);this.registerCommand(q.AD_TIME_UPDATE,sd);this.registerCommand(q.AD_ENDED,td);this.registerCommand("mediaanalytics:setDimensions",ud);this.registerCommand(e.CONTENT_CHANGED,
vd);this.registerCommand(e.FRAGMENT_LOAD_START,wd);this.registerCommand(e.FRAGMENT_LOADED,xd);this.registerCommand(e.QUALITY_CHANGE,yd)};Ya.prototype.listNotificationInterests=function(){return[e.READY,e.MEDIA_CHANGE,q.BREAK_START,q.BREAK_END,q.AD_LOADED,q.AD_STARTED,q.AD_TIME_UPDATE,q.AD_ENDED,"mediaanalytics:setDimensions",e.CONTENT_CHANGED,e.FRAGMENT_LOAD_START,e.FRAGMENT_LOADED,e.QUALITY_CHANGE]};Ya.prototype.setDimensions=function(a){this.retrieveProxy(Da.NAME).setDimensions(a);return a};w.registerPlugin("mediaanalytics",
"html",Ya);w.registerPlugin("mediaanalytics","flash",Qa);var zd=function(a){function b(a,d,e){babelHelpers.classCallCheck(this,b);var f=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));f.player=a;f.config=d||{};f.key=e;f.logger=new V(f.debug);Object.values(Events).forEach(function(a){var b=f["on"+a];null!=b&&"function"==typeof b&&(b=f["on"+a]=b.bind(f),f.player.addEventListener(a,b))});return f}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"bindHandlers",
value:function(a){var b=this;!1==a instanceof Array&&(a=[a]);a.forEach(function(a){b[a]=b[a].bind(b)})}},{key:"destroy",value:function(){var a=this;Object.values(Events).forEach(function(b){var e=a["on"+b];null!=e&&"function"==typeof e&&a.player.removeEventListener(b,e)});babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);a.player=null;a.config=null;a.key=null}},{key:"debug",get:function(){return null!=this.config.debug?this.config.debug:this.player.config.debug}},
{key:"data",get:function(){return this.player.evaluateBindings(this.config)}}],[{key:"createFactory",value:function(a){return function(a,b,c){var e=this;return new Promise(function(f,h){try{var k=new e(a,b,c);f(k)}catch(m){h(m)}})}.bind(a)}},{key:"createPureMVCFactory",value:function(a){return function(b,e,f){return new Promise(function(f,h){try{var k=new a;k.parentModule=b;k.player=b;k.config=e;b.registerModule(k);f(k)}catch(m){h(m)}})}}},{key:"createPureMVCFlashFactory",value:function(a){return function(b,
e,f){return new Promise(function(f,h){try{var k=new a(b,e);b.registerMediator(k);var m="function"===typeof k.getFeatureName?k.getFeatureName():void 0;null!=m&&(b[m]=k);null!=k.flashView&&(b.flashView=akamai.amp.Utils.override(b.flashView,k.flashView));f(k)}catch(n){h(n)}})}}}]);return b}(ra),Id=function(a){function b(a,d){babelHelpers.classCallCheck(this,b);var e=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d));e.feature="ads";return e}babelHelpers.inherits(b,
a);babelHelpers.createClass(b,[{key:"dispatchEvent",value:function(a){var d=a.type;"timeupdate"!=d&&"timeremaining"!=d&&this.player.logger.log("[AMP AD EVENT] "+d,a);"function"===typeof this.player.sendNotification&&this.player.sendNotification("ads"+d,a.detail);babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"dispatchEvent",this).call(this,a);this.player.dispatch("ad"+d,a.detail)}}]);return b}(zd),Jd=function(a){function b(a,d){babelHelpers.classCallCheck(this,b);var e=
babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d));e.feature="auth";e.provider=null;e.providers=null;return e}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"dispatchEvent",value:function(a){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"dispatchEvent",this).call(this,a);Object.values(akamai.amp.AuthEvents).includes(a.type)&&this.player.dispatchEvent(a)}}]);return b}(zd),Kd=function(a){function b(a,d){babelHelpers.classCallCheck(this,
b);var e=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d));e.player.createDefaults.call(e);e.player.addEventListener("createflashvars",e.createFlashVars.bind(e));e.player.addEventListener("createxml",e.createXML.bind(e));return e}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"createFlashVars",value:function(a){}},{key:"createXML",value:function(a){}},{key:"createProperty",value:function(a,b,e,f){var h=a.createElement("property");h.setAttribute("key",
b);null!=f&&f.appendChild(h);if(null!=e)if("object"!==("undefined"===typeof e?"undefined":babelHelpers.typeof(e))||e instanceof Array)a=akamai.amp.XMLUtils.createTextContent(a,e.toString()),h.appendChild(a);else for(var k in e)this.createProperty(a,k,e[k],h);return h}},{key:"flashPlugins",get:function(){return[]}}]);return b}(zd);Jb.akamai={fp:Q,amp:{AMP:w,Amp:w,AMPError:Ta,AmpError:Ta,utils:{Timer:ia,Utils:f,QueryString:ja,Logger:V.instance,MRSSHelper:mb},CSS:Ga,Timer:ia,Utils:f,ID3:fb,Poller:O,
Cookies:xc,ActiveState:ab,PlayState:aa,DisplayState:L,PlaybackMode:sa,QueryString:ja,Logger:V,Config:Na,XMLUtils:pa,IdleUtil:la,chromecast:{ChromeCastShim:"undefined"!=typeof ChromeCastShim?ChromeCastShim.getInstance():null},Resource:wb,Media:ga,Authorization:Lb,Event:F,Events:Events,EventDispatcher:ra,Plugin:zd,FlashPlugin:Kd,AdPlugin:Id,DataBinding:Ja,Logger:V,Transformer:xb,TransformType:za,AutoplayPolicy:Kb,AutoplayThreshold:AutoplayThreshold,OverlayMediator:Ma,Notifications:e,DataBoundConfigurationProxy:oa,
ApplicationStateProxy:u,PlayerProxy:S,WebVTTParser:Zc,SRTParser:Cd,SMPTETTParser:cd,CaptionCue:kb,CaptionTrack:Ca,Cue:jb,ads:{AdPlugin:R,AdVO:ha,AdProxy:z,AdNotifications:q,AdRequest:Gb,AdWrapper:K},Ad:ha,AuthPlugin:Jd,AuthProvider:Bd,AuthProviderList:ic,Authorization:Lb,AuthEvents:xa}};Object.defineProperties(Jb.akamai.amp,{Settings:{get:na.GET,enumerable:!0,configurable:!1}});"undefined"!=typeof q&&(Jb.akamai.amp.AdEvents=function(){var a={},b;for(b in q)a[b.replace(/^AD_/,"")]=q[b].replace(/^ads/,
"");return a}());window.AKAMAI_MEDIA_PLAYER.saveSDK("AMP v4.123.14",Jb)}window.AKAMAI_MEDIA_PLAYER.setVersion("AMP v4.123.14")})();